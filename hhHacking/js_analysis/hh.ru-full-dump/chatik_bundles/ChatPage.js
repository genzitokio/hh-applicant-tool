"use strict";(globalThis.__chatik_LOADABLE_LOADED_CHUNKS__=globalThis.__chatik_LOADABLE_LOADED_CHUNKS__||[]).push([["3551"],{66046:function(e,t,a){a.d(t,{Z:()=>h});var s=a(3891),i=a(63116),n=a.n(i);const c="wrapper--iN2v1DSOs7gGu8cx",o="iframe--R13PXh0Lw4u9Rnef",l="iframe_loading--j83eXHmz85g89glc";var r=a(4201);const d=({src:e,dataQa:t,loader:a=null})=>{const[i,d]=(0,s.useState)(Boolean(a)),h=(0,s.useRef)(null),u=()=>{d(!1)};(0,s.useEffect)((()=>{const e=e=>{try{const t=JSON.parse(e.data);t&&"iframeContentLoaded"===(null==t?void 0:t.name)&&u()}catch(e){}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]);const m=new URL(e);return m.searchParams.set("openedInsideChatik","true"),(0,r.jsxs)("div",{className:c,children:[i&&a,(0,r.jsx)("iframe",{ref:h,src:m.toString(),className:n()(o,{[l]:i}),onLoad:u,"data-qa":t,width:"100%",height:"100%"})]})};d.displayName="components/IFrame/index/IFrame";const h=(0,s.memo)(d)},59890:function(e,t,a){a.d(t,{Z:()=>p});var s=a(3891),i=a(56067),n=a.n(i),c=a(48867),o=a(49727),l=a(13018),r=a(47400),d=a(68390),h=a(17223);const u="chatik.resumeError.deleted",m="chatik.resumeError.untrustedEmployer",v="chatik.resume.applicantResumes",p=()=>{const e=(0,c.v)(r.W4),t=(0,c.v)(r.km),a=(0,c.v)(r.Fq),i=(0,c.v)(l.sW),p=(0,c.v)((e=>e.userType)),g=(0,c.v)((({chatData:e})=>e.chat)),x=(0,c.v)((e=>e.siteRoot)),y=(0,o.T)(),j=(0,s.useCallback)((()=>n()({chatId:g.id})),[g.id]);return i?null:e?{title:y[m]}:"SUPPORT"===g.type&&p===d.Z.Applicant?{href:`${x}/applicant/resumes?hhtmFrom=chat`,title:y[v]}:t?{href:(0,h.LB)({siteRoot:x,userType:p,resumeHash:t.hash,negotiationTopic:a}),title:t.title,onClick:j}:{title:y[u]}}},25179:function(e,t,a){a.r(t),a.d(t,{default:()=>sa});var s=a(3891),i=a(84434),n=a(30329),c=a(48867),o=a(60186),l=a(16637),r=a(26442),d=a(7563),h=a(38618),u=a(95983),m=a(55750),v=a(3216),p=a(13018),g=a(89156),x=a(40510),y=a(75539),j=a(63116),f=a.n(j),k=a(47400),w=a(24488),N=a(36047),I=a(63144),_=a(69441),b=a(58342),S=a(16347),A=a(4201);const C={[S.H.Assesment]:"chatik.negotiations.assessment",[S.H.Consider]:"chatik.negotiations.consider",[S.H.Hired]:"chatik.negotiations.hired",[S.H.Interview]:"chatik.negotiations.interview",[S.H.Offer]:"chatik.negotiations.offer",[S.H.PhoneInterview]:"chatik.negotiations.phone_interview",[S.H.DiscardByEmployer]:"chatik.negotiations.discard_by_employer.softFrom",[S.H.DiscardByApplicant]:"chatik.negotiations.discard_by_applicant",[S.H.DiscardNoInteraction]:"chatik.negotiations.discard_no_interaction",[S.H.DiscardToOtherVacancy]:"chatik.negotiations.discard_to_other_vacancy",[S.H.DiscardVacancyClosed]:"chatik.negotiations.discard_vacancy_closed",inviteToAnother:"chatik.negotiations.invite_to_other"},H=(e,t="")=>`/chat/${e}/workflow/${t}`,D={[S.H.Assesment]:(0,A.jsx)(b.zkP,{}),[S.H.Consider]:(0,A.jsx)(b.hG$,{}),[S.H.Hired]:(0,A.jsx)(b.TBQ,{}),[S.H.Offer]:(0,A.jsx)(b.GhD,{}),[S.H.Interview]:(0,A.jsx)(b.CxN,{}),[S.H.PhoneInterview]:(0,A.jsx)(b.CxN,{})},R=({trls:e,states:t,chatId:a,withInviteToAnotherVacancy:i,children:n,dataQa:c,size:o})=>{const l=(0,N.usePush)(),[r,d]=(0,s.useState)(!1),h=(0,s.useRef)(null),u=(0,s.useRef)(null),m=t=>e[C[t]],v=()=>{d((e=>!e))},p=e=>()=>{(e=>{w.default.sendHHEventButtonClick("chat_fast_stage_change",{stage:e})})(e),l(H(a,e))};return(0,s.useEffect)((()=>{u.current=document.getElementById("chatik-layout")}),[]),Array.isArray(t)?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I.z,{"data-qa":c,ref:h,size:o,style:"neutral",mode:"secondary",icon:n?null:"small"===o?(0,A.jsx)(b.t_N,{}):(0,A.jsx)(b.yRg,{}),hideLabel:!n,"aria-label":"more topics",onClick:v,children:n}),(0,A.jsx)(_.S,{visible:r,onClose:v,dropProps:{ignoreIntersections:!1,preferredViewport:u,activatorRef:h,placement:"top-left",maxWidth:375},children:(0,A.jsxs)("ul",{role:"menu",children:[t.map((e=>(0,A.jsx)("li",{children:(0,A.jsx)(I.z,{style:"neutral",mode:"tertiary",icon:D[e],stretched:Boolean(D[e]),onClick:p(e),children:m(e)})},e))),i&&(0,A.jsx)("li",{children:(0,A.jsx)(I.z,{stretched:!0,style:"neutral",mode:"tertiary",onClick:()=>l(H(a)),icon:(0,A.jsx)(b.Jj7,{}),children:e[C.inviteToAnother]})})]})})]}):(0,A.jsx)(I.z,{"data-qa":`chatik-stage-change-to-${t}`,size:o,style:"neutral",mode:"secondary",onClick:p(t),children:n})};R.displayName="components/WorkflowActions/ChangeTopicButton/ChangeTopicButton";const T=(0,g.Z)(R),Z="container--qcusLn5dgW705GZo",E="item--BTzydVsbgRSxI4HX",L="item_medium--XhE6kJriTU75flzI",O={HIRED:"chatik.negotiations.hired",OFFER:"chatik.negotiations.offer",PHONE_INTERVIEW:"chatik.negotiations.phone_interview",discard:"chatik.negotiations.discard_by_employer",invite:"chatik.negotiations.invite"},P=({trls:e,size:t="small",className:a})=>{const i=(0,c.v)((({chatData:e})=>e.chat)),n=(0,c.v)(k.Fq),o=(0,c.v)(p.AV),l=(0,c.v)((e=>e.chatData.negotiationTopicsAvailableStates)),r=null==n?void 0:n.currentEmployerState,d=f()(E,{[L]:"medium"===t}),[[h,u],m]=(e=>{const{DiscardByEmployer:t,DiscardByApplicant:a,DiscardNoInteraction:s,DiscardVacancyClosed:i,DiscardToOtherVacancy:n,Response:c,...o}=S.H,l=[t,a,s,n,i];switch(e){case S.H.DiscardByEmployer:case S.H.DiscardByApplicant:case S.H.DiscardNoInteraction:case S.H.DiscardToOtherVacancy:case S.H.DiscardVacancyClosed:return[[S.H.PhoneInterview],[]];case S.H.PhoneInterview:{const{Offer:e,PhoneInterview:t,...a}=o;return[[e,l],Object.values(a)]}case S.H.Offer:{const{Hired:e,Offer:t,...a}=o;return[[e,l],Object.values(a)]}default:{const{PhoneInterview:t,...a}=o;return[[t,l],Object.values(a).filter((t=>t!==e))]}}})(r),v=(0,s.useMemo)((()=>l?m.filter((e=>l.includes(e))):m),[l,m]);return o?(0,A.jsx)("div",{className:f()(Z,a),children:(0,A.jsx)("div",{className:d,children:(0,A.jsx)(T,{chatId:i.id,size:t,children:e[O.invite]})})}):(0,A.jsxs)("div",{className:f()(Z,a),children:[(0,A.jsx)("div",{className:d,children:(0,A.jsx)(T,{chatId:i.id,states:h,size:t,dataQa:"chatik-stage-change-invite-list",children:e[O[h]]})}),u&&(0,A.jsx)("div",{className:d,children:(0,A.jsx)(T,{chatId:i.id,states:u,size:t,dataQa:"chatik-stage-change-discard-list",children:e[O.discard]})}),(0,A.jsx)("div",{className:d,children:(0,A.jsx)(T,{dataQa:"chatik-stage-change-more",chatId:i.id,states:v,withInviteToAnotherVacancy:!0,size:t})})]})};P.displayName="components/WorkflowActions/index/WorkflowActions";const B=(0,g.Z)(P);var W=a(71473),V=a(29801),z=a(29725),F=a(89059);const U=({type:e,actionType:t,uuid:a,children:i})=>{const n=(0,c.v)((e=>e.chatData.chat.id)),{canWrite:o,sendMessageImmediately:l}=(0,z.ZP)(),r=e===V.sW.Action&&t===V.L2.CloseChat&&F.vK,d=e===V.sW.Message&&o;(0,s.useEffect)((()=>{w.default.sendHHEvent("element_shown",{elementName:"chat_suggestion_button",type:e,text:i,chatId:n,suggestionUuid:a})}),[n,i,a,e]);return r||d?(0,A.jsx)(I.z,{size:"small",style:d?"accent":"neutral",mode:"secondary",onClick:()=>{w.default.sendHHEventButtonClick("chat_suggestion_button",{type:e,text:i,chatId:n,suggestionUuid:a}),r?(0,F.AW)("close"):l({text:i,suggestionUuid:a})},children:i}):null};U.displayName="ChatActions/Suggestions/SuggestionButton/SuggestionButton";const M=(0,s.memo)(U),q="container--aP8SI3WqBDwGg_f5",X=()=>{const e=(0,c.v)((({chatData:e})=>{var t;return null===(t=e.suggestions)||void 0===t?void 0:t.suggestionOptions.options})),t=(0,c.v)((({chatData:e})=>{var t;return null===(t=e.suggestions)||void 0===t?void 0:t.uuid}));return e&&t?(0,A.jsx)("div",{className:q,children:e.map((e=>(0,A.jsx)(M,{type:e.type,actionType:e.actionType,uuid:t,children:e.text},e.text)))}):null};X.displayName="ChatActions/Suggestions/index/Suggestions";const G=X,Q="not-allowed-warning--NbfXlvyYL8lTX5fY",Y="chat-actions--LCC2MHxWtuYRo8AY",K="workflow-actions-container--Am_U9spUAeQUwu2m",$="chatik.AIAssistantTyping.lockMessage",J=({scrollWrapperRef:e,fetchLinkPreviewsDisabled:t,onMessageTextChange:a,trls:i})=>{const{isApplicant:n}=(0,v.Z)(),o=(0,c.v)((({chatData:e})=>e.chatStates.writeMessageState)),l=(0,c.v)((({editMessage:e})=>Boolean(null==e?void 0:e.id))),r=o.allowed||l,d=o.reason===V.R.AIAssistantTyping,[u]=(0,h.Z)(),m=(0,W.Z)(),p=!u&&m,g=(0,s.useCallback)((e=>{null==a||a(e.target.value)}),[a]);return r||d?(0,A.jsxs)("div",{className:Y,children:[p&&(0,A.jsx)(B,{className:K}),n&&(0,A.jsx)(G,{}),(0,A.jsx)(x.x,{scrollWrapperRef:e,enablePreview:!0,enableLinkPreview:!t,borderScrollValue:p?0:16,onChange:g,isSendingDisabled:d,sendingDisabledHint:i[$]})]}):(0,A.jsx)(y.Z,{className:Q})};J.displayName="components/ChatActions/index/ChatActions";const ee=(0,g.Z)(J);var te=a(41082),ae=a(75790),se=a(2840),ie=a(61384),ne=a(51531),ce=a(20446),oe=a(24087),le=a(53416),re=a(87884),de=a(54075),he=a(46192);const ue=e=>e.webcall.serviceEnabled;var me=a(80426),ve=a(58086),pe=a(26825),ge=a(69233),xe=a.n(ge),ye=a(33853),je=a.n(ye),fe=a(97286),ke=a.n(fe),we=a(53581),Ne=a(71495),Ie=a(69007),_e=a(85322);const be=e=>{const[t,a]=(0,s.useState)(!1),[i]=(0,s.useState)("1"===_e.Y.getItem(e));return{isShown:t,show:(0,s.useCallback)((()=>{_e.Y.getItem(e)||(a(!0),_e.Y.setItem(e,"1"))}),[e]),hide:(0,s.useCallback)((()=>a(!1)),[]),wasShown:i}},Se="chatik_open_in_new_tab_tooltip_shown",Ae="chatik_was_show_resume_tooltip_shown",Ce="chatik_web_call_tooltip_shown",He="chatik.webcall.tooltip",De=({trls:e})=>{const t=(0,c.v)(p.TC),a=(0,c.v)((({isSudo:e})=>e)),{isMobile:i}=(0,ie.G)(),n=(0,s.useRef)(null),{isShown:o,show:l,hide:r,wasShown:d}=be(Ce),h=(0,Ie.Z)(),{wasShown:u}=be(Ae),{wasShown:m}=be(Se),[v]=(0,s.useState)(!o),g=(0,s.useRef)(null),x=(0,c.v)((({platform:e})=>e));if((0,s.useEffect)((()=>{i||d&&(!u&&h||!m||d)||(setTimeout((()=>l()),300),setTimeout((()=>{n.current&&t&&ke()(n.current,{resumeId:t.resumeId,hhtmSource:"chat"})}),1e3))})),null==t||!t.phone)return null;const y=e[He],j=String(t.topicId),f=()=>(0,A.jsx)("div",{ref:n,onClick:r,"data-qa":"webcall-tip-content",children:y});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(w.ElementShownAnchor,{fn:xe(),resumeId:t.resumeId,topicId:j,hhtmSource:"chat",children:(0,A.jsx)(te.a,{ref:g,"data-qa":"chatik-call-btn",mode:"primary",style:"neutral",icon:b.PdJ,"aria-label":"call",onClick:()=>{a||(r(),je()({resumeId:t.resumeId,hhtmSource:"chat",topicId:j,chatPlatform:x}),t&&(0,F.AW)("startCall",{...t,phone:t.phone}))}})}),(0,A.jsx)(we.u,{visible:o,placement:"bottom-center",onClose:r,activatorRef:g,children:f()}),v&&(0,A.jsx)(Ne.p,{placement:"bottom-center",activatorRef:g,children:f()})]})};De.displayName="DialogHeader/ActionButton/Call/CallButton";const Re=(0,g.Z)(De);var Te=a(99222);const Ze=({chatId:e})=>{const[t,a]=(0,s.useState)(!1),i=(0,s.useRef)(null),n=()=>{a(!1)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(te.a,{ref:i,"data-qa":"chatik-chat-menu",mode:"primary",style:"neutral",icon:b.cRg,"aria-label":"menu",onClick:()=>a((e=>!e))}),(0,A.jsx)(_.S,{visible:t,onClose:n,dropProps:{placement:"bottom-right",activatorRef:i,maxWidth:388},children:(0,A.jsx)(Te.Z,{close:n,chatId:e,view:"plain"})})]})};Ze.displayName="DialogHeader/ActionButton/Menu/Menu";const Ee=Ze,Le=({chatId:e,kind:t})=>"menu"===t?(0,A.jsx)(Ee,{chatId:e}):"call"===t?(0,A.jsx)(Re,{}):null;Le.displayName="DialogHeader/ActionButton/index/ActionButton";const Oe=(0,s.memo)(Le);var Pe=a(66802),Be=a(59890),We=a(17223),Ve=a(31086),ze=a.n(Ve),Fe=a(65740),Ue=a.n(Fe);const Me="chatik.subheader.resume.show",qe="chatik.subheader.resume.tipText",Xe=({trls:e})=>{const{isShown:t,show:a,hide:i}=be(Ae),n=(0,c.v)((e=>e.isThirdColumnShown)),o=(0,r.Z)(),l=(0,s.useRef)(null);return n?null:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I.z,{ref:l,size:"small",style:"accent",mode:"tertiary",onMouseEnter:a,onClick:()=>{(0,F.AW)("changeLayout",{view:n?"medium":"full"});(n?ze():Ue())({chatId:o}),i()},children:e[Me]}),(0,A.jsx)(we.u,{visible:t,placement:"left-center",activatorRef:l,children:(0,A.jsx)("div",{onClick:i,children:e[qe]})})]})};Xe.displayName="DialogHeader/SubHeader/ResumeToggler/ResumeToggler";const Ge=(0,g.Z)(Xe),Qe="sub-header--PRQ2T3w0dmg7bI0A",Ye="intention--X56lAr34sYMPHj_X",Ke="intention-wrapper--pTek2dpFD6YinvSY",$e="content--mWTZ1a_CQ_AEmXQt",Je="link-actions--eu107wfoMAVHg22l",et="chatik.vacancyError.notAvailavle",tt="chatik.vacancyLink.cv",at="chatik.vacancyLink.vacancy",st="chatik.vacancyLink.open",it="chatik.resumeLink.open",nt=({trls:e})=>{const t=(0,c.v)(k.A1),a=(0,c.v)(k.km),s=(0,c.v)(k.W4),i=(0,c.v)(p.AV),n=(0,c.v)(p.sW),o=(0,c.v)(p.BK),l=(0,Ie.Z)(),{isWidgetIframe:r}=(0,de.Z)(),{isApplicant:d,isEmployer:h}=(0,v.Z)(),u=(0,Be.Z)(),m=(d||n)&&t,g=r&&l&&(null==a?void 0:a.hash)&&!s,x=()=>(0,A.jsxs)("div",{className:Je,children:[g&&(0,A.jsx)(Ge,{}),(m||(null==u?void 0:u.href))&&(0,A.jsx)(I.z,{Element:"a","data-qa":m?"chatik-header-vacancy-link":void 0,href:m?(0,We.ni)(t.links.desktop):null==u?void 0:u.href,target:"_blank",size:"small",style:"accent",mode:"tertiary",icon:(0,A.jsx)(b.A$e,{}),onClick:null==u?void 0:u.onClick,children:e[m?st:it]})]});return(0,A.jsx)("div",{className:Qe,children:o||i&&h?(0,A.jsxs)("div",{className:$e,children:[(0,A.jsxs)("span",{className:Ke,children:[(0,A.jsx)("span",{className:Ye,children:e[tt]}),null==u?void 0:u.title]}),x()]}):t?(0,A.jsxs)("div",{className:$e,children:[(0,A.jsxs)("span",{className:Ke,children:[(0,A.jsx)("span",{className:Ye,children:m?e[at]:e[tt]}),m?t.name:null==u?void 0:u.title]}),x()]}):(0,A.jsx)(Pe.x,{style:"tertiary",children:e[et]})})};nt.displayName="DialogHeader/SubHeader/index/SubHeader";const ct=(0,g.Z)(nt),ot="container--j0H8ccydF6w3zFUY",lt="user-details--ljJURDVowcIaWt3Y",rt="title--WcXHusR6Z3Ilz3_5",dt="participant-avatar--CVOstOKLxjwQN_fV",ht="action-buttons--KGOVrcGHqVA7Nfd0",ut=({isLoading:e})=>{const t=(0,s.useRef)(null),{chat:a,display:i}=(0,oe.Z)(e),n=(0,c.v)((e=>e.shouldCloseOnBack)),o=(0,c.v)((({chatData:e})=>e.chat.ownerViolatesRules)),l=(0,c.v)(ue),r=(0,c.v)(p.AV),d=(0,c.v)(p.sW),h=(0,c.v)(p.BK),u=(0,c.v)(k.km),{isMobile:m}=(0,ie.G)(),{isApplicant:g,isEmployer:x,userType:y}=(0,v.Z)(),j=(0,N.usePush)(),{isParentGtXS:f,isParentDesktopDisplayType:I}=(0,de.Z)(),_=(0,he.Xl)(),{onlineUntilTime:S}=a,C=g?i.subtitle:i.title,H=a.ownerViolatesRules||!C,D="SUPPORT"===a.type,R="NEGOTIATION"===a.type,T=x&&I&&f&&l&&_,{avatarImage:Z}=(0,re.Z)({isUnknownUser:H,image:i.icon}),E=(0,s.useCallback)((()=>{if(n&&F.vK)return w.default.sendHHEventButtonClick("chat_close",{type:"CROSS_CLICK"}),void(0,F.AW)("close");j("/chat")}),[n,j]),L=()=>!H&&!D&&("GENAI"===a.subType||!!S&&(0,ve.Dp)(S)===ve.$r.ONLINE),O=!e&&!a.ownerViolatesRules&&(R||d||h&&u||r&&x);return(0,A.jsxs)("div",{ref:t,children:[(0,A.jsx)(le.Z,{className:ot,firstSlot:(0,A.jsxs)("div",{className:dt,children:[m&&(0,A.jsx)(te.a,{icon:b.ee,mode:"primary",style:"neutral","aria-label":"back to chats","data-qa":"chatik-back-to-chats-button",onClick:E}),(0,A.jsx)(ne.Z,{size:40,shapeCircle:"circle"===(0,me.a)(y,a.type,a.subType),"aria-label":C,letters:(0,pe.$)(null!==(P=null==C?void 0:C.toUpperCase())&&void 0!==P?P:""),isBlocked:o,isEmployer:x,avatarImage:Z,online:L()})]}),lastSlot:(0,A.jsxs)("div",{className:ht,children:[T&&!e&&(0,A.jsx)(Oe,{kind:"call",chatId:a.id}),!e&&(0,A.jsx)(Oe,{chatId:a.id,kind:"menu"})]}),children:(0,A.jsx)("div",{className:lt,children:(0,A.jsxs)("div",{"data-qa":"participant-info-details",children:[(0,A.jsx)("div",{className:rt,children:(R||r||d)&&g?i.subtitle:i.title}),(0,A.jsx)(ce.Y,{online:L(),loading:e})]})})}),O?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ct,{}),(0,A.jsx)(ae.X,{default:8})]}):(0,A.jsx)(se.i,{mode:"horizontal"})]});var P};ut.displayName="components/DialogHeader/index/DialogHeader";const mt=ut;var vt=a(21438),pt=a(61477),gt=a(34343),xt=a(86482),yt=a(92705);const jt="chatik.ownerViolatesRules.title",ft="chatik.ownerViolatesRules.description",kt=({trls:e})=>{const{isXS:t}=(0,ie.G)(),a=(0,pt.l)(xt);return(0,A.jsx)("div",{className:yt.Z.dialogSplashScreen,children:(0,A.jsx)(gt.V,{maxWidth:412,image:a,imageHeight:t?163:288,title:e[jt],description:e[ft]})})};kt.displayName="Chat/components/OwnerViolatesRules/OwnerViolatesRules";const wt=(0,g.Z)(kt);var Nt=a(45150),It=a(4305),_t=a(66046),bt=a(49727),St=a(68390);const At="resume--pOO19Nrh88kJC8NU",Ct="iframe-container--xn6AxXWA90gJGOyt",Ht="loader--XdD0PT7bZ9MKTIBZ",Dt="loader-title--e3xhwyhBaA9akhrZ",Rt="loader-text--ReM8EkEHooQU7Q5U",Tt="resume-header--yA0PEJWlFQEsXJz3",Zt="resume-title--q7WbbSVOpgo7amHK",Et="resume-footer--LP7gPPICFuMsK7lA",Lt=(0,n.makeSetStoreField)("isThirdColumnShown"),Ot="chatik.resume.title.magritte",Pt="chatik.resume.loader.title",Bt="chatik.resume.loader.text",Wt=({resumeHash:e,isLoading:t})=>{const a=(0,i.useDispatch)(),n=(0,bt.T)(),o=(0,r.Z)(),{isWidgetIframe:l}=(0,de.Z)(),d=(0,W.Z)(),h=(0,c.v)((e=>e.siteRoot)),u=(0,c.v)(k.Fq);(0,s.useEffect)((()=>(a(Lt(!0)),()=>{a(Lt(!1))})),[a]),(0,s.useEffect)((()=>{(0,F.AW)("uxfbEvent",{name:"chatik_resume_shown"})}),[]);const m=(0,We.LB)({siteRoot:h,resumeHash:e,userType:St.Z.Employer,negotiationTopic:u,light:!0,hhtmFromLabel:"chat_inside"}),v=(0,A.jsxs)("div",{className:Ht,children:[(0,A.jsx)(Nt.a,{size:24}),(0,A.jsx)("div",{className:Dt,children:n[Pt]}),(0,A.jsx)("div",{className:Rt,children:n[Bt]})]});return(0,A.jsxs)("div",{className:At,children:[(0,A.jsxs)("div",{className:Tt,children:[l&&(0,A.jsx)(te.a,{mode:"primary",style:"neutral",icon:b.ee,onClick:()=>{(0,F.AW)("changeLayout",{view:"medium"}),Ue()({chatId:o})}}),(0,A.jsx)("div",{className:Zt,children:(0,A.jsx)(It.D,{Element:"h3",size:"medium",children:n[Ot]})})]}),t?v:(0,A.jsx)("div",{className:Ct,children:(0,A.jsx)(_t.Z,{src:m,loader:v})}),d&&(0,A.jsx)("div",{className:Et,children:(0,A.jsx)(B,{size:"medium"})})]})};Wt.displayName="components/ResumeContainer/index/Resume";const Vt=(0,s.memo)(Wt);var zt=a(68222),Ft=a(10900),Ut=a(21440);const Mt=(e,t)=>Ut.Z.post("/chatik/api/get_or_create_bot_dialog",{type:e},{params:t}).then((({data:e})=>{if("object"!=typeof e||!e.chatId){const t=new Error("Invalid bot chat id received");return Ft.c.log("out",t,{data:e}),null}return e})).catch((e=>(Ft.c.log("out",e),null)));var qt=a(39248);const Xt=e=>{const t=new URLSearchParams(location.search);(0,qt.Z)()===St.Z.Anonymous&&t.append("nor","1");let a=t.toString();return a=a?`?${a}`:"",`/chat/${e}${a}`},Gt=()=>{const e=(0,N.useReplace)(),t=(0,zt.useLocation)(),{chatId:a}=(0,zt.useParams)();(0,s.useEffect)((()=>{!/^\d+$/.test(a)&&Mt(a,t.state).then((t=>{null!=t&&t.chatId&&e(Xt(t.chatId))}))}),[a])},Qt=({isLoading:e,chatId:t})=>{const a=(0,c.v)((({chatData:e})=>e.chat)),s=(0,c.v)((({chats:e})=>e.chats.items.find((({id:e})=>e===t))));return(e&&s?s:a).type};var Yt=a(73797),Kt=a(40588),$t=a(76679),Jt=a(67833);const ea=()=>{const e=(0,Kt.Z)(),t=(0,r.Z)(),a=(0,c.v)((e=>e.activeState)),i=(0,c.v)((({chatData:e})=>e.chat));(0,s.useEffect)((()=>{if(!a||t!==i.id)return;const s=(0,$t.Z)({routeName:Yt.x.Chat,state:e.getState(),chatId:t});(0,Jt.Z)(s)}),[a,e,t,i.id])},ta=(0,n.makeSetStoreField)("supportLocation"),aa=()=>{const e=(0,i.useDispatch)(),t=(0,c.v)((({chatData:e})=>e.forceReplacedId)),a=(0,c.v)(p.AV),n=(0,c.v)((e=>e.isSudo)),g=(0,r.Z)(),x=(0,s.useRef)(null),{chat:y,chatStates:j,error:f}=(0,c.v)((({chatData:e})=>e)),k=(0,c.v)((e=>e.activeState)),w=(0,c.v)((e=>e.router.location.query.hhtmFromLabel)),N=(0,c.v)((({editMessage:e})=>Boolean(null==e?void 0:e.id))),{renderOverlayScreen:I,handleDrag:_}=(0,d.Z)(),[b,S]=(0,h.Z)(),{isApplicant:C,isEmployer:H,isAnonymous:D}=(0,v.Z)(),R=g!==y.id,T=Qt({isLoading:R,chatId:g}),Z=!N&&!n&&(C||H||D);ea(),(0,u.Z)(),Gt();const E=(0,m.M)();if((0,s.useEffect)((()=>{k&&"SUPPORT"===T&&e(ta(w||window.globalServiceVars.chatik.analyticsParams.hhtmFromLabel||"chat_list"))}),[k,e,T,w]),"NOT_FOUND"===(null==f?void 0:f.code))return(0,A.jsx)("div",{className:yt.Z.dialogSplashScreen,children:(0,A.jsx)(l.Z,{})});if(y.ownerViolatesRules)return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(mt,{isLoading:R}),(0,A.jsx)(wt,{})]});const L=j.sendFileState.allowed,O="SUPPORT"===T,P="NEGOTIATION"===T||a;return(0,A.jsxs)("div",{className:yt.Z.chat,onDragEnter:L?_:void 0,children:[(0,A.jsxs)("div",{className:yt.Z.layout,children:[(0,A.jsxs)("div",{className:yt.Z.messages,children:[(0,A.jsx)(mt,{isLoading:R}),R?(0,A.jsx)(vt.Z,{}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.j,{disableLinkPreviews:O,scrollWrapperRef:x},t),(0,A.jsx)(ee,{scrollWrapperRef:x,fetchLinkPreviewsDisabled:O,onMessageTextChange:Z?E:void 0})]})]}),P&&b&&(0,A.jsx)(Vt,{resumeHash:S,isLoading:R})]}),I()]})};aa.displayName="src/pages/Chat/Chat";const sa=aa}}]);
//# sourceMappingURL=ChatPage.b48780152ed2fef8.js.map