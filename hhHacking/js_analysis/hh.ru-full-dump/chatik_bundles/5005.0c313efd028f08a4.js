"use strict";(globalThis.__chatik_LOADABLE_LOADED_CHUNKS__=globalThis.__chatik_LOADABLE_LOADED_CHUNKS__||[]).push([["5005"],{92705:function(e,t,a){a.d(t,{Z:()=>n});const n={chat:"chat--l5SXkOLg9k0Rcqrn",layout:"layout--xqLzrsFO6RQmiUU1",header:"header--KiaVnR6oVZEmKgGf",messages:"messages--fgsPq_KrKx4X2fty","dialog-splash-screen":"dialog-splash-screen--qUEvWDR5uAP56kjU",dialogSplashScreen:"dialog-splash-screen--qUEvWDR5uAP56kjU","no-chat-notification-wrapper":"no-chat-notification-wrapper--tEKWJdOTNgsVkLrU",noChatNotificationWrapper:"no-chat-notification-wrapper--tEKWJdOTNgsVkLrU","back-to-chat-list-link":"back-to-chat-list-link--ttVt4XKAuWIfYsu5",backToChatListLink:"back-to-chat-list-link--ttVt4XKAuWIfYsu5",description:"description--x6nzkuxUWZAmjIEr"}},66999:function(e,t,a){e.exports=a.p+"static/images/no-chats__min_8499a702da9cad93.webp"},86482:function(e,t,a){e.exports=a.p+"static/images/not-found__min_05bc3100d5b660f5.webp"},29798:function(e,t,a){a.d(t,{Z:()=>cl});var n=a(24488),s=a(55901),i=a(3891),r=a(84434),o=a(30329),l=a(48867),c=a(36047),d=a(23073),u=a(94931),h=a(25833);const p=()=>{const e=(0,l.v)((({features:e})=>e[h.A.SentryLogging]));return(0,u.Z)({onDidCatch:(t,a)=>{e&&d.withScope((e=>{e.setTag("origin","componentDidCatch"),e.setExtras(a),d.captureException(t)}))}})};var m=a(21440);const v=(e={filterUnread:!1,filterHasTextMessage:!1},t={})=>m.Z.get("/chatik/api/filter_clusters",{params:e,...t,signal:t.signal}).then((({data:e})=>e)),g=(0,i.createContext)({filtersClustersGetter:{get:()=>[[],[]]},getActualClusters:()=>new Promise((e=>e([[],[]])))}),y=(e,t)=>{let a,n=!1;return e.then((e=>{n=!0,a=t(e)})).catch(console.error),{get:()=>{if(!n)throw e;return a},promise:e}};var f=a(4201);let w;const x=(0,o.makeSetStoreField)("shouldReloadFiltersClusters"),b=({children:e})=>{const t=(0,r.useDispatch)(),a=(0,l.v)((e=>e.showOnlyUnread)),n=(0,l.v)((e=>e.showOnlyWithTextMessages)),s=(0,l.v)((e=>e.shouldReloadFiltersClusters));w=w||v({filterUnread:a,filterHasTextMessage:n},{retry:!0});const o=(0,i.useRef)(),[c,d]=(0,i.useState)(y(w,(e=>{var t,a;return[null!==(t=e.vacanciesClusters)&&void 0!==t?t:[],null!==(a=e.employerStatesClusters)&&void 0!==a?a:[]]}))),u=(0,i.useCallback)((()=>{var e;null===(e=o.current)||void 0===e||e.abort(),o.current=new AbortController;const t=y(v(void 0,{retry:!0,signal:o.current.signal}),(e=>{var t,a;return[null!==(t=e.vacanciesClusters)&&void 0!==t?t:[],null!==(a=e.employerStatesClusters)&&void 0!==a?a:[]]}));return d(t),t}),[]),h=(0,i.useCallback)((async()=>{const e=s?u():c;try{return e.get()}catch{return await e.promise,e.get()}finally{t(x(!1))}}),[t,u,c,s]);return(0,f.jsx)(g.Provider,{value:{filtersClustersGetter:c,getActualClusters:h},children:e})};b.displayName="components/FiltersClusters/index/FiltersClustersProvider";const k=()=>(0,i.useContext)(g);var C=a(52872),I=a(8210);let S=0;const E=({children:e})=>{const[t,a]=(0,i.useState)([]),n=(0,i.useMemo)((()=>({addNotification:e=>{a((t=>(S+=1,[...t,{...e,id:S}])))}})),[a]);return(0,f.jsxs)(I.Z.Provider,{value:n,children:[t.map((({id:e,...t})=>(0,f.jsx)(C.A,{...t,onClose:()=>a((t=>t.filter((t=>t.id!==e))))},`notify-${e}`))),e]})};E.displayName="components/Snackbars/SnackbarManagerProvider/SnackbarManagerProvider";const T=E,_=({children:e})=>{const{ErrorBoundary:t}=p();return(0,f.jsx)(t,{children:(0,f.jsx)(b,{children:(0,f.jsx)(T,{children:e})})})};_.displayName="src/app/AppContextWrapper/AppContextWrapper";var j=a(73797),N=a(63116),A=a.n(N),R=a(61384),M=a(45150),D=a(18839),P=a.n(D),Z=a(39202),L=a.n(Z),F=a(88854),U=a.n(F),O=a(50873),B=a.n(O);let H=function(e){return e.ChatList="chatList",e.Search="search",e.Filters="filters",e}({});const q=(0,o.autoGeneratedReducer)(H.ChatList);var V=a(3216);const W=(0,o.makeSetStoreField)("selectedEmployerStatesClusters"),G=(0,o.makeSetStoreField)("selectedVacanciesClusters"),z=(0,o.makeSetStoreField)("showOnlyUnread"),$=(0,o.makeSetStoreField)("showOnlyWithTextMessages"),K=(0,o.makeSetStoreField)("navigationView"),Y=()=>{const e=(0,l.v)((e=>e.selectedEmployerStatesClusters)),t=(0,l.v)((e=>e.selectedVacanciesClusters)),a=(0,l.v)((e=>e.showOnlyUnread)),n=(0,l.v)((e=>e.showOnlyWithTextMessages)),s=(0,r.useDispatch)(),{getActualClusters:i}=k(),o=(0,l.v)((e=>e.clusterFiltersEnabled)),c=(0,l.v)((e=>"filters"===e.navigationView)),{isApplicant:d}=(0,V.Z)();return{totalFiltersSelected:e.length+t.length+(a?1:0)+(n?1:0),areFiltersEnabled:o,areInlineFilters:d,areFiltersVisible:c,handleFiltersToggle:()=>{c?U()():(i(),B()()),s(K(c?H.ChatList:H.Filters))},handleFiltersApply:()=>{P()(),s(K(H.ChatList))},handleFiltersReset:()=>{s([W([]),G([]),z(!1),$(!1)]),L()()}}};var Q=a(90634);const X="filters",J=()=>{const e=(0,l.v)((e=>e.hhid)),t=(0,l.v)((e=>e.selectedEmployerStatesClusters)),a=(0,l.v)((e=>e.selectedVacanciesClusters)),n=(0,l.v)((e=>e.showOnlyUnread)),s=(0,l.v)((e=>e.showOnlyWithTextMessages)),{areFiltersVisible:r}=Y(),o=(0,i.useMemo)((()=>({showFilters:r,employerStates:t,vacancyIds:a,filterUnread:n,filterHasTextMessage:s})),[t,a,r,n,s]);(0,i.useEffect)((()=>{if(!e)return;const t=JSON.stringify(o),a=`${X}${e}`;Q.L.set(a,t,168)}),[o,e])};var ee=a(93873),te=a(66174),ae=a(68222);const ne=e=>{var t;let a=null;const[n,s]=null!==(t=Object.entries(j.n).find((([,t])=>{var n;return a=Array.isArray(t)?t.reduce(((t,n)=>{var s;return a=(0,ae.matchPath)(e,n),null!==(s=a)&&void 0!==s&&s.isExact&&(t=a),t}),null):(0,ae.matchPath)(e,t),Boolean(null===(n=a)||void 0===n?void 0:n.isExact)})))&&void 0!==t?t:[];return{name:n,path:s,match:a}},se=()=>{const{pathname:e}=(0,ae.useLocation)();return(0,i.useMemo)((()=>ne(e)),[e])},ie=()=>{const e=(0,l.v)((e=>e.router.location)),{match:t}=ne(null==e?void 0:e.pathname);return Number(null==t?void 0:t.params.chatId)};var re=a(90571),oe=a(83355),le=a(58342),ce=a(51531),de=a(89156),ue=a(3585);const he=" ",pe="date.today.lowercase",me="date.yesterday.lowercase",ve="mobile.date.at",ge={0:"calendar.genitive.month.0",1:"calendar.genitive.month.1",2:"calendar.genitive.month.2",3:"calendar.genitive.month.3",4:"calendar.genitive.month.4",5:"calendar.genitive.month.5",6:"calendar.genitive.month.6",7:"calendar.genitive.month.7",8:"calendar.genitive.month.8",9:"calendar.genitive.month.9",10:"calendar.genitive.month.10",11:"calendar.genitive.month.11"},ye={0:"calendar.day.of.the.week.6",1:"calendar.day.of.the.week.0",2:"calendar.day.of.the.week.1",3:"calendar.day.of.the.week.2",4:"calendar.day.of.the.week.3",5:"calendar.day.of.the.week.4",6:"calendar.day.of.the.week.5"},fe={0:"calendar.weekday.short.6",1:"calendar.weekday.short.0",2:"calendar.weekday.short.1",3:"calendar.weekday.short.2",4:"calendar.weekday.short.3",5:"calendar.weekday.short.4",6:"calendar.weekday.short.5"};let we=function(e){return e.Always="Always",e.Never="Never",e.NotCurrent="NotCurrent",e}({}),xe=function(e){return e.TodayOnly="TodayOnly",e.Never="Never",e.WithDate="WithDate",e}({});const be=({date:e,timeOnly:t,showTime:a=xe.Never,showYear:n=we.NotCurrent,trls:s,preposition:i,approximate:r,short:o})=>{if(!e)return null;const l=new Date,c=new Date(e);if(t)return(0,f.jsx)(f.Fragment,{children:(0,ue.Z)(c,"HH:mm")});if(r&&Math.abs(l.getTime()-c.getTime())<1728e5){if(l.getDate()===c.getDate())return(0,f.jsx)(f.Fragment,{children:a===xe.TodayOnly?(0,ue.Z)(c,"HH:mm"):s[pe]});if(l.getDate()-1===c.getDate())return(0,f.jsx)(f.Fragment,{children:s[me]})}if(r&&Math.abs(l.getTime()-c.getTime())<6912e5)return(0,f.jsx)(f.Fragment,{children:o?s[fe[c.getDay()]]:s[ye[c.getDay()]]});const d=n===we.Always||n===we.NotCurrent&&c.getFullYear()!==(new Date).getFullYear();let u;return o?u=d?(0,ue.Z)(c,"dd.MM.yy"):(0,ue.Z)(c,"dd.MM"):(u=`${c.getDate()}${he}${s[ge[c.getMonth()]]}`,d&&(u+=`${he}${c.getFullYear()}`)),a===xe.WithDate&&(i&&(u+=`${he}${s[ve]}`),u+=`${he}${(0,ue.Z)(c,"HH:mm")}`),(0,f.jsx)(f.Fragment,{children:u})};be.displayName="components/HumanDate/index/HumanDate";const ke=(0,de.Z)(be);var Ce=a(50361),Ie=a(87884),Se=a(80684),Ee=a(86071),Te=a(2183),_e=a(68390),je=a(80426),Ne=a(58086),Ae=a(26825),Re=a(64452),Me=a(89824),De=a(40588),Pe=a(5791),Ze=a(47400),Le=a(16347),Fe=a(36258),Ue=a(44036),Oe=a(89016),Be=a(68895);const He=[Le.J.Discard,Le.H.DiscardByEmployer,Le.H.DiscardByApplicant,Le.H.DiscardNoInteraction,Le.H.DiscardToOtherVacancy,Le.H.DiscardVacancyClosed],qe=e=>{const t=e.applicantState||e.employerState;return t?He.includes(t)?"red":"green":"secondary"},Ve={"last-message":"last-message--dsXmP3MfuVY6h1Tm",lastMessage:"last-message--dsXmP3MfuVY6h1Tm","last-message-color_secondary":"last-message-color_secondary--nEGZ5QotLjAJqeo3",lastMessageColorSecondary:"last-message-color_secondary--nEGZ5QotLjAJqeo3","last-message-color_contrast-secondary":"last-message-color_contrast-secondary--DZlwpzk1R6cZcx4x",lastMessageColorContrastSecondary:"last-message-color_contrast-secondary--DZlwpzk1R6cZcx4x","last-message-color_red":"last-message-color_red--zo6vi8nTScLJGPgw",lastMessageColorRed:"last-message-color_red--zo6vi8nTScLJGPgw","last-message-color_green":"last-message-color_green--PboT0g0OdWQR2piP",lastMessageColorGreen:"last-message-color_green--PboT0g0OdWQR2piP"},We={messageDraft:"chatik.chatItem.savedDraft",blocked:"chatik.ownerViolatesRules.chatItemLabel",address:"chatik.messsages.address",imageAttachment:"chatik.messages.imageAttachment",file:{one:"chatik.fileUpload.file.one",some:"chatik.fileUpload.file.some",many:"chatik.fileUpload.file.many"},participantJoined:"chatik.message.participantJoined",participantLeft:"chatik.message.participantLeft",applicantWorkflowTransitions:{[Le.J.Discard]:"chatik.chatItem.workflowTransition.discard",[Le.J.Invitation]:"chatik.chatItem.workflowTransition.invitation",[Le.J.Response]:"chatik.chatItem.workflowTransition.response",[Le.J.Interview]:"chatik.chatItem.workflowTransition.interview",[Le.J.Hired]:"chatik.chatItem.workflowTransition.hired"},employerWorkflowTransitions:{[Le.H.DiscardByEmployer]:"chatik.workflowTransition.discardByEmployer.softForm",[Le.H.DiscardByApplicant]:"chatik.workflowTransition.discardByApplicant",[Le.H.DiscardNoInteraction]:"chatik.workflowTransition.discardNoInteraction",[Le.H.DiscardToOtherVacancy]:"chatik.workflowTransition.discardToOtherVacancy",[Le.H.DiscardVacancyClosed]:"chatik.workflowTransition.discardVacancyClosed",[Le.H.PhoneInterview]:"chatik.workflowTransition.phoneInterview",[Le.H.Interview]:"chatik.workflowTransition.interview",[Le.H.Response]:"chatik.chatItem.workflowTransition.response",[Le.H.Assesment]:"chatik.workflowTransition.assesment",[Le.H.Consider]:"chatik.workflowTransition.consider",[Le.H.Hired]:"chatik.workflowTransition.hired",[Le.H.Offer]:"chatik.workflowTransition.offer"}},Ge=e=>e.applicantState?We.applicantWorkflowTransitions[e.applicantState]:e.employerState?We.employerWorkflowTransitions[e.employerState]:"",ze=({message:e,isBlocked:t,isContrast:a,trls:n})=>{const s=(0,De.Z)(),i=e.chatId,r=(0,l.v)((({messageDrafts:e})=>{var t;return null===(t=e[i])||void 0===t?void 0:t.text})),o=(0,l.v)((0,Ue.S3)(i)),{content:c,color:d}=(()=>{if(t)return{content:n[We.blocked],color:"red"};if(null!=o&&o.length)return{content:(0,Re.WU)(n[We.messageDraft],{"{0}":`${o.length} ${(0,Oe.Z)(o.length,[n[We.file.one],n[We.file.some],n[We.file.many]])}`}),color:"secondary"};if(r)return{content:(0,Re.WU)(n[We.messageDraft],{"{0}":(0,Me.Lx)(r)}),color:"secondary"};const{workflowTransition:a,files:i}=e;if(a)return{content:n[Ge(a)],color:qe(a)};if(null!=i&&i.length){var l;const e=i[0];return{content:(0,Be.t)(e.content_type)&&null!==(l=e.preview)&&void 0!==l&&l.url?n[We.imageAttachment]:i[0].title,color:"secondary"}}if((0,Pe.jH)(Fe.U.Address,e)){const t=(0,Ze.Eo)(s.getState(),(0,Pe.fg)(Fe.U.Address,e));return{content:(null==t?void 0:t.displayName)||n[We.address],color:"secondary"}}if([Ee.u.ParticipantLeft,Ee.u.ParticipantJoined].includes(e.type)){const t=e.type===Ee.u.ParticipantLeft?We.participantLeft:We.participantJoined;return{content:(0,Re.WU)(n[t],{"{0}":e.participantDisplay.name}),color:"secondary"}}return{content:(0,Me.Lx)(e.text||""),color:"secondary"}})(),u=a?"contrast-secondary":d;return(0,f.jsx)("div",{className:A()(Ve.lastMessage,{[Ve[`last-message-color_${u}`]]:!0}),children:c})};ze.displayName="ChatCell/LastMessage/index/LastMessage";const $e=(0,de.Z)(ze),Ke=(e,t)=>{if(!e)return;return!!t&&e.id<=t?Ee.t.Read:Ee.t.Delivered},Ye="chat-cell--QlKEQgGE9JcVWX9c",Qe="content--SuZrq9A3WEcNQh4P",Xe="chat-cell_full--f_fQ82wU1Q6XsFy4",Je="chat-cell_compact--wcUh5MLpwDI7CKoT",et="chat-cell_selected--Zjgj2fBGk2woUrIt",tt="title--jaEO2q2if2IOwiyO",at="subtitle--PUOzfscuTocRGpo3",nt="time--xs3AP7eA5xkHP7ak",st="content_loading--AoB79eQfRIQSCjPC",it="row--nTg6dj25PIQ10rvQ",rt="title-wrapper--yivHL98wcTsvChTz",ot="last-message-wrapper--LDfaiuHjGccjXAcD",lt="subtitle-cutted--mLvrcI7EvVAjkFDh",ct="last-message--znqoEhX7HRshT0Mz",dt="icons--Je457LlaRvgUN0qq",ut="meta--O43YvrGe4QYrsbFr",ht=({id:e,view:t="full",lastMessage:a,unreadCount:n,notificationEnabled:s,ownerViolatesRules:i,displayInfo:r,type:o,subType:l,isSelected:d,lastViewedByOpponentMessageId:u,onlineUntilTime:h,userType:p,currentParticipantId:m})=>{const v=(0,Se.m)(Te.OY,e),g=p===_e.Z.Applicant,y=p===_e.Z.Employer,w=g?null==r?void 0:r.subtitle:null==r?void 0:r.title,x=i||!w,b=(null==a?void 0:a.participantId)===m?Ke(a||void 0,u):void 0,k=d?"contrast":"accent",C=n>0,{avatarImage:I}=(0,Ie.Z)({isUnknownUser:x,image:null==r?void 0:r.icon}),S=(0,te.$)();if(!r)return null;return(0,f.jsxs)(c.SPALink,{to:`/chat/${e}`,id:`chat-cell-${e}`,className:A()(Ye,{[et]:d,[Xe]:"full"===t,[Je]:"compact"===t}),"data-qa":S?`chatik-skeleton-chat-${e}`:`chatik-open-chat-${e}`,children:[(0,f.jsx)(ce.Z,{"aria-label":w||"",letters:(0,Ae.$)(w),online:!x&&"SUPPORT"!==o&&("GENAI"===l||!!h&&(0,Ne.Dp)(h)===Ne.$r.ONLINE),shapeCircle:"circle"===(0,je.a)(p,o,l),size:48,isEmployer:y,isBlocked:Boolean(i),avatarImage:I}),(0,f.jsxs)("div",{className:A()(Qe,{[st]:S}),children:[(0,f.jsxs)("div",{className:it,children:[(0,f.jsx)(re.O,{width:"calc(100% - 8px)",height:16,borderRadius:4,children:(0,f.jsxs)("div",{className:rt,children:[(0,f.jsx)("div",{className:tt,children:null==r?void 0:r.title}),!s&&(0,f.jsx)("div",{className:dt,children:(0,f.jsx)(le.q52,{initialColor:d?"contrast":"tertiary"})})]})}),"full"===t&&(0,f.jsx)(re.O,{height:14,width:36,borderRadius:4,children:(0,f.jsxs)("div",{"data-qa":"chat-cell-meta",className:ut,children:[b===Ee.t.Read&&(0,f.jsx)(le.eid,{"data-qa":"status-icon-read",initialColor:k}),b===Ee.t.Delivered&&(0,f.jsx)(le.ARe,{"data-qa":"status-icon-delivered",initialColor:k}),(null==a?void 0:a.creationTime)&&(0,f.jsx)("div",{"data-qa":"chat-cell-creation-time",className:nt,children:(0,f.jsx)(ke,{date:new Date(a.creationTime).getTime(),showTime:xe.TodayOnly,approximate:!0,short:!0})})]})})]}),(0,f.jsx)(re.O,{height:14,width:120,borderRadius:4,children:(0,f.jsx)("div",{className:A()(at,{[lt]:C}),children:null==r?void 0:r.subtitle})}),"full"===t&&(0,f.jsx)(re.O,{height:14,width:60,borderRadius:4,children:(0,f.jsxs)("div",{className:A()(it,ot),children:[v?(0,f.jsx)(Ce.c,{typingAmount:v,style:d?"secondary":"primary"}):a&&(0,f.jsx)("div",{className:ct,children:(0,f.jsx)($e,{message:a,isBlocked:Boolean(i),isContrast:d})}),C&&(0,f.jsx)(oe.C,{"data-qa":"chatik-info-badges",size:"medium",style:d?"constant":"accent",children:n.toString()})]})})]})]})};ht.displayName="ChatsList/ChatCell/index/ChatCell";const pt=(0,i.memo)(ht);var mt=a(61403);let vt=!1;const gt=({selectedChatId:e,parentRef:t})=>{const a=(0,l.v)((({activeState:e})=>e));(0,i.useEffect)((()=>{if(!a)return void(vt=!1);if(!e||vt)return;const n=setTimeout((()=>{const a=document.getElementById(`chat-cell-${e}`);if(!a||!t.current)return;vt=!0;!(0,mt.Z)(a,t.current,50)&&a.scrollIntoView({behavior:"smooth",block:"center"})}),300);return()=>{clearTimeout(n)}}),[a])},yt="chats--pISa3zq6ZH8xK43H",ft=({chats:e,displayInfo:t,hasNextPage:a,cellsView:n,onPageLoad:s},r)=>{const{userType:o}=(0,V.Z)(),l=(0,i.useRef)(null),c=(0,ee.B)(l,r),d=(0,i.useRef)(s);d.current=s;const u=ie(),h=(0,i.useMemo)((()=>new Array(3).fill(void 0).map(((e,t)=>({id:t,notificationEnabled:!1,unreadCount:0,participantsIds:[],resources:{},pinned:!1,type:"NEGOTIATION"})))),[]),p=(0,i.useCallback)((()=>{if(!l.current)return;const e=l.current;var t;e.scrollHeight-240-(e.scrollTop+e.offsetHeight)<e.offsetHeight/2&&(null===(t=d.current)||void 0===t||t.call(d))}),[]);return(0,i.useLayoutEffect)((()=>{p()}),[p]),gt({selectedChatId:u,parentRef:l}),null!=e&&e.length?(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:yt,ref:c,onScroll:p,children:[e.map((e=>(0,f.jsx)(pt,{displayInfo:null==t?void 0:t[e.id],isSelected:u===e.id,userType:o,view:n,...e},e.id))),a&&(0,f.jsx)(te.Z,{loading:!0,children:h.map((e=>(0,f.jsx)(pt,{displayInfo:{title:"",subtitle:""},isSelected:u===e.id,userType:o,view:n,...e},e.id)))})]})}):null};ft.displayName="components/ChatsList/index/ChatsList";const wt=(0,i.forwardRef)(ft);var xt=a(56957),bt=a(68921);let kt={};const Ct=(e,t)=>{(0,i.useEffect)((()=>{const a=e.current;if(!a)return;kt[t]&&(a.scrollTop=kt[t]);const n=(0,bt.D)((()=>{kt={[t]:a.scrollTop}}),150);return a.addEventListener("scroll",n),()=>{a.removeEventListener("scroll",n)}}),[e,t])},It=({chat:e,showOnlyUnread:t,currentChatId:a,isXS:n})=>n?(({chat:e,showOnlyUnread:t})=>!t||Boolean(e.unreadCount))({chat:e,showOnlyUnread:t}):(({chat:e,showOnlyUnread:t,currentChatId:a})=>!t||Boolean(e.unreadCount)||a===e.id)({chat:e,showOnlyUnread:t,currentChatId:a}),St=(e,t,a)=>e.pinned&&t.pinned&&!a?St(e,t,!0):e.pinned&&!t.pinned?-1:!e.pinned&&t.pinned?1:e.lastMessage&&t.lastMessage?t.lastMessage.id-e.lastMessage.id:!e.lastMessage&&t.lastMessage?1:e.lastMessage&&!t.lastMessage?-1:t.id-e.id;var Et=a(61477),Tt=a(34343),_t=a(63144),jt=a(66999);const Nt=a.p+"static/images/search-icon__min_4bdc1dff06b83462.svg",At="chats.notFound.placeholder.applicant.title",Rt="chats.notFound.placeholder.applicant.description",Mt="chats.notFound.placeholder.applicant.action.resetFilters.label",Dt="chats.notFound.placeholder.employer.title",Pt="chats.notFound.placeholder.employer.description",Zt="chats.notFound.placeholder.employer.action.resetFilters.label",Lt="chats.notFound.placeholder.employer.action.changeFilters.label",Ft=({trls:e})=>{const{isEmployer:t}=(0,V.Z)(),{handleFiltersReset:a,handleFiltersToggle:n}=Y(),{isMobile:s,isXS:i}=(0,R.G)(),r=(0,Et.l)(Nt),o=(0,Et.l)(jt);return(0,f.jsx)(Tt.V,{image:s?o:r,maxWidth:343,imageHeight:i?194:void 0,title:e[t?Dt:At],description:e[t?Pt:Rt],buttonPrimary:t?(0,f.jsx)(_t.z,{mode:"secondary",style:"accent",onClick:n,children:e[Lt]}):(0,f.jsx)(_t.z,{mode:"secondary",style:"accent",onClick:a,children:e[Mt]}),buttonSecondary:t?(0,f.jsx)(_t.z,{mode:"tertiary",style:"accent",onClick:a,children:e[Zt]}):void 0},String(s))};Ft.displayName="DefaultChatsList/NoChatsFound/index/NoChatsFound";const Ut=(0,de.Z)(Ft);var Ot=a(54549),Bt=a(59430);const Ht=({page:e,hasNextPage:t})=>{const a=(0,r.useDispatch)(),n=(0,i.useRef)(!1),s=(0,l.v)((e=>e.selectedVacanciesClusters)),o=(0,l.v)((e=>e.selectedEmployerStatesClusters)),c=(0,l.v)((e=>e.showOnlyUnread)),d=(0,l.v)((e=>e.showOnlyWithTextMessages));return(0,i.useCallback)((async()=>{if(!n.current&&t){n.current=!0;try{const t=await(0,Bt.Z)({vacancyIds:s,employerStates:o,filterUnread:c,filterHasTextMessage:d,page:e+1});a((0,Ot.GL)(t))}catch(e){console.error(e)}n.current=!1}}),[t,e,a,o,s,d,c])},qt="loader--_GzOnh3oKJ0fgjsw",Vt="placeholder-wrapper--TwaXUqOaK0iSIvRx",Wt=()=>{const e=(0,l.v)((e=>e.chats.chats)),t=(0,l.v)((e=>e.chats.chatsDisplayInfo)),a=(0,l.v)((e=>e.chats.wasNotRequested)),n=(0,l.v)((e=>e.showOnlyUnread)),s=(0,l.v)((e=>e.chats.chats.hasNextPage)),r=ie(),o=(0,i.useRef)(null);Ct(o,"chat_list_scroll_position"+String(e.found));const c=Ht(e),{isXS:d,isMobile:u}=(0,R.G)(),{totalFiltersSelected:h}=Y(),p=(e.page+1)*e.perPage,m=(0,i.useMemo)((()=>[...e.items].sort(St).filter((e=>It({chat:e,showOnlyUnread:n,currentChatId:r,isXS:d}))).slice(0,s?p:e.items.length)),[e.items,s,p,n,r,d]);return a?(0,f.jsx)("div",{className:qt,children:(0,f.jsx)(M.a,{size:24})}):a||m.length?(0,f.jsx)(wt,{ref:o,chats:m,displayInfo:t,hasNextPage:s,onPageLoad:c,cellsView:"full"}):h?(0,f.jsx)("div",{className:Vt,children:(0,f.jsx)(Ut,{})}):u?(0,f.jsx)(xt.Z,{showButtons:!0}):null};Wt.displayName="components/Navigation/DefaultChatsList/DefaultChatsList";const Gt=Wt;var zt=a(33030),$t=a.n(zt),Kt=a(4233),Yt=a(65007),Qt=a(73755),Xt=a(30577);const Jt=(0,o.makeSetStoreField)("showOnlyUnread"),ea="chatik.filters.showOnlyUnread",ta=({trls:e})=>{const t=(0,l.v)((e=>e.showOnlyUnread)),a=(0,r.useDispatch)(),n=e=>{const t=e.target.checked;$t()({state:t}),a(Jt(t))};return(0,f.jsx)(Kt.g,{type:"checkbox",padding:0,borderRadius:12,flexible:!0,checked:t,onChange:n,children:(0,f.jsx)(Yt.b,{align:"top",horPadding:!0,vertPadding:!0,left:(0,f.jsx)(Qt.X,{"data-qa":"chatik-checkbox-only-unread",checked:t,onChange:n}),children:(0,f.jsx)(Xt.j,{children:e[ea]})})})};ta.displayName="Navigation/Filters/ShowOnlyUnread/ShowOnlyUnreadComponent";const aa=(0,de.Z)(ta),na="container--yr_fdCpsLIwFLDxJ",sa="container_inline--P2UXstKgFd0GsGvW",ia="actions--gSGyUoFjir4glgNK",ra=()=>(0,f.jsx)("div",{className:A()(na,sa),children:(0,f.jsx)(aa,{})});ra.displayName="Navigation/Filters/InlineFilters/InlineFilters";var oa=a(18566),la=a(82597),ca=a(4305),da=a(66802),ua=a(17223),ha=a(89059),pa=a(67073);const ma="chatik.emptyFiltersCluster.banner.title",va="chatik.emptyFiltersCluster.banner.content",ga="chatik.emptyFiltersCluster.banner.action",ya=({trls:e})=>{const t=(0,l.v)((e=>e.siteRoot));return(0,f.jsx)(la.j,{showBorder:!0,showClose:!1,buttonsOrientation:"vertical",title:(0,f.jsx)(ca.D,{Element:"h5",size:"small",children:e[ma]}),content:(0,f.jsx)(da.x,{typography:"paragraph-2-regular",children:e[va]}),buttonBase:(0,f.jsx)(_t.z,{size:"small",mode:"primary",style:"accent",onClick:()=>{const e=(0,ua.ni)(`${t}/employer/vacancy/create?hhtmSource=${(0,pa.H)()}`);ha.vK?(0,ha.AW)("redirectTo",{path:e}):window.location.assign(e)},children:e[ga]})})};ya.displayName="Navigation/Filters/EmptyFiltersClustersBanner/EmptyFiltersClustersBannerComponent";const fa=(0,de.Z)(ya);var wa=a(85918),xa=a.n(wa);const ba=(0,o.makeSetStoreField)("showOnlyWithTextMessages"),ka="chatik.filters.showOnlyWithTextMessages",Ca="chatik.filters.showOnlyWithTextMessages.description",Ia=({trls:e})=>{const t=(0,l.v)((e=>e.showOnlyWithTextMessages)),a=(0,r.useDispatch)(),n=e=>{const t=e.target.checked;xa()({state:t}),a(ba(t))};return(0,f.jsx)(Kt.g,{type:"checkbox",padding:0,borderRadius:12,flexible:!0,checked:t,onChange:n,children:(0,f.jsxs)(Yt.b,{align:"top",horPadding:!0,vertPadding:!0,left:(0,f.jsx)(Qt.X,{"data-qa":"chatik-select-only-with-text-messages",checked:t,onChange:n}),children:[(0,f.jsx)(Xt.j,{children:e[ka]}),(0,f.jsx)(Xt.j,{type:"subtitle",children:e[Ca]})]})})};Ia.displayName="Navigation/Filters/ShowOnlyWithTextMessages/ShowOnlyWithTextMessagesComponent";const Sa=(0,de.Z)(Ia);var Ea=a(87343),Ta=a(1800),_a=a(50109);const ja=({children:e,clearSelectedValuesAndClose:t})=>(0,f.jsx)(_a.Z,{borderWidth:"default",stretched:!0,hoverStyle:"secondary",padding:16,borderRadius:16,onClick:t,children:(0,f.jsx)(Yt.b,{Element:"div",align:"center",left:(0,f.jsx)(le.Cs7,{}),children:(0,f.jsx)(Xt.j,{maxLines:1,children:e})})});ja.displayName="Navigation/Filters/FilterResetCard/FilterResetCard";const Na=(0,o.makeSetStoreField)("selectedEmployerStatesClusters"),Aa={allStatuses:"chatik.filters.allStatuses",applyFilter:"chatik.filters.apply",clearFilter:"chatik.filters.reset",clearOption:"chatik.filters.clearOption.statuses",employerStates:{[Le.H.Response]:"chatik.workflowTransition.response",[Le.H.PhoneInterview]:"chatik.workflowTransition.phoneInterview",[Le.H.Interview]:"chatik.workflowTransition.interview",[Le.H.DiscardByEmployer]:"chatik.workflowTransition.discardByEmployer.softForm",[Le.H.DiscardByApplicant]:"chatik.workflowTransition.discardByApplicant",[Le.H.DiscardNoInteraction]:"chatik.workflowTransition.discardNoInteraction",[Le.H.DiscardToOtherVacancy]:"chatik.workflowTransition.discardToOtherVacancy",[Le.H.DiscardVacancyClosed]:"chatik.workflowTransition.discardVacancyClosed",[Le.H.Assesment]:"chatik.workflowTransition.assesment",[Le.H.Consider]:"chatik.workflowTransition.consider",[Le.H.Hired]:"chatik.workflowTransition.hired",[Le.H.Offer]:"chatik.workflowTransition.offer"},postfix:"chatik.filters.postfix"},Ra=e=>{const t=e;return t&&Aa.employerStates[t]?Aa.employerStates[t]:""},Ma=({trls:e})=>{const t=(0,l.v)((e=>e.selectedEmployerStatesClusters)),a=(0,r.useDispatch)(),{isMobile:s}=(0,R.G)(),{filtersClustersGetter:o}=k(),[c,d]=o.get(),u=(0,i.useMemo)((()=>d.map((t=>({cluster:t,text:e[Ra(t.employerState)],value:t.employerState})))),[d,e]),h=(0,Ea.oQ)(u),p=({isMobile:e,input:t,data:a})=>{const n={[e?"right":"left"]:t};return(0,f.jsx)(Yt.b,{Element:"div",align:"top",...n,children:(0,f.jsx)(Xt.j,{children:a.text})})};return(0,f.jsx)(Ta.P,{type:"checkbox",multiple:!0,name:"states",value:(0,Ea.j_)(t,u),dataProvider:h,renderDesktopItem:p,renderMobileItem:p,triggerProps:{label:e[Aa.allStatuses],size:"large",stretched:!0,elevateLabel:!0,showPostfix:!0,disabled:0===u.length,trls:{postfix:e[Aa.postfix]}},onChange:e=>{n.default.sendHHEventButtonClick("chat_filter_stage_set",{stageList:e.map((e=>e.value))}),a(Na(e.map((e=>e.value))))},renderContentBefore:t=>(0,f.jsx)(ja,{...t,children:e[Aa.clearOption]}),applyChangesButton:s?(0,f.jsx)(_t.z,{mode:"primary",style:"accent",children:e[Aa.applyFilter]}):void 0,clearButton:s?(0,f.jsx)(_t.z,{mode:"secondary",style:"accent",children:e[Aa.clearFilter]}):void 0})};Ma.displayName="Navigation/Filters/StatesFilter/StatesFilterComponent";const Da=(0,de.Z)(Ma),Pa=(0,o.makeSetStoreField)("selectedVacanciesClusters"),Za="chatik.filters.allVacancies",La="chatik.filters.apply",Fa="chatik.filters.reset",Ua="chatik.filters.clearOption.vacancies",Oa="chatik.filters.postfix",Ba="chatik.filters.chatsWithoutVacancy",Ha=({trls:e})=>{const t=(0,l.v)((e=>e.selectedVacanciesClusters)),a=(0,r.useDispatch)(),{isMobile:s}=(0,R.G)(),{filtersClustersGetter:o}=k(),[c]=o.get(),d=(0,i.useMemo)((()=>{const t=[{text:e[Ba],value:"0",cluster:{name:e[Ba],vacancyId:0}}];return c.forEach((e=>{var a;t.push({text:e.name,value:null===(a=e.vacancyId)||void 0===a?void 0:a.toString(),cluster:e})})),t}),[c,e]),u=(0,Ea.oQ)(d),h=({data:e,input:t,isMobile:a})=>{var n;const s={[a?"right":"left"]:t};return(0,f.jsxs)(Yt.b,{Element:"div",align:"top",...s,children:[(0,f.jsx)(Xt.j,{children:e.text}),(null==e||null===(n=e.cluster)||void 0===n?void 0:n.area)&&(0,f.jsx)(Xt.j,{type:"subtitle",children:e.cluster.area.name})]})};return(0,f.jsx)(Ta.P,{type:"checkbox",multiple:!0,name:"vacancies",value:(0,Ea.j_)(t,d),dataProvider:u,renderDesktopItem:h,renderMobileItem:h,triggerProps:{label:e[Za],size:"large",stretched:!0,elevateLabel:!0,showPostfix:!0,disabled:0===d.length,trls:{postfix:e[Oa]}},onChange:e=>{n.default.sendHHEventButtonClick("chat_filter_vacancy_set",{vacancyIdList:e.map((e=>e.value))}),a(Pa(e.map((e=>e.value))))},renderContentBefore:t=>(0,f.jsx)(ja,{...t,children:e[Ua]}),applyChangesButton:s?(0,f.jsx)(_t.z,{mode:"primary",style:"accent",children:e[La]}):void 0,clearButton:s?(0,f.jsx)(_t.z,{mode:"secondary",style:"accent",children:e[Fa]}):void 0})};Ha.displayName="Navigation/Filters/VacanciesFilter/VacanciesFilterComponent";const qa=(0,de.Z)(Ha),Va="chatik.filters.reset",Wa="chatik.filters.apply",Ga=({trls:e})=>{const{totalFiltersSelected:t,handleFiltersApply:a,handleFiltersReset:n}=Y(),{filtersClustersGetter:s}=k(),[i]=s.get(),r=0!==i.length;return(0,f.jsxs)("div",{className:na,children:[(0,f.jsxs)(oa.z,{default:12,children:[r?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(qa,{}),(0,f.jsx)(Da,{})]}):(0,f.jsx)(fa,{}),(0,f.jsx)(aa,{}),(0,f.jsx)(Sa,{})]}),(0,f.jsx)("div",{className:ia,children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_t.z,{"data-qa":"chatik-apply-filters-button",size:"medium",style:"accent",mode:"primary",stretched:!0,spaceBetween:!1,onClick:a,children:e[Wa]}),t>0?(0,f.jsx)(_t.z,{"data-qa":"chatik-filters-reset",size:"medium",style:"accent",mode:"secondary",stretched:!0,spaceBetween:!1,postfix:t.toString(),onClick:n,children:e[Va]}):null]})})]})};Ga.displayName="Navigation/Filters/OverlayFilters/OverlayFiltersComponent";const za=(0,de.Z)(Ga);var $a=a(42065),Ka=a(75790),Ya=a(31537),Qa=a(53416),Xa=a(3e3),Ja=a.n(Xa),en=a(76209),tn=a.n(en);const an="RESET_SEARCH",nn="SET_SEARCH_QUERY",sn="REPLACE_SEARCHED_CHATSs",rn="UPDATE_SEARCHED_CHATS",on=()=>({type:an}),ln=e=>({type:nn,query:e}),cn=(0,o.makeSetStoreField)("navigationView"),dn=()=>{const e=(0,r.useDispatch)(),t=(0,l.v)((e=>"search"===e.navigationView));return{isSearchVisible:t,handleSearchToggle:()=>{e(cn(t?H.ChatList:H.Search)),t?(e(on()),Ja()()):tn()()}}};var un=a(54075),hn=a(48403),pn=a(46192),mn=a(44180);const vn="logo-wrapper--nVbIF7GZVVU3qkoZ",gn="hh-logo--dqAGE1APxHEwDEny",yn="zarplata-logo--mePhw5TI4eYVg7R5",fn="rabota-by-logo--Q302BbcXXBs_9aU3",wn=()=>{const e=(0,l.v)((e=>e.siteRoot)),t=(0,pn.Ix)(),a=(0,pn.do)();return(0,f.jsx)(mn.r,{className:vn,href:`${e}?hhtmFrom=chat_page`,children:(0,f.jsx)("div",{className:t?yn:a?fn:gn})})};wn.displayName="NavHeader/Logo/index/Logo";const xn=wn;var bn=a(5154),kn=a.n(bn);const Cn="chatik.navigation.expandButton",In="chatik.navigation.collapseButton",Sn=({trls:e})=>{const t=(0,ae.useLocation)(),{isMobile:a}=(0,R.G)(),n=a?e[Cn]:e[In],s=a?le.Ml6:le.Qho;return(0,f.jsx)(s,{padding:8,"aria-label":n,"data-qa":a?"chatik-expand-chatik":"chatik-collapse-chatik",onClick:()=>{(0,ha.AW)("changeLayout",{view:a?"medium":"compact"}),kn()({type:a?"two_column":"single_column",hhtmSource:t.pathname.includes("/chat/")?j.x.Chat:j.x.List})}})};Sn.displayName="Navigation/NavHeader/ResizeButton/ResizeButton";const En=(0,de.Z)(Sn);var Tn=a(43193),_n=a.n(Tn),jn=a(49727);const Nn="chatik.navigation.supportChat",An=()=>{const e=(0,jn.T)(),t=(0,l.v)((e=>e.chats.chats.items)).find((e=>"SUPPORT"===e.type)),a=(0,c.usePush)();return(0,f.jsx)(le.oa5,{padding:8,"data-qa":"chatik-support-chat-button","aria-label":e[Nn],onClick:()=>{_n()(),a(`/chat/${t?t.id:"support"}?hhtmFromLabel=chat_list_support_icon`)}})};An.displayName="Navigation/NavHeader/SupportChatButton/SupportChatButton";const Rn=An,Mn="header--YOYJKC22VfUF8gf5",Dn="actions--CGvJB2RnqpcX2FP5",Pn="chatik.title",Zn="chatik.filters",Ln="chatik.search",Fn="chatik.chatListHeader.filters",Un="chatik.chatListHeader.search",On="chatik.navigation.closeHint",Bn="chatik_employer_search_enabled",Hn=({trls:e})=>{const t=(0,l.v)((e=>e.isProxyPage)),{areFiltersEnabled:a,totalFiltersSelected:n,areFiltersVisible:s,areInlineFilters:i,handleFiltersToggle:r}=Y(),{isSearchVisible:o,handleSearchToggle:c}=dn(),{isMobile:d}=(0,R.G)(),{isEmployer:u}=(0,V.Z)(),{isWidgetIframe:h,isParentDesktopDisplayType:p,isParentGtS:m}=(0,un.Z)(),v=(0,hn.Z)(),g=(0,pn.Ix)(),y=(0,l.v)((e=>e.navigationView!==H.ChatList)),w=(0,l.v)((e=>e.features[Bn]&&u)),x=()=>s?e[Fn]:o?e[Un]:e[Pn],b=()=>{const e=d?le.ee:le.Cs7;return s?(0,f.jsx)(e,{padding:8,onClick:r,"data-qa":"chatik-hide-all-filters"}):o?(0,f.jsx)(e,{padding:8,onClick:c,"data-qa":"chatik-hide-search"}):void 0};return y&&d?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Ka.X,{default:16}),(0,f.jsx)(Ya.v,{title:x(),left:b()})]}):(0,f.jsx)(Qa.Z,{className:Mn,firstSlot:ha.vK||t?null:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(xn,{}),(0,f.jsx)($a.V,{default:8})]}),lastSlot:(0,f.jsx)("div",{className:Dn,children:s||o?b():(0,f.jsxs)(f.Fragment,{children:[w&&(0,f.jsx)(le.lO1,{padding:8,"aria-label":e[Ln],"data-qa":"chatik-show-search-button",onClick:c}),!g&&(0,f.jsx)(Rn,{}),a&&!i&&(0,f.jsx)(le.VqY,{padding:8,"aria-label":e[Zn],"data-qa":"chatik-show-filters-button",badge:n>0?(0,f.jsx)(oe.C,{size:"extra-small"}):void 0,onClick:r}),h&&p&&m&&(0,f.jsx)(En,{}),v&&h&&(0,f.jsx)(le.Cs7,{padding:8,"aria-label":e[On],onClick:()=>(0,ha.AW)("close")})]})}),children:(0,f.jsx)(ca.D,{Element:"h2",size:"medium",children:x()})})};Hn.displayName="Navigation/NavHeader/index/NavHeader";const qn=(0,de.Z)(Hn);var Vn=a(56109),Wn=a.n(Vn),Gn=a(66185);const zn=a.p+"static/images/default-error__min_73e78a599ae0b1da.webp",$n=a.p+"static/images/warning-icon__min_cdf192db9ffb270a.svg";var Kn=a(86345),Yn=a.n(Kn),Qn=a(70396),Xn=a.n(Qn),Jn=a(10900);const es=(e,t={})=>m.Z.get("/chatik/api/search",{params:e,...t,signal:t.signal}).then((({data:e})=>{if("object"!=typeof e){const t=new Error("Invalid search chats data received");return Jn.c.log("out",t,{data:e}),null}return e}));let ts=function(e){return e[e.NetworkError=0]="NetworkError",e[e.CommonError=1]="CommonError",e}({});const as=({listRef:e})=>{const t=(0,l.v)((e=>e.search.query)),a=(0,l.v)((e=>e.search.chats)),n=(0,l.v)((e=>e.search.chatsDisplayInfo)),s=(0,l.v)((e=>e.search.lastSearchedQuery)),o=(0,r.useDispatch)(),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null),p=(0,i.useRef)(!1),m=(0,i.useRef)(),v=(0,i.useRef)(),g=(0,i.useCallback)((t=>{var a;null===(a=v.current)||void 0===a||a.abort(),v.current=new AbortController,p.current=!0,m.current=setTimeout((()=>{h(null),d(!0)}),1e3);const n=(t,a)=>{e.current&&(e.current.scrollTop=0),o(((e,t)=>({type:sn,searchedChats:t,query:e}))(t,a)),p.current=!1,clearTimeout(m.current),d(!1)};es({query:t.trim()},{signal:v.current.signal}).then((e=>{n(t,e),h(null)})).catch((e=>{Yn().isCancel(e)||(n(t,null),h("Network error"===e.message?ts.NetworkError:ts.CommonError))}))}),[e,o]),y=(0,i.useMemo)((()=>Xn()(g,1e3)),[g]);return(0,i.useEffect)((()=>{const e=t.trim();return e&&e!==(null==s?void 0:s.trim())&&y(t),()=>{var e;y.cancel(),clearTimeout(m.current),null===(e=v.current)||void 0===e||e.abort()}}),[]),{data:{searchValue:t,searchedChats:a,displayInfo:n},loading:c,error:u,searchByQuery:e=>{o(ln(e));var t;if(!e.trim())return null===(t=v.current)||void 0===t||t.abort(),o(on()),e&&o(ln(e)),p.current=!1,clearTimeout(m.current),d(!1),h(null),void y.cancel();y(e)},loadNextSearchPage:()=>{var e;if(p.current||!a.nextFrom)return;p.current=!0,null===(e=v.current)||void 0===e||e.abort(),v.current=new AbortController;const n=t.trim();es({query:n,searchFrom:a.nextFrom},{signal:v.current.signal}).then((e=>o(((e,t)=>({type:rn,query:e,searchedChats:t}))(n,e)))).finally((()=>p.current=!1))}}},ns="search-input-container--H0Effn1z86mySq5H",ss="placeholder-wrapper--jyKjKep18cMCG9pt",is="loader--QvkBZjnlnMMcmugH",rs={searchInputPlaceholder:"chatik.searchInput.placeholder",placeholderNotFoundTitle:"chatik.search.placeholder.notFound.title",placeholderNotFoundDescription:"chatik.search.placeholder.notFound.description",errors:{networkError:{title:"chatik.search.placeholder.networkError.title",description:"chatik.search.placeholder.networkError.description"},common:{title:"chatik.search.placeholder.commonError.title",description:"chatik.search.placeholder.commonError.description"}}},os=({trls:e})=>{var t;const a=(0,i.useRef)(null),{isXS:n,isMobile:s}=(0,R.G)(),r=(0,Et.l)(Nt),o=(0,Et.l)($n),l=(0,Et.l)(jt),c=(0,Et.l)(zn),{data:d,loading:u,error:h,searchByQuery:p,loadNextSearchPage:m}=as({listRef:a}),{searchValue:v,searchedChats:g,displayInfo:y}=d,w=0===(null==g||null===(t=g.items)||void 0===t?void 0:t.length),x=Boolean(null==g?void 0:g.nextFrom);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:ns,children:(0,f.jsx)(Gn.M,{"data-qa":"chatik-search-chats-input",autoFocus:!0,value:v,size:"medium",placeholder:e[rs.searchInputPlaceholder],clearable:!0,onChange:p,onButtonClick:()=>Wn()()})}),(()=>{const t=null==v?void 0:v.trim();switch(!0){case u:return(0,f.jsx)("div",{className:is,children:(0,f.jsx)(M.a,{size:24})});case t&&w:{const t=s?l:r,a=(()=>n?194:s?void 0:57)();return(0,f.jsx)("div",{className:ss,children:(0,f.jsx)(Tt.V,{"data-qa":"chatik-search-not-found-placeholder",image:t,imageHeight:a,title:e[rs.placeholderNotFoundTitle],description:e[rs.placeholderNotFoundDescription]},a)})}case t&&!!h:{const t=(e=>e===ts.NetworkError?rs.errors.networkError:rs.errors.common)(h),a=s?c:o,i=(()=>n?174:s?void 0:57)();return(0,f.jsx)("div",{className:ss,children:(0,f.jsx)(Tt.V,{"data-qa":"chatik-search-error-placeholder",image:a,imageHeight:i,title:e[t.title],description:e[t.description]},i)})}case Boolean(t):return(0,f.jsx)(wt,{ref:a,chats:g.items,displayInfo:y,hasNextPage:x,onPageLoad:m,cellsView:"compact"});default:return null}})()]})};os.displayName="Navigation/Search/index/Search";const ls=(0,de.Z)(os),cs="container--FjXqZ6nkd4QeQclm",ds="loader--cs1FAFfY2FgNHWfK",us=()=>{const e=(0,l.v)((e=>e.navigationView)),t=(0,i.useRef)(null),{areInlineFilters:a}=Y();J();return(0,f.jsxs)("div",{className:cs,ref:t,children:[(0,f.jsx)(qn,{}),(()=>{switch(e){case"filters":return(0,f.jsx)(i.Suspense,{fallback:(0,f.jsx)("div",{className:ds,children:(0,f.jsx)(M.a,{size:24})}),children:(0,f.jsx)(za,{})});case"search":return(0,f.jsx)(ls,{});case"chatList":return(0,f.jsxs)(f.Fragment,{children:[a&&(0,f.jsx)(ra,{}),(0,f.jsx)(Gt,{})]});default:return null}})()]})};us.displayName="components/Navigation/index/Navigation";const hs=us;var ps=a(92826);const ms="layout--lQSLcKPBFYsdLefB",vs="proxy-page-layout--h00yeUWPiU0uh91m",gs="content--hyyO0Q8oeVUHHmHa",ys="navigation--MoRKogkS5aQyLrBM",fs="main-content--duqM70SHgIZ7Kw4a",ws=(0,o.makeSetStoreField)("chatListActiveState"),xs=({children:e,singleColumnMode:t="content"})=>{const a=(0,l.v)((({chats:e})=>e.chats.items)),n=(0,l.v)((({chats:e})=>e.wasNotRequested)),s=(0,l.v)((({chatData:e})=>e.chat.id)),o=(0,l.v)((e=>e.showOnlyUnread)),c=(0,l.v)((e=>e.isProxyPage)),{name:d}=se(),u=(0,r.useDispatch)(),{isXS:h,isMobile:p}=(0,R.G)(),{areFiltersVisible:m}=Y(),v=p&&"content"!==t,g=p&&"navigation"!==t,y=!g,w=d&&d!==j.x.List,x=(0,i.useMemo)((()=>a.some((e=>It({chat:e,isXS:h,currentChatId:w?s:void 0,showOnlyUnread:o})))),[a,h,s,w,o]),b=Boolean(x||n||w||p&&m);return(0,i.useEffect)((()=>{u(ws(y))}),[y,u]),(0,f.jsxs)("div",{id:"chatik-layout","data-qa":"chatik-layout",className:A()(ms,{[vs]:c}),children:[(0,f.jsxs)("div",{className:gs,children:[!g&&(0,f.jsx)("div",{className:ys,children:(0,f.jsx)(hs,{})}),!v&&(0,f.jsx)("div",{className:fs,children:b?e:(0,f.jsx)(xt.Z,{showButtons:!0})})]}),!ha.vK&&(0,f.jsx)(ps.Z,{})]})};xs.displayName="components/Layout/index/Layout";const bs=xs;var ks=a(42515);const Cs=()=>{const e=(0,ks.Z)(),t=(0,l.v)((({activeState:e})=>e)),a=(0,l.v)((e=>e.isProxyPage)),n=(0,i.useRef)(!0),s=(0,i.useRef)(null);(0,i.useEffect)((()=>{s.current=Q.L.get("crypted_id")}),[]),(0,i.useEffect)((()=>{if(e){if(t&&!n.current){n.current=!0;const e=Q.L.get("crypted_id");e&&e!==s.current&&(ha.vK?(0,ha.AW)("iframeRemount"):window.location.href=a?"/chat":"/")}}else n.current=!1}),[e,t,a])};var Is=a(96915),Ss=a(20937),Es=a(87749),Ts=a(61675),_s=a(88915),js=a(36788);const Ns=()=>{let e;const t=()=>{e&&clearTimeout(e)};return{stop:t,schedule:(a,n)=>{t(),e=setTimeout(a,n)}}},As={onConnect:"connect",onDisconnect:"disconnect",onChatMessage:"chat_message_create",onChatMessageDeleted:"chat_message_deleted",onChatMessageEdit:"chat_message_edited",onChatStateChange:"chat_state_changed",onLastViewedMessageChange:"last_viewed_message_change",onParticipantAction:"chat_participant_action"},Rs=e=>{const t=[];return Object.entries(As).forEach((([a,n])=>{const s=e[a];s&&t.push(Ss.I.on(n,s))})),()=>{t.forEach((e=>{try{e()}catch(e){console.error("Error during websocket unsubscribe",e)}}))}},Ms=(e,t,a)=>{let n=t(e.getState());return e.subscribe((()=>{const s=e.getState(),i=t(s);((e,t)=>{if(e&&!t)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!0;return!1})(i,n)&&(n=i,a(s))}))},Ds=(e,t=[])=>{let a=t;return(t,n=[])=>{const s=new Date;if((t?s.getTime()-t.getTime():1/0)>e)return a=n,!0;if(a.length!==n.length)return a=n,!0;return!a.every(((e,t)=>e===n[t]))&&(a=n,!0)}},Ps=(e,t)=>{if(!t)return e;const a=e-(Date.now()-t.getTime());return Math.max(a,0)},Zs=e=>(Math.random()+.25)*e,Ls=/\/chat\/(\d+)/,Fs=e=>{var t;return parseInt((null===(t=Ls.exec(e))||void 0===t?void 0:t[1])||"",10)},Us=e=>{const t=(0,Ze.U6)(e).find((({type:e})=>"APPLICANT_USER"===e));return null==t?void 0:t.externalId},Os=Ns(),Bs=(e,t)=>{const a=e.getState(),n=[],s=new Set,i=Zs(a.features[h.A.ChatsDataUpdateDelay]||3e3),r=a.features[h.A.WebsocketEnabled],o=a.features[h.A.UpdateAfterSocketEventDelay],l=a.features[h.A.AutoFetchUpdateDelayWithWebSocket]||12e4;let c=a.activeState,d=Fs(a.router.location.pathname),u=i,p=0,m=null,v=new Date,g=null,y=!1;const f=e=>Ds(e,[d,g]);let w=f(u);const x=()=>{p=0},b=async({force:t=!1,retry:a=!1}={})=>{Os.stop();const n=r&&y;if(d&&!(n&&p>=5)){if(t||w(v,[d,g])){null!==m&&(m=null,w=f(u));const t=Us(e.getState());try{var s;v=new Date,g=null;const i=await(0,_s.Z)({chatId:d,applicantId:t},{retry:a});e.dispatch((0,Es.$2)(i)),e.dispatch((0,Ts.L2)()),n&&"NOT_FOUND"===(null==i||null===(s=i.error)||void 0===s?void 0:s.code)?p+=1:x()}catch(e){return void Os.schedule(b,5*u)}}Os.schedule(b,Ps(null!=m?m:u,v))}};n.push(Ms(e,(({router:e,inlineChatId:t})=>[e.location.pathname,t]),(({router:{location:{pathname:e}},inlineChatId:t})=>{const a=Fs(e)||t;d!==a&&s.clear(),a&&(d=a,b({retry:!0}))}))),n.push(((e,t,a)=>Ms(e,(e=>[t(e)]),a))(e,(({activeState:e})=>e),(({activeState:e})=>{c=e,Os.stop(),e&&b({retry:!0})}))),c&&b();let k=()=>{};if(r){const a=(0,bt.D)((({force:t=!1}={})=>{const a=e.getState().chatData,n=[...s].some((e=>!((e,t)=>t.chat.messages.items.find((t=>t.id===e)))(e,a)));(t||n)&&b({force:!0,retry:!0}),s.clear()}),o);k=Rs({onConnect:()=>{m=null,u=l,y=!0,w=f(u),x(),c&&b({force:y,retry:!0})},onDisconnect:()=>{m=Zs(i),u=i,w=f(m),x(),c&&(v=new Date,b())},onChatMessage:n=>{if((0,js.Z)(),n.messageType===Ee.u.ParticipantLeft&&n.chatId===d){var i,r;const{currentParticipantId:a}=null!==(i=null===(r=e.getState().chatData)||void 0===r?void 0:r.chat)&&void 0!==i?i:{};if(a===n.participantId)return void t("/chat")}c&&n.chatId===d?(s.add(n.messageId),a()):g=n},onChatMessageEdit:async({messageId:t,chatId:a})=>{if(!d)return;const n=Us(e.getState());let s;try{s=await(0,_s.Z)({chatId:d,applicantId:n});const a=e.getState().chatData.chat.messages.items;a[a.length-1].id===t&&e.dispatch((0,Ts.L2)())}catch(e){}if(!s||s.error)return;const i=s.chat.messages.items.find((({id:e})=>e===t));null!=i&&i.text&&e.dispatch((0,Ot.AK)(a,t,i.text,i.lastChangeTime))},onChatStateChange:e=>{c&&e.chatId===d?(s.clear(),a({force:!0})):g=e},onChatMessageDeleted:({chatId:t,messageId:a})=>{t===d&&e.dispatch((0,Es.Am)(t,a))}}),n.push((()=>a.cancel())),n.push(k)}return()=>{Os.stop(),n.forEach((e=>{try{e()}catch(e){console.error("Error during chat data init unsubscribe",e)}}))}},Hs=(0,o.makeSetStoreField)("shouldReloadFiltersClusters"),qs=Ns(),Vs=e=>{const t=e.getState(),a=[],n=t.features[h.A.ChatsDataUpdateDelay]||3e3,s=t.features[h.A.WebsocketEnabled],i=t.features[h.A.AutoFetchUpdateDelayWithWebSocket]||12e4;let r=t.selectedVacanciesClusters,o=t.selectedEmployerStatesClusters,l=t.showOnlyUnread,c=t.showOnlyWithTextMessages,d=n,u=null,p=t.chats.wasNotRequested?void 0:new Date,m=null,v=t.activeState,g=t.chatListActiveState;const y=e=>Ds(e,[r,o,l,c,m]);let f=y(d);const w=async(t={})=>{if(qs.stop(),!f(p,[r,o,l,c,m]))return void qs.schedule(w,Ps(null!=u?u:d,p));let a;u&&(u=null,f=y(d));try{p=new Date,a=await(0,Bt.Z)({vacancyIds:r,employerStates:o,filterUnread:l,filterHasTextMessage:c},{retry:Boolean(null==t?void 0:t.retry),abort:!0})}catch(e){return void qs.schedule(w,5*d)}m=null,e.dispatch((0,Ot.GL)(a)),qs.schedule(w,Ps(d,p))};a.push(Ms(e,(e=>[e.selectedVacanciesClusters,e.selectedEmployerStatesClusters,e.showOnlyUnread,e.showOnlyWithTextMessages]),(({selectedVacanciesClusters:t,selectedEmployerStatesClusters:a,showOnlyUnread:n,showOnlyWithTextMessages:s})=>{r=t,o=a,l=n,c=s,v&&g&&(e.dispatch((0,Ot.VB)()),w({retry:!0}))}))),a.push(Ms(e,(e=>[e.activeState,e.chatListActiveState]),(({activeState:e,chatListActiveState:t})=>{v=e,g=t,qs.stop(),e&&g&&w({retry:!0})}))),v&&g&&w();let x=()=>{};if(s){const t=new Set,s=(t,a)=>{const n=t.filter((e=>{var t;return!(null!=a&&null!==(t=a.chats.items)&&void 0!==t&&t.find((t=>t.id===e)))}));n.length&&e.dispatch((0,Ot.Vg)(n))},h=(0,bt.D)((()=>{const a=[...t.values()];t.clear(),(0,Bt.Z)({ids:a}).then((t=>{s(a,t),e.dispatch((0,Ot.GL)(t))})).catch(console.error)}),500),b=(0,bt.D)((()=>{const a=[...t.values()];return Promise.all([(t.clear(),(0,Bt.Z)({ids:a})),(0,Bt.Z)({page:e.getState().chats.chats.page,vacancyIds:r,employerStates:o,filterUnread:l,filterHasTextMessage:c})]).then((([t,n])=>{s(a,t),e.dispatch((0,Ot.GL)(t)),e.dispatch((0,Ot.GL)(n))})).catch(console.error)}),500),k=(0,bt.D)((()=>{const t=r&&r.length>0||o&&o.length>0||c?2e3:0;new Promise((e=>setTimeout(e,t))).then((()=>(0,Bt.Z)({vacancyIds:r,employerStates:o,filterUnread:l,filterHasTextMessage:c},{retry:!0}))).then((t=>e.dispatch((0,Ot.GL)(t)))).catch(console.error)}),500);x=Rs({onConnect:()=>{u=null,d=i,f=y(d),v&&g&&w({retry:!0})},onDisconnect:()=>{d=n,u=Zs(n),f=y(u),v&&g&&(p=new Date,w())},onChatMessage:a=>{if(e.dispatch(Hs(!0)),a.messageType===Ee.u.ParticipantLeft){const{items:t}=e.getState().chats.chats,n=null==t?void 0:t.find((e=>e.id===a.chatId));if((null==n?void 0:n.currentParticipantId)===a.participantId)return void e.dispatch((0,Ot.Lf)(a.chatId))}t.delete(a.chatId),v?k():m=a},onChatStateChange:e=>{v&&g?k():m=e},onChatMessageDeleted:({chatId:a,messageId:n})=>{var s;const{items:i,hasNextPage:r}=e.getState().chats.chats,o=null==i?void 0:i.find((e=>e.id===a));o&&(null===(s=o.lastMessage)||void 0===s?void 0:s.id)===n&&(t.add(a),r?(h.cancel(),b()):(b.cancel(),h()))}}),a.push((()=>h.cancel())),a.push((()=>h.cancel())),a.push((()=>k.cancel())),a.push(x)}return()=>{qs.stop(),a.forEach((e=>{try{e()}catch(e){console.error("Error during chats init unsubscribe",e)}}))}},Ws="ADD_CHAT_PARTICIPANT_ACTION",Gs="REMOVE_CHAT_PARTICIPANT_ACTION",zs=e=>({type:Gs,...e}),$s=Ns(),Ks=e=>{const t=e.getState(),a=[],n=new Map;let s=()=>{};return t.features[h.A.WebsocketEnabled]&&(s=Rs({onParticipantAction:({chatId:t,participantId:a,state:s,durationMs:i})=>{const r=`${t}_${a}`;if("NONE"===s){e.dispatch(zs({chatId:t,participantId:a}));const s=n.get(r);return void(s&&(clearTimeout(s),n.delete(r)))}const{chats:o,chatData:l}=e.getState(),{items:c}=o.chats,d=null==c?void 0:c.find((e=>e.id===t)),u=l.chat.id===t;if(d||u){e.dispatch((h={chatId:t,participantId:a,action:s,durationMs:i},{type:Ws,...h}));const o=n.get(r);o&&clearTimeout(o);const l=setTimeout((()=>{e.dispatch(zs({chatId:t,participantId:a})),n.delete(r)}),i);n.set(r,l)}var h},onLastViewedMessageChange:({chatId:t,lastViewedMessageId:a})=>{(0,js.Z)(),e.dispatch((0,Ot.nR)({updateFor:"opponent",chatId:t,messageId:a}))}}),a.push(s)),()=>{$s.stop(),a.forEach((e=>{try{e()}catch(e){console.error("Error during chat data init unsubscribe",e)}}))}},Ys=({store:e,push:t,websocketOrigin:a,withoutChatList:n})=>{Ss.I.connect({origin:a});const s=n?void 0:Vs(e),i=Bs(e,t),r=Ks(e),o=Ss.I.on("connect",(()=>{var e;(0,ha.AW)("@@debug/websocketConnected",{requestId:null===(e=window.globalServiceVars)||void 0===e||null===(e=e.chatik)||void 0===e?void 0:e.requestId})}));return()=>{o(),null==s||s(),i(),r()}};var Qs=a(70077),Xs=a(91010),Js=a(12114);const ei=e=>{const t=(0,Xs.j)(e.url);if((!t.hostname||"undefined"!=typeof window&&t.hostname===window.location.hostname)&&(e.headers.common["X-Requested-With"]="XMLHttpRequest",!Js.L.get("_xsrf"))){const t=window.globalServiceVars.chatik.xsrfToken;t?e.headers.common["X-Xsrftoken"]=t:Jn.c.log("out",new Error("XSRF not exist in either the cookie or the store"))}return e};var ti,ai;const ni=(0,a(96551).pushRequestIdToSentry)(null===(ti=window.globalServiceVars)||void 0===ti||null===(ti=ti.chatik)||void 0===ti||null===(ti=ti.features)||void 0===ti?void 0:ti.sentry_logging,null===(ai=window.globalServiceVars)||void 0===ai||null===(ai=ai.chatik)||void 0===ai||null===(ai=ai.features)||void 0===ai?void 0:ai.sentry_request_queue_limit),si=e=>{var t;const a=null==e||null===(t=e.response)||void 0===t?void 0:t.headers["x-request-id"];return ni(a),Promise.reject(e)},ii="axiosRequests",ri="errors",oi={[ri]:[],[ii]:0};"undefined"==typeof window||window.qaState||(window.qaState=oi);const li=oi;var ci=a(3428);(0,ci.ZP)(Qs.Z,{retries:3,retryDelay:e=>e**2*750});const di=e=>{if(!e.retry||!1===e.retry)return{...e,"axios-retry":{retries:0}};if(e.retry&&!e["axios-retry"]){const t="number"==typeof e.retryCount?e.retryCount:3;return{...e,"axios-retry":{retries:t}}}return e},ui=e=>{var t;return"get"!==e.method?e:{...e,params:{...null!==(t=e.params)&&void 0!==t?t:{},do_not_track_session_events:ha.vK}}},hi=e=>{const t=e.headers["x-request-id"];return ni(t),e},pi=new Map;m.Z.defaults.withCredentials=!0,m.Z.interceptors.request.use(ui),m.Z.interceptors.request.use(ei),m.Z.interceptors.request.use(di),m.Z.interceptors.request.use((e=>{var t;if(!e.abort||!e.url)return e;const{url:a}=e,n=new AbortController;return null===(t=pi.get(a))||void 0===t||t.abort(),pi.set(a,n),{...e,signal:n.signal}})),m.Z.interceptors.request.use(Qs.t),m.Z.interceptors.response.use((e=>{var t;const{url:a}=null!==(t=null==e?void 0:e.config)&&void 0!==t?t:{};return a&&pi.get(a)&&pi.delete(a),e}),(e=>{var t;const{url:a}=null!==(t=null==e?void 0:e.config)&&void 0!==t?t:{};return a&&pi.get(a)&&pi.delete(a),Promise.reject(e)})),m.Z.interceptors.response.use(hi,si);const mi=()=>{const e=li[ii];li[ii]=e-1};m.Z.interceptors.request.use((e=>((()=>{const e=li[ii];li[ii]=e+1})(),e)),(e=>Promise.reject(e))),m.Z.interceptors.response.use((e=>(mi(),e)),(e=>(mi(),Promise.reject(e))));var vi=a(63214),gi=a(99102),yi=a(20046);let fi=!1;const wi=()=>{if(fi)return;const e=(()=>{if(!ha.vK)return null;let e="xhh";e=window.location.hostname.replace("chatik.","").includes(yi.D.ZP)?"zp":new URLSearchParams(location.search).get("platform")===gi.Y.Talantix?"talantix":e;return e})();fi=!0;const t=t=>{n.default.sendHHEvent("chat_front_performance",{origin:e,metricName:t.name,metricValue:t.value,navigationType:t.navigationType})};(0,vi.mr)(t),(0,vi.a4)(t),(0,vi.NO)(t),(0,vi.mw)(t),(0,vi.Yn)(t)},xi="lux.error",bi=({trls:e})=>(0,f.jsx)("div",{className:"app-error",children:e[xi]});bi.displayName="components/AppContainer/ErrorPage/ErrorPage";const ki=(0,de.Z)(bi);var Ci=a(13084),Ii=a.n(Ci),Si=a(52002),Ei=a(21665);const Ti=(0,a(83307).createSlice)({name:"chatView",initialState:{},reducers:{setChatView:(e,t)=>{e.view=t.payload.view,e.draggable=t.payload.draggable}}}),{setChatView:_i}=Ti.actions,ji=Ti.reducer,Ni=(0,o.makeSetStoreField)("activeState"),Ai=(0,o.makeSetStoreField)("shouldCloseOnBack"),Ri=(0,o.makeSetStoreField)("applicantFirstContactChatId"),Mi=(0,o.makeSetStoreField)("parentWindowUrl"),Di=(0,o.makeSetStoreField)("parentScreenBreakpoint"),Pi=(0,o.makeSetStoreField)("chatIntegrationType"),Zi="chatik.notification.viewerLoadingError",Li=(0,de.Z)((()=>{const e=(0,c.usePush)(),t=(0,r.useDispatch)(),a=(0,jn.T)(),s=(0,Si.Z)(),o=(0,i.useRef)(!0),d=(0,l.v)((e=>e.router.location.pathname)),u=(0,l.v)((e=>e.router.location.search)),h=(0,l.v)((({chatIntegrationType:e})=>e)),p=(0,i.useCallback)((a=>{if(!a)return;const{chatId:n,message:s,applicantFirstContact:i,hhtmFrom:r,hhtmFromLabel:l,metadata:c,view:d="compact",draggable:u=!0,currentUrl:h,botParams:p,parentScreenBreakpoint:m=null}=a;window.globalServiceVars.chatik.analyticsParams.hhtmFrom=r,l&&(window.globalServiceVars.chatik.analyticsParams.hhtmFromLabel=l),c&&(window.globalServiceVars.chatik.metadata=c);const v=location.pathname,g=n?`/chat/${n}`:v;v!==g&&e(g,o.current?void 0:p);const y=[];if(n&&(y.push(Ri(i?n:null)),s&&"string"==typeof s&&(y.push((0,Ei.W9)({text:s})),y.push((0,Is.cK)(n))),s&&"string"!=typeof s&&(y.push((0,Ei.W9)(s)),y.push((0,Is.UF)(n,s)))),h){const e=new URL(h);e.search="",y.push(Mi(e.toString()))}"widget"===a.type&&y.push(_i({view:d,draggable:u})),y.push(Pi(a.type)),y.push(Ni(!0)),y.push(Di(m)),o.current=!1,t(y)}),[t,e]);return(0,i.useEffect)((()=>(0,ha.A2)()),[]),(0,i.useEffect)((()=>(0,ha.Ld)("activate",p)),[p]),(0,i.useEffect)((()=>(0,ha.Ld)("deactivate",(()=>{t(Ni(!1)),t(Ai(!1))}))),[t]),(0,i.useEffect)((()=>(0,ha.Ld)("navigate",p)),[p]),(0,i.useEffect)((()=>{const e=e=>{"Escape"!==e.key&&"Esc"!==e.key||(n.default.sendHHEventButtonClick("chat_list_close",{type:"ESC_CLICK"}),(0,ha.AW)("close"))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]),(0,i.useEffect)((()=>(0,ha.Ld)("parentBreakpointChange",(({breakpoint:e})=>{t(Di(e))}))),[t]),(0,i.useEffect)((()=>(0,ha.Ld)("viewerImageLoadingError",(()=>{s({kind:"error",content:a[Zi],autoClose:!0})}))),[s,a]),(0,i.useEffect)((()=>(0,ha.Ld)("viewerLogEvent",(e=>{Ii()({...e,hhtmSource:"chat"})}))),[h]),(0,i.useEffect)((()=>(0,ha.Ld)("viewerLogShown",(e=>{n.default.sendHHEvent("element_shown",{...e,elementName:"chat_viewer",hhtmSource:"chat"})}))),[h]),(0,i.useEffect)((()=>{(0,ha.AW)("locationChange",{pathname:d,search:u})}),[d,u]),null}));var Fi=a(29838);const Ui="chatik.title",Oi=({trls:e})=>(0,f.jsx)(Fi.Title,{children:e[Ui]});Oi.displayName="components/AppContainer/PageHead/PageHead";const Bi=(0,de.Z)(Oi);let Hi=function(e){return e.EmployerStates="employerStates",e.VacancyIds="vacancyIds",e.FilterUnread="filterUnread",e.FilterHasTextMessage="filterHasTextMessage",e.ShowFilters="showFilters",e}({});const qi=(0,o.makeSetStoreField)("selectedEmployerStatesClusters"),Vi=(0,o.makeSetStoreField)("selectedVacanciesClusters"),Wi=(0,o.makeSetStoreField)("showOnlyUnread"),Gi=(0,o.makeSetStoreField)("showOnlyWithTextMessages"),zi=(0,o.makeSetStoreField)("navigationView"),$i={[Hi.EmployerStates]:qi,[Hi.VacancyIds]:Vi,[Hi.FilterUnread]:Wi,[Hi.FilterHasTextMessage]:Gi,[Hi.ShowFilters]:e=>zi(e?H.Filters:H.ChatList)},Ki=()=>{const{isEmployer:e}=(0,V.Z)(),t=(0,r.useDispatch)(),a=(0,l.v)((e=>e.hhid));(0,i.useLayoutEffect)((()=>{if(!a)return;const n=`${X}${a}`,s=Q.L.get(n);if(!s&&e)return void t(Gi(!0));if(!s)return;const i=JSON.parse(s);Object.entries(i).forEach((([e,a])=>{if(e in $i){const n=(e=>$i[e])(e);t(n(a))}}))}),[t,a,e])},Yi=(0,o.makeSetStoreField)("activeState"),Qi=({children:e})=>{const t=(0,l.v)((e=>e.websocketOrigin)),a=(0,De.Z)(),{didCatch:n}=p(),s=(0,c.usePush)(),o=(0,r.useDispatch)();Cs(),Ki(),wi();const{name:d}=se();return(0,i.useEffect)((()=>{ha.vK||o(Yi(!0))}),[o]),(0,i.useLayoutEffect)((()=>{o((0,Is.Ry)()),document.body.classList.remove("magritte-old-layout")}),[o]),(0,i.useEffect)((()=>{var e;ha.vK&&(null===(e=window.top)||void 0===e||e.postMessage(JSON.stringify({name:"hhid",data:a.getState().hhid}),"*"));return Ys({store:a,push:s,websocketOrigin:t})}),[a,s,t]),n?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Bi,{}),(0,f.jsx)(ki,{}),ha.vK&&(0,f.jsx)(Li,{})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Bi,{}),ha.vK&&(0,f.jsx)(Li,{}),(0,f.jsx)(bs,{singleColumnMode:d===j.x.List?"navigation":"content",children:e})]})};Qi.displayName="components/AppContainer/index/AppContainer";const Xi=(Ji=Qi,e=>(0,f.jsx)(_,{children:(0,f.jsx)(Ji,{...e})}));var Ji;let er=function(e){return e.SpoilerChat="SpoilerChat",e.InlineChat="InlineChat",e}({});var tr=a(40510),ar=a(60186),nr=a(16637),sr=a(75539),ir=a(7563),rr=a(95983),or=a(55750);var lr=a(31818),cr=a(69441),dr=a(99222),ur=a(20446),hr=a(26442),pr=a(29801),mr=a(71473);const vr="dialog-header--QK3KJlfCnYUxqnQ0",gr="dialog-title--zMb0q_ZHmRIOuY0u",yr="participant-info--UWx3IlTxEkN_PYez",fr="workflow-card-wrapper--KtWitl7XcZMEBnQU",wr="workflow-subtitle--RSGWfduXXwMH2jdW",xr="chatik.inlineChat.workflowCard.title",br="chatik.inlineChat.workflowCard.action",kr={[Le.H.DiscardByApplicant]:"workflowCard.negotiations.states.discardByApplicant",[Le.H.DiscardByEmployer]:"workflowCard.negotiations.states.discardByEmployer.softForm",[Le.H.DiscardNoInteraction]:"workflowCard.negotiations.states.discardNoInteraction",[Le.H.DiscardToOtherVacancy]:"workflowCard.negotiations.states.discardToOtherVacancy",[Le.H.DiscardVacancyClosed]:"workflowCard.negotiations.states.discardVacancyClosed",[Le.H.Assesment]:"workflowCard.negotiations.states.assessment",[Le.H.Consider]:"workflowCard.negotiations.states.consider",[Le.H.Hired]:"workflowCard.negotiations.states.hired",[Le.H.Interview]:"workflowCard.negotiations.states.interview",[Le.H.Offer]:"workflowCard.negotiations.states.offer",[Le.H.PhoneInterview]:"workflowCard.negotiations.states.phone_interview",[Le.H.Response]:"workflowCard.negotiations.states.response"},Cr=({trls:e})=>{const t=(0,mr.Z)(),a=(0,l.v)(Ze.Fq);return null!=a&&a.currentEmployerState?(0,f.jsx)("div",{className:fr,children:(0,f.jsx)(_a.Z,{stretched:!0,padding:12,borderRadius:16,borderWidth:"default",children:(0,f.jsxs)(Yt.b,{right:t?(0,f.jsx)(mn.r,{Element:"button",onClick:()=>{window.dispatchEvent(new CustomEvent("Inline-Chat-ChangeTopic"))},"data-qa":"inline-chat-change-topic-button",children:e[br]}):void 0,children:[(0,f.jsx)(Xt.j,{children:e[xr]}),(0,f.jsx)(Xt.j,{type:"subtitle",children:(0,f.jsxs)("div",{className:wr,children:[(0,f.jsx)(le.T6B,{initialColor:"secondary"}),e[kr[a.currentEmployerState]]]})})]})})}):null};Cr.displayName="InlineChat/DialogHeader/WorkflowCard/WorkflowCardComponent";const Ir=(0,de.Z)(Cr),Sr=({withCall:e,withClose:t,withComments:a})=>{const n=(0,l.v)((({chatData:e})=>e.display)),s=(0,l.v)((({chatData:e})=>{var t;return null===(t=e.chat)||void 0===t?void 0:t.ownerViolatesRules})),r=(0,l.v)((({chatData:e})=>{var t;return null===(t=e.chat)||void 0===t?void 0:t.subType})),o=(0,l.v)((({chatData:e})=>{var t;return null===(t=e.chat)||void 0===t?void 0:t.onlineUntilTime})),{isApplicant:c}=(0,V.Z)(),d=(0,hr.Z)(),u=c?n.subtitle:n.title,h=s||!u,[p,m]=(0,i.useState)(!1),v=(0,i.useRef)(null),g=()=>{m(!1)},y=(0,f.jsxs)("div",{className:yr,children:[(0,f.jsx)(da.x,{typography:"subtitle-1-semibold",maxLines:1,children:n.title}),(0,f.jsx)(ur.Y,{online:!h&&("GENAI"===r||!!o&&(0,Ne.Dp)(o)===Ne.$r.ONLINE)})]}),w=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(lr.q,{default:4,children:[e&&(0,f.jsx)(le.PdJ,{"data-qa":"inline-chat-call-button",padding:8,onClick:()=>{window.dispatchEvent(new CustomEvent("Inline-Chat-Call"))}}),a&&(0,f.jsx)(le.sRI,{"data-qa":"inline-chat-open-comments",padding:8,onClick:()=>{window.dispatchEvent(new CustomEvent("Inline-Chat-OpenComments"))}}),(0,f.jsx)(le.yRg,{ref:v,"data-qa":"inline-chat-context-menu-activator",padding:8,onClick:()=>{m((e=>!e))}}),t&&(0,f.jsx)(le.Cs7,{"data-qa":"inline-chat-close-button",padding:8,onClick:()=>{window.dispatchEvent(new CustomEvent("Inline-Chat-CloseMF"))}})]}),(0,f.jsx)(cr.S,{visible:p,onClose:g,dropProps:{placement:"bottom-right",activatorRef:v,maxWidth:388},children:(0,f.jsx)(dr.Z,{chatId:d,view:"plain",close:g,hiddenOperations:[pr.Ru.LeaveChat]})})]});return(0,f.jsxs)("div",{className:vr,children:[(0,f.jsxs)("div",{className:gr,children:[y,w]}),(0,f.jsx)(Ir,{})]})};Sr.displayName="InlineChat/DialogHeader/index/DialogHeaderComponent";const Er=(0,de.Z)(Sr);var Tr=a(76679),_r=a(67833);const jr=(e,t)=>{const a=(0,De.Z)(),n=(0,hr.Z)();(0,i.useEffect)((()=>{e&&(0,_r.Z)((0,Tr.Z)({routeName:j.x.Chat,state:a.getState(),chatId:n,...t||{}}))}),[a,n,e,t])},Nr="inline-chat--ha7XNWPi4uUV7jjP",Ar="not-found-screen-wrapper--nGa8ZWm3_8QGIaKE",Rr="not-allowed-warning--ndLauWXz5_IBLBTs",Mr="chat-layout--PihgOKpxy4gSlfbS",Dr=(0,o.makeSetStoreField)("activeState"),Pr=(0,o.makeSetStoreField)("inlineChatId"),Zr=()=>{var e;const t=(0,r.useDispatch)(),a=(0,De.Z)(),n=(0,c.usePush)(),s=(0,l.v)((e=>e.websocketOrigin)),o=(0,l.v)((({chatData:e})=>e.forceReplacedId)),d=(0,l.v)((({chatData:e})=>e.chatStates.writeMessageState.allowed)),u=(0,l.v)((({chatData:e})=>e)),h=(0,l.v)((e=>e.inlineChatId)),p=(0,l.v)((({editMessage:e})=>Boolean(null==e?void 0:e.id))),m=(0,l.v)((e=>e.isSudo)),[v,g]=(0,i.useState)(),[y,w]=(0,i.useState)(null),x=(0,i.useRef)(null),b=(0,i.useRef)(null),k=null==u?void 0:u.error;(0,rr.Z)();const{renderOverlayScreen:C,handleDrag:I}=(0,ir.Z)(),{isEmployer:S}=(0,V.Z)(),{chatStates:E}=u,T=E.sendFileState.allowed,_=!p&&!m&&S,j=(null==u||null===(e=u.chat)||void 0===e?void 0:e.id)===h||!!k&&k.chatId===h,N=(0,or.M)();return jr(j,v),(0,i.useEffect)((()=>{const e=new AbortController;t(Dr(!0)),window.dispatchEvent(new CustomEvent("Inline-Chat-Ready"));const a={signal:e.signal};return window.addEventListener("Inline-Chat-OpenChat",(e=>{t(Pr(e.detail.chatId)),g(e.detail.analyticsParams)}),a),window.addEventListener("Inline-Chat-ActionsParams",(e=>{w(e.detail)}),a),()=>{e.abort("unmount")}}),[t]),(0,i.useEffect)((()=>{j&&(window.dispatchEvent(new CustomEvent("Inline-Chat-ChatLoaded")),t((0,Es.mi)(Date.now())))}),[t,j]),(0,i.useEffect)((()=>Ys({store:a,push:n,websocketOrigin:s,withoutChatList:!0})),[s,n,a]),"NOT_FOUND"===(null==k?void 0:k.code)?(0,f.jsx)("div",{className:A()(Nr,Ar),children:(0,f.jsx)(nr.Z,{})}):(0,f.jsxs)("div",{ref:x,className:Nr,onDragEnter:T?I:void 0,children:[(0,f.jsxs)("div",{className:Mr,children:[(0,f.jsx)(Er,{withClose:null==y?void 0:y.withClose,withCall:null==y?void 0:y.withCall,withComments:null==y?void 0:y.withComments}),(0,f.jsx)(ar.j,{scrollWrapperRef:b},o),d?(0,f.jsx)(tr.x,{enablePreview:!0,enableLinkPreview:!0,scrollWrapperRef:b,borderScrollValue:16,onChange:_?N:void 0}):(0,f.jsx)(sr.Z,{className:Rr})]}),C(),(0,f.jsx)(ps.Z,{})]})};Zr.displayName="proxyComponents/InlineChat/index/InlineChatComponent";const Lr=(0,de.Z)(Zr);var Fr=a(68031),Ur=a(43952),Or=a.n(Ur),Br=a(4918),Hr=a.n(Br),qr=a(45418),Vr=a(65526),Wr=a(59343),Gr=a(17938),zr=a(29725),$r=a(86918);const Kr="spoiler-chat--jbptEqKYvDgN7DZG",Yr="scroll-wrapper--UL_FZy6wtjEcb4yz",Qr="not-allowed-warning--QhqyMqj8GEzOQwKM",Xr="vacancyresponse.dialog.openChat",Jr="vacancyresponse.dialog.moreUnreadMessages",eo={one:"vacancyresponse.dialog.undearMessage.one",some:"vacancyresponse.dialog.undearMessage.some",many:"vacancyresponse.dialog.undearMessage.some"},to=({trls:e})=>{var t;const a=(0,r.useDispatch)(),{userType:n}=(0,V.Z)(),s=(0,De.Z)(),o=(0,l.v)((({isSudo:e})=>e)),c=(0,l.v)((({spoilerChatUrl:e})=>e)),{renderOverlayScreen:d,handleDrag:u}=(0,ir.Z)({isSpoiler:!0}),h=(0,l.v)((({displayType:e})=>e)),p=(0,l.v)((({chatData:e})=>e.chatStates.writeMessageState.allowed)),v=(0,l.v)((({chatData:e})=>e)),g=(0,l.v)((e=>(0,$r.t)(e,v.chat.id))),y=(0,l.v)((e=>e.quickReplies.visible)),w=(0,i.useRef)(null),x=(0,i.useRef)(null),{sendMessageImmediately:b,onQuickReply:k}=(0,zr.ZP)(),C=Boolean(null===(t=v.chatStates)||void 0===t||null===(t=t.sendFileState)||void 0===t?void 0:t.allowed),{messages:{items:I},id:S,unreadCount:E}=v.chat;(0,Vr.Z6)(v.chat.id,I),(0,i.useEffect)((()=>{Or()((0,Tr.Z)({routeName:j.x.Chat,chatId:S,state:s.getState()}));const e=I[I.length-1];e&&(async(e,t)=>{try{await m.Z.post("/chatik/api/mark_read",{chatId:e,messageId:t})}catch(e){return null}})(S,e.id)}),[a,s,S]);const T=(0,i.useCallback)((e=>{o&&e.preventDefault(),Hr()({unreadMessageCount:E}),window.dispatchEvent(new CustomEvent("Chatik-OpenChat",{detail:{id:S}}))}),[E,S,o]);(0,i.useEffect)((()=>{a((0,Ts.L2)())}),[a]),(0,i.useEffect)((()=>{if(h===qr.DisplayType.Mobile&&w.current){const e=w.current.getBoundingClientRect();window.innerHeight-e.top<440&&w.current.scrollIntoView({block:"center"})}}),[h]);const _=E>2?(0,Re.WU)(e[Jr],{"{0}":E>=100?"99+":E-2,"{1}":(0,Oe.Z)(E-2,[e[eo.one],e[eo.some],e[eo.many]])}):e[Xr],N=e=>{b({text:e})};return(0,f.jsxs)("div",{ref:w,className:Kr,style:{"--spoiler-max-height":"440px"},onDragEnter:C?u:void 0,children:[(0,f.jsx)("div",{ref:x,className:Yr,children:(0,f.jsxs)("div",{children:[(0,f.jsx)(_t.z,{"data-qa":"chatik-spoiler-open-button",size:"small",mode:"tertiary",style:"accent",Element:o?"a":"button",href:o?c:void 0,onClick:T,children:_}),I.slice(-2).map(((e,t,a)=>(0,f.jsx)(Wr.Z,{message:e,prevMessage:a[t-1],nextMessage:a[t+1],showUnreadMessagesPlate:!1,userType:n,sendTextMessage:N,hideTextButtons:!0,isSpoiler:!0},e.id))),(0,f.jsxs)(Fr.Z,{duration:200,height:y?"auto":0,children:[(0,f.jsx)(Ka.X,{default:16}),(0,f.jsx)(Gr.Z,{replies:g,handleReplyClick:k,chatId:S})]})]})}),p?(0,f.jsx)(tr.x,{scrollWrapperRef:x,borderScrollValue:16}):(0,f.jsx)(sr.Z,{className:Qr}),d()]})};to.displayName="proxyComponents/SpoilerChat/index/SpoilerChatComponent";const ao=(0,de.Z)(to),no={[er.SpoilerChat]:ao,[er.InlineChat]:Lr},so=()=>{const e=(0,l.v)((({request:e})=>e)),{url:t,pageName:a}=e;if((e=>e.includes("preload=1"))(t)||!(e=>e in no)(a))return null;const n=no[a];return(0,f.jsx)(T,{children:(0,f.jsx)(n,{})})};so.displayName="src/proxyComponents/index/ProxyComponents";const io=so;var ro=a(70249),oo=a(39012),lo=a(28691),co=a(74566),uo=a(96100),ho=a(35523);const po=[{path:j.n[j.x.List],name:j.x.List,component:lo.Z,exact:!0},{path:j.n[j.x.SupportChat],name:j.x.SupportChat,component:uo.Z,exact:!0},{path:j.n[j.x.Chat],name:j.x.Chat,component:ro.Z,exact:!0},{path:j.n[j.x.ChatParticipants],name:j.x.ChatParticipants,component:oo.Z,exact:!0},{path:j.n[j.x.Workflow],name:j.x.Workflow,component:ho.Z,exact:!0},{path:j.n[j.x.NotFound],name:j.x.NotFound,component:co.Z,exact:!0}];var mo=a(1046),vo=a(18241),go=a(35203);const yo=(e,t,a)=>{var n,s,i,r;return e.length===t.length&&(null===(n=e[0])||void 0===n?void 0:n[a])===(null===(s=t[0])||void 0===s?void 0:s[a])&&(null===(i=e[e.length-1])||void 0===i?void 0:i[a])===(null===(r=t[t.length-1])||void 0===r?void 0:r[a])},fo=e=>"object"==typeof e&&null!==e,wo=(e,t,a=[],n=!1)=>{const s=a.length?a:Object.keys(null!=e?e:{}),i=a.length?a:Object.keys(null!=t?t:{});return s.length===i.length&&s.every((a=>{const s=e[a],i=t[a];return n&&fo(s)&&fo(i)?wo(s,i,[],n):s===i}))},xo=(e,t)=>e.length===t.length&&e.every(((e,a)=>e===t[a]));var bo=a(57860);const ko={initialState:{chat:{id:0,messages:{items:[],hasMore:!1},type:"NEGOTIATION",notificationEnabled:!1,unreadCount:0,currentParticipantId:void 0,writePossibility:{name:pr.sZ.DisabledForApplicant},participantsIds:[],resources:{},pinned:!1,operations:{enabled:[]}},videos:[],display:{title:"",subtitle:""},chatStates:{writeMessageState:{allowed:!1,reason:null},sendFileState:{allowed:!1}},suggestions:{uuid:"",suggestionOptions:{options:[]}},missingResources:{resumes:{}},markAsRemovedMessages:{},hasMessagesWithTextButtons:!1},reducerMap:{[bo.cE]:(0,vo.Uy)(((e,{chatId:t,enabledOperations:a})=>{e.chat.id===t&&(e.chat.operations.enabled=a)})),[go.t4]:(0,vo.Uy)(((e,{chatId:t,messageId:a,text:n,lastChangeTime:s})=>{if(e.chat.id!==t)return;const i=e.chat.messages.items.find((({id:e})=>e===a));i&&((i.text&&i.text!==n||s)&&(i.lastChangeTime=null!=s?s:(new Date).toString()),i.text=n)})),[bo.gc]:(0,vo.Uy)(((e,{messageFakeId:t,realMessage:a})=>{const n=e.chat.messages.items;let s=-1,i=-1;n.forEach(((e,n)=>{e.id===t&&(s=n),e.id===a.id&&(i=n)})),-1!==i&&-1!==s?n.splice(s,1):-1!==s&&(n[s]=a),e.chat.currentParticipantId||(e.chat.currentParticipantId=a.participantId)})),[bo.qZ]:(0,vo.Uy)(((e,{chatId:t,messageId:a})=>{if(e.chat.id!==t)return;const n=e.chat.messages.items.findIndex((({id:e})=>e===a));-1!==n&&e.chat.messages.items.splice(n,1)})),[bo.b7]:(0,vo.Uy)(((e,{chatId:t,messageId:a})=>{var n;e.chat.id===t&&(e.markAsRemovedMessages=null!==(n=e.markAsRemovedMessages)&&void 0!==n?n:{},e.markAsRemovedMessages[a]=!0)})),[bo.Ds]:(0,vo.Uy)(((e,{chatId:t,message:a})=>{e.chat.id===t&&e.chat.messages.items.push(a)})),[go.Hs]:(0,vo.Uy)(((e,{chatId:t,notificationEnabled:a})=>{e.chat.id===t&&(e.chat.notificationEnabled=a)})),[bo.Og]:(0,vo.Uy)(((e,{newState:t,params:a})=>{if(!t)return;if(e.chat.id!==t.chat.id)return t;e.chat.currentParticipantId=t.chat.currentParticipantId,e.chat.messages.hasMore=t.chat.messages.hasMore&&e.chat.messages.hasMore,e.chat.unreadCount=t.chat.unreadCount,e.chat.onlineUntilTime=t.chat.onlineUntilTime,e.chat.lastActivityTime=t.chat.lastActivityTime;const n=e.chat.messages.items||[],s=t.chat.messages.items,i=t.chat.blockInfo;e.hasMessagesWithTextButtons||(e.hasMessagesWithTextButtons=s.some((e=>{var t;return null===(t=e.actions)||void 0===t||null===(t=t.text_buttons)||void 0===t?void 0:t.length}))),wo(e.chat.blockInfo||{},t.chat.blockInfo||{})?i||yo(n.slice(-s.length),s,"id")||(e.chat.messages.items=(0,Pe.NY)(n,s)):(e.chat.blockInfo=t.chat.blockInfo,e.chat.messages.items=s,e.forceReplacedId=Date.now()),xo(e.chat.participantsIds,t.chat.participantsIds)||(e.chat.participantsIds=t.chat.participantsIds),xo(e.chat.operations.enabled,t.chat.operations.enabled)||(e.chat.operations.enabled=t.chat.operations.enabled),wo(e.display,t.display,["title","icon"])||(e.display={...e.display,...t.display}),e.chatStates.writeMessageState.allowed===t.chatStates.writeMessageState.allowed&&e.chatStates.sendFileState.allowed===t.chatStates.sendFileState.allowed||(e.chatStates={...e.chatStates,...t.chatStates}),(!e.suggestions&&t.suggestions||a.shouldUpdateSuggestions&&!wo(e.suggestions,t.suggestions,["uuid"]))&&(e.suggestions=t.suggestions),wo(e.missingResources,t.missingResources,[],!0)||(e.missingResources={...e.missingResources,...t.missingResources}),e.error=void 0})),[bo.ov]:(0,vo.Uy)(((e,{chatId:t})=>{e.chat.id===t&&(e.suggestions={uuid:"",suggestionOptions:{options:[]}})})),[bo.Gl]:(0,vo.Uy)(((e,{error:t})=>{e.error=t})),[go.oz]:(0,vo.Uy)(((e,{updateFor:t,chatId:a,messageId:n})=>{e.chat.id===a&&("currentUser"===t?e.chat.lastViewedByCurrentUserMessageId=n:e.chat.lastViewedByOpponentMessageId=n)})),[bo.rC]:(0,vo.Uy)(((e,t)=>{e.forceReplacedId=t.id}))}};var Co=a(475);const Io={text:""},So={initialState:Io,reducerMap:{[Co.q$]:(0,vo.Uy)(((e,{text:t})=>{var a;e.text=t,e.metadata=null!==(a=e.metadata)&&void 0!==a?a:{},e.metadata.manuallyEnteredData=!0})),[Co.pZ]:(0,vo.Uy)(((e,{text:t,metadata:a})=>{var n;e.text=t;const s=null===(n=e.metadata)||void 0===n?void 0:n.manuallyEnteredData;e.metadata={...a,manuallyEnteredData:s}})),[Co.Qu]:(0,vo.Uy)((()=>Io)),[Co.gF]:(0,vo.Uy)(((e,t)=>t.message))}};var Eo=a(42699);const To=(e,t,a)=>{const n=e.reduce(((e,t,n)=>(e.set(t[a],n),e)),new Map);return t.forEach((t=>{const s=n.get(t[a]);void 0!==s?wo(e[s],t,[],!0)||(e[s]=t):e.push(t)})),e},_o=(e,t)=>(Object.entries(t).forEach((([t,a])=>{wo(e[t],a,[],!0)||(e[t]=a)})),e),jo={chats:{items:[],page:0,perPage:0,pages:0,found:0,hasNextPage:!1},chatsDisplayInfo:{},wasNotRequested:!0},No={initialState:jo,reducerMap:{[go.t4]:(0,vo.Uy)(((e,{chatId:t,messageId:a,text:n})=>{const s=e.chats.items.find((({id:e})=>e===t));null!=s&&s.lastMessage&&s.lastMessage.id===a&&(s.lastMessage.text=n)})),[go.bs]:(0,vo.Uy)(((e,{chatId:t})=>{const a=e.chats.items.findIndex((({id:e})=>e===t));-1!==a&&e.chats.items.splice(a,1)})),[go.Hs]:(0,vo.Uy)(((e,{chatId:t,notificationEnabled:a})=>{const n=e.chats.items.find((({id:e})=>e===t));n&&(n.notificationEnabled=a)})),[bo.Og]:(0,vo.Uy)(((e,{newState:t})=>{if(!t)return;const a=e.chats.items.find((({id:e})=>e===t.chat.id));if(!a)return;const n=t.chat.messages.items,s=n[n.length-1],{lastMessage:i}=a;!s||s.type!==Ee.u.Simple||i&&!(0,Eo.Z)(new Date(s.creationTime),new Date(i.creationTime))||(a.lastMessage=s)})),[go.Ec]:(0,vo.Uy)((()=>jo)),[go.$Y]:(0,vo.Uy)(((e,{newState:t})=>{var a,n,s,i,r;t&&(e.chats.found=null!==(a=t.chats.found)&&void 0!==a?a:e.chats.found,e.chats.pages=null!==(n=t.chats.pages)&&void 0!==n?n:e.chats.pages,e.chats.perPage=null!==(s=t.chats.perPage)&&void 0!==s?s:e.chats.perPage,e.wasNotRequested=t.wasNotRequested,t.chats.page>=e.chats.page&&(e.chats.hasNextPage=t.chats.hasNextPage,e.chats.page=t.chats.page),_o(e.chatsDisplayInfo,t.chatsDisplayInfo),To(e.chats.items,null!==(i=null===(r=t.chats)||void 0===r?void 0:r.items)&&void 0!==i?i:[],"id"))})),[go.U]:(0,vo.Uy)(((e,{ids:t})=>{e.chats.items=e.chats.items.filter((({id:e})=>!t.includes(e)))})),[go.oz]:(0,vo.Uy)(((e,{updateFor:t,chatId:a,messageId:n})=>{const s=e.chats.items.find((({id:e})=>e===a));s&&("opponent"===t?s.lastViewedByOpponentMessageId=n:s.lastViewedByCurrentUserMessageId=n)}))}};var Ao=a(65442),Ro=a(9362),Mo=a(52855);const Do={initialState:{screenShown:!1,result:{}},reducerMap:{[Mo.H.OPEN_SCREEN]:(0,vo.Uy)((e=>({...e,screenShown:!0}))),[Mo.H.CLOSE_SCREEN]:e=>({...e,screenShown:!1,currentUrl:void 0,messageId:void 0}),[Mo.H.SET_CURRENT_URL]:(e,{currentUrl:t})=>({...e,currentUrl:(0,Ro.Z)(t)}),[Mo.H.SET_RESULT]:(e,{result:t,url:a})=>({...e,result:{...e.result,[(0,Ro.Z)(a)]:t}}),[Mo.H.SET_MESSAGE_ID]:(e,{messageId:t})=>({...e,messageId:t})}};var Po=a(7659);const Zo={initialState:{},reducerMap:{[Po.b]:(0,vo.Uy)(((e,{previews:t})=>{t&&t.forEach((t=>{e[t.url]=t}))})),[Po.n]:(0,vo.Uy)(((e,{urls:t})=>{t.forEach((t=>{delete e[t]}))}))}};var Lo=a(115),Fo=a(85322);const Uo="chatik-message-drafts",Oo=()=>{const e=Fo.Y.getItem(Uo)||"{}";try{return JSON.parse(e)}catch(e){return{}}},Bo=e=>Fo.Y.setItem(Uo,JSON.stringify(e)),Ho={initialState:Oo(),reducerMap:{[Lo.gh]:(e,{chatId:t,message:a})=>{var n,s,i;const r=e[t],o=null!==(n=null==r?void 0:r.metadata)&&void 0!==n?n:{},l={...e,[t]:{...null!==(s=e[t])&&void 0!==s?s:{},...a,metadata:{...o,...null!==(i=a.metadata)&&void 0!==i?i:{}}}};return Bo(l),l},[Lo.P9]:(e,{chatId:t})=>{const a=Object.fromEntries(Object.entries(e).filter((([e])=>e!==`${t}`)));return Bo(a),a},[Lo.kg]:()=>Oo()}};var qo=a(62953);const Vo="chatik-notify-admin",Wo=(()=>{const e=Fo.Y.getItem(Vo)||"{}";try{return JSON.parse(e)}catch(e){return{}}})(),Go={initialState:Wo,reducerMap:{[qo.H.SAVE_NOTIFY_ADMIN]:(0,vo.Uy)(((e,{chatId:t,initTime:a})=>{e[t]=String(a),(e=>{Fo.Y.setItem(Vo,JSON.stringify(e))})(e)})),[qo.H.REMOVE_NOTIFY_ADMIN]:(0,vo.Uy)(((e,{chatId:t})=>{delete e[String(t)]}))}},zo={initialState:{},reducerMap:{[Ws]:(0,vo.Uy)(((e,{chatId:t,participantId:a,action:n,durationMs:s})=>{e[t]||(e[t]={}),e[t][a]={action:n,durationMs:s}})),[Gs]:(0,vo.Uy)(((e,{chatId:t,participantId:a})=>{e[t]&&(delete e[t][a],0===Object.keys(e[t]).length&&delete e[t])}))}};var $o=a(33161);const Ko={initialState:{data:{},visible:!1},reducerMap:{[$o.xW]:(0,vo.Uy)(((e,{chatId:t,data:a})=>{var n,s,i;if(null!==(n=e.data[t])&&void 0!==n&&n.isLoading&&(e.data[t].isLoading=!1),!yo(null!==(s=null===(i=e.data[t])||void 0===i?void 0:i.quick_replies)&&void 0!==s?s:[],null!=a?a:[],"id")){var r,o;const n=null!==(r=null===(o=e.data[t])||void 0===o?void 0:o.message_actions)&&void 0!==r?r:[];e.visible=Boolean(null==a?void 0:a.length)||Boolean(n.length),e.data[t]={isLoading:!1,quick_replies:a,message_actions:n}}})),[$o.KH]:(0,vo.Uy)(((e,{chatId:t,messageActions:a})=>{var n;e.data[t]||(e.data[t]={isLoading:!1,quick_replies:[],message_actions:[]});const s=null!==(n=e.data[t].quick_replies)&&void 0!==n?n:[],i=Boolean(s.length)||Boolean(a.length);e.visible=i,e.data[t].message_actions=a})),[$o.i9]:(0,vo.Uy)(((e,{chatId:t})=>{if(e.data[t]){var a;const n=null!==(a=e.data[t].quick_replies)&&void 0!==a?a:[];e.data[t].message_actions=[],e.visible=Boolean(n.length)}})),[$o.Bh]:(0,vo.Uy)(((e,{chatId:t})=>{if(e.data[t]){var a;const n=null!==(a=e.data[t].quick_replies)&&void 0!==a?a:[];e.data[t].message_actions=n.filter((e=>!e.isMessageAction))}})),[$o.n9]:(0,vo.Uy)(((e,{chatId:t,isLoading:a})=>{e.data[t]||(e.data[t]={}),e.data[t].isLoading=a})),[$o.es]:(0,vo.Uy)(((e,{visible:t})=>{e.visible=t}))}};var Yo=a(37258);const Qo={negotiation_topics:{},vacancies:{},employers:{},resumes:{},resumeHashById:{},participants:{},assessments:{},addresses:{},test_solutions:{}},Xo=Object.keys(Qo),Jo={initialState:Qo,reducerMap:{[Yo.T]:(0,vo.Uy)(((e,{resources:t})=>{Xo.forEach((a=>{wo(e[a],t[a],[],!0)||(e[a]=t[a])}))}))}},el={query:"",chats:{items:null},chatsDisplayInfo:{}},tl={initialState:el,reducerMap:{[nn]:(0,vo.Uy)(((e,{query:t})=>{e.query=t})),[sn]:(0,vo.Uy)(((e,t)=>{var a,n,s,i;e.chats=null!==(a=null==t||null===(n=t.searchedChats)||void 0===n?void 0:n.chats)&&void 0!==a?a:{items:null},e.lastSearchedQuery=t.query,e.chatsDisplayInfo=null!==(s=null==t||null===(i=t.searchedChats)||void 0===i?void 0:i.chatsDisplayInfo)&&void 0!==s?s:{}})),[rn]:(0,vo.Uy)(((e,t)=>{var a,n,s,i,r,o,l;e.chats.nextFrom=null==t||null===(a=t.searchedChats)||void 0===a?void 0:a.chats.nextFrom,e.lastSearchedQuery=t.query,_o(null!==(n=e.chatsDisplayInfo)&&void 0!==n?n:{},null!==(s=null==t||null===(i=t.searchedChats)||void 0===i?void 0:i.chatsDisplayInfo)&&void 0!==s?s:{}),To(null!==(r=e.chats.items)&&void 0!==r?r:[],null!==(o=null===(l=t.searchedChats)||void 0===l||null===(l=l.chats)||void 0===l?void 0:l.items)&&void 0!==o?o:[],"id")})),[an]:()=>el}};var al=a(43034),nl=a(73956);const sl={initialState:{files:{},uploadingProgress:{}},reducerMap:{[nl.d3]:(0,vo.Uy)(((e,{chatId:t,files:a})=>{var n,s;e.files[t]=null!==(n=e.files[t])&&void 0!==n?n:[],null===(s=e.files[t])||void 0===s||s.push(...a)})),[nl.qh]:(0,vo.Uy)(((e,{chatId:t,fileId:a})=>{const n=(e.files[t]||[]).findIndex((({id:e})=>e===a));var s;-1!==n&&(null===(s=e.files[t])||void 0===s||s.splice(n,1))})),[nl.Rg]:(0,vo.Uy)(((e,{chatId:t,file:a})=>{const n=e.files[t]||[],s=n.findIndex((({id:e})=>e===a.id));n[s]&&(n[s]=Object.assign(n[s],a))})),[nl.x_]:(0,vo.Uy)(((e,{chatId:t})=>{e.files[t]=[],e.uploadingProgress={}})),[nl.Gf]:(0,vo.Uy)(((e,{fileId:t,progress:a})=>{e.uploadingProgress[t]=a}))}};var il=a(81764);const rl={initialState:{},reducerMap:{[il.l]:(0,vo.Uy)(((e,{uploadId:t,preview:a})=>{e[t]=a}))}},ol={initialState:{serviceEnabled:!0},reducerMap:{}},ll={chatIntegrationType:(0,o.autoGeneratedReducer)(null),userType:(0,o.autoGeneratedReducer)(_e.Z.Anonymous),xsrfToken:(0,o.autoGeneratedReducer)(null),experiments:mo._1,chats:No,chatData:ko,resources:Jo,uploadedFiles:sl,uploadedFilesPreview:rl,linkPreviews:Zo,activeState:(0,o.autoGeneratedReducer)(!1),chatListActiveState:(0,o.autoGeneratedReducer)(!1),shouldCloseOnBack:(0,o.autoGeneratedReducer)(!1),messageDrafts:Ho,editMessage:Ao.ZP,notifyAdmin:Go,clusterFiltersEnabled:(0,o.autoGeneratedReducer)(!1),userId:(0,o.autoGeneratedReducer)(null),selectedVacanciesClusters:(0,o.autoGeneratedReducer)([]),selectedEmployerStatesClusters:(0,o.autoGeneratedReducer)([]),shouldReloadFiltersClusters:(0,o.autoGeneratedReducer)(!1),navigationView:q,showOnlyUnread:(0,o.autoGeneratedReducer)(!1),showOnlyWithTextMessages:(0,o.autoGeneratedReducer)(!1),similarCounters:al.ZP,applicantFirstContactChatId:(0,o.autoGeneratedReducer)(null),hhid:(0,o.autoGeneratedReducer)(null),isSudo:(0,o.autoGeneratedReducer)(!1),platform:gi.Z,chatView:ji,isThirdColumnShown:(0,o.autoGeneratedReducer)(!1),parentScreenBreakpoint:(0,o.autoGeneratedReducer)(null),parentWindowUrl:(0,o.autoGeneratedReducer)(""),supportLocation:(0,o.autoGeneratedReducer)(""),linkCheck:Do,chatSendMessage:So,quickReplies:Ko,webcall:ol,spoilerChatUrl:(0,o.autoGeneratedReducer)(""),siteRoot:(0,o.autoGeneratedReducer)(""),isProxyPage:(0,o.autoGeneratedReducer)(null),topLevelSite:yi.Z,search:tl,viewer:(0,o.autoGeneratedReducer)(null),chatsParticipantActions:zo,inlineChatId:(0,o.autoGeneratedReducer)(null),isSpoiler:(0,o.autoGeneratedReducer)(!1),isInlineChat:(0,o.autoGeneratedReducer)(!1),inviteCoworkerModalVisible:(0,o.autoGeneratedReducer)(!1),websocketOrigin:(0,o.autoGeneratedReducer)("")};(0,n.initGetterAnalyticsParams)((()=>{const e=window.globalServiceVars.chatik.analyticsParams;if(e.hhtmSource&&"app"!==e.hhtmSource)return e;const{name:t}=ne(window.location.pathname),a=(0,pa.b)(t);return{...window.globalServiceVars.chatik.analyticsParams,hhtmSource:a}}));const cl=()=>(0,s.ZP)({reducer:ll,routes:po,serviceName:"chatik",pageWrapper:Xi,proxyComponents:io,disableSpaMiddleware:!0})},20874:function(e,t,a){a.r(t),a.d(t,{default:()=>n}),(0,a(36676).Z)("chatik");const n=a(29798).Z},73797:function(e,t,a){a.d(t,{n:()=>s,x:()=>n});let n=function(e){return e.List="chat_list",e.Chat="chat",e.SupportChat="support_chat",e.ChatParticipants="chat_participants",e.Workflow="workflow",e.NotFound="not_found",e}({});const s={[n.List]:["/","/chat"],[n.Chat]:"/chat/:chatId",[n.SupportChat]:"/chat/support",[n.ChatParticipants]:"/chat/:chatId/participants",[n.Workflow]:"/chat/:chatId/workflow/:state?",[n.NotFound]:"*"}},51531:function(e,t,a){a.d(t,{Z:()=>l});var n=a(15698),s=a(58342),i=a(4201);const r=({avatarImage:e,isEmployer:t,isBlocked:a})=>{if(a)return{mode:"icon",style:"secondary",icon:(0,i.jsx)(s.o4j,{initialColor:"secondary"})};if(e){return{mode:e?"image":t?"letters":"placeholder",style:"color-1",image:e}}return t?{mode:"letters",style:"color-1"}:{mode:"placeholder",placeholder:"city"}},o=({avatarImage:e,isEmployer:t,isBlocked:a,...s})=>(0,i.jsx)(n.q.Skeleton,{...r({avatarImage:e,isEmployer:t,isBlocked:a}),...s});o.displayName="components/ChatAvatar/index/ChatAvatar";const l=o},40510:function(e,t,a){a.d(t,{x:()=>tt});var n=a(3891),s=a.n(n),i=a(48867),r=a(45418),o=a(84434),l=a(77329),c=a.n(l),d=a(65442),u=a(47400),h=a(26442);const p=(e,t="keydown")=>{const a=(0,n.useRef)({});(0,n.useEffect)((()=>{a.current=e}),[e]),(0,n.useEffect)((()=>{const e=e=>{var t;const{current:n}=a;null===(t=n[e.code]||n[e.key])||void 0===t||t(e)};return document.addEventListener(t,e),()=>{document.removeEventListener(t,e)}}),[t])};var m=a(48403);const v=({isInputEmpty:e,onEsc:t})=>{const a=(0,o.useDispatch)(),s=(0,i.v)((({editMessage:e})=>e)),r=(0,i.v)(u._I),l=(0,h.Z)(),v=(0,m.Z)(),g="number"==typeof s.id;return p({Escape:e=>{g&&!v&&(e.stopPropagation(),a((0,d.Wx)()),null==t||t())}}),(0,n.useCallback)((t=>{if("ArrowUp"===t.key&&!g&&!v&&e&&null!=r&&r.canEdit){var n;a((0,d.Hd)(r.id,null!==(n=r.text)&&void 0!==n?n:"")),c()({chatId:l,messageId:r.id,hhtmFromLabel:"keyboard"});const e=t.target;setTimeout((()=>{e.selectionStart=e.selectionEnd=e.value.length}),0)}}),[g,v,e,r,a,l])};var g=a(29725),y=a(85767),f=a(70844),w=a(63116),x=a.n(w),b=a(57545),k=a(82489),C=a(2840),I=a(93873),S=a(71495),E=a(47997),T=a(31065),_=a(63144),j=a(66802),N=a(58342),A=a(89156);const R="chat-input-preview--ajaqmEXBi4A54sFI",M="content--SuplhrOi8QIopjY6",D="left-icon--uUeH3oZq0HtDwy9v";var P=a(4201);const Z={previewTitles:{editing:"chatik.message.actions.editing","cover-letter":"chatik.message.actions.coverLetter.title","link-preview":void 0},coverLetterText:"chatik.message.actions.coverLetter.text",closeMessagePreview:"chatik.message.actions.closeMessagePreview"},L={"link-preview":N.Gvu,"cover-letter":N.GhD,editing:N.vvx},F=({trls:e,title:t,text:a,view:n,onClose:s})=>{const i=n?Z.previewTitles[n]:void 0,r=t||(i?e[i]:void 0),o=a||("cover-letter"===n?e[Z.coverLetterText]:void 0),l=n?L[n]:void 0;return(0,P.jsxs)("div",{"data-qa":"chat-input-preview",className:R,children:[l&&(0,P.jsx)("div",{className:D,children:(0,P.jsx)(l,{initialColor:"accent"})}),(0,P.jsxs)("div",{className:M,children:[r&&(0,P.jsx)(j.x,{style:"accent",typography:"subtitle-3-semibold",maxLines:1,children:r}),o&&(0,P.jsx)(j.x,{style:"secondary",typography:"label-3-regular",maxLines:1,children:o})]}),s&&(0,P.jsx)(N.Cs7,{"aria-label":e[Z.closeMessagePreview],padding:8,onClick:s})]})};F.displayName="ChatInput/ChatInputPreview/index/ChatInputPreview";const U=(0,n.memo)((0,A.Z)(F)),O="chat-text-area--taZWmhDL2kkGnj09",B="native-text-area--tGF4PGehBMQTQAaU",H=e=>`${null!=e?e:0}px`,q=["Esc","Escape","Enter","PageUp","PageDown","Meta","Alt","Ctrl","ArrowDown","ArrowUp","Control","Shift"],V=({value:e,maxLines:t,className:a,onFocus:s,onBlur:i,disabled:r,...o},l)=>{const[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),p=(0,n.useRef)(),v=(0,m.Z)();(0,n.useEffect)((()=>{if(v||r)return;const e=e=>{var t;const{key:a}=e,n=e.target,s=p.current;if(!n||!s)return;const i=null===(t=document.getSelection())||void 0===t?void 0:t.isCollapsed;!a||q.includes(a)||(a.startsWith("Arrow")||e.shiftKey&&"Shift"===a)&&!i||"KeyC"===e.code&&(e.ctrlKey||e.metaKey)&&"INPUT"!==n.tagName||n===s||"INPUT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable||(((e,t={force:!1,forcePlaceCaretAtEnd:!1})=>{const{force:a,forcePlaceCaretAtEnd:n}=t;if((a||e!==document.activeElement)&&(e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement)&&(e.focus(),n)){const t=e.value.length;e.selectionStart=t,e.selectionEnd=t}})(s,{force:!0,forcePlaceCaretAtEnd:!0}),s.dispatchEvent(new KeyboardEvent(e.type,e)))};return document.addEventListener("keydown",e,!0),()=>document.removeEventListener("keydown",e,!0)}),[r,v]),(0,n.useLayoutEffect)((()=>{const a=p.current;if(!a)return;const n=parseFloat(getComputedStyle(a).lineHeight)||22,s=n*t;a.style.height=H(n),e&&a.scrollHeight&&(a.style.height=H(a.scrollHeight)),a.style.maxHeight=H(s)}),[e,t]),(0,n.useEffect)((()=>{if(!p.current)return;const e=p.current,t=e.selectionStart===e.value.length;u&&t&&(p.current.scrollTop=p.current.scrollHeight),d(u&&e.classList.contains("focus-visible"))}),[u]);return(0,P.jsx)("div",{className:x()(O,{"focus-visible":c}),children:(0,P.jsx)("textarea",{className:x()(B,a),value:e,ref:(0,I.B)(p,l),onFocus:e=>{h(!0),null==s||s(e)},onBlur:e=>{h(!1),null==i||i(e)},"data-qa":"chatik-new-message-text",...o})})};V.displayName="ChatInput/ChatTextArea/index/ChatTextArea";const W=s().forwardRef(V);var G=a(41251),z=a.n(G),$=a(6745);const K={button:"button--NP0CoZbsZuo2oJXp",label:"label--eVeVYeZUHKYqWqdG",input:"input--y9G4Lj34FmYmk3V6"},Y=({onFileUpload:e,disabled:t,chatId:a},s)=>{const i=(0,n.useRef)(null),r=(0,n.useCallback)((()=>{if(!i.current)return;const t=i.current.files||[];e([...t],"clip"),i.current.value=""}),[e]),o=(0,n.useCallback)((e=>{e.stopPropagation(),z()({chatId:a}),i.current&&i.current.click()}),[a]),l=(0,n.useMemo)((()=>[...Object.keys($.aE),...Object.keys($.wO)].join(",")),[]);return(0,P.jsxs)("div",{"data-qa":"upload-file-button",className:x()(K.button,{[K.buttonDisabled]:t}),ref:s,children:[(0,P.jsx)("input",{className:K.input,ref:i,onChange:r,type:"file",id:"file_upload_clip","data-qa":"upload-file-input",accept:l,multiple:!0,onClick:e=>e.stopPropagation()}),(0,P.jsx)(N.Sr$,{borderRadius:"halfHeight",padding:8,disabled:t,"aria-label":"uploadFileButton",onClick:o})]})};Y.displayName="ChatInput/UploadFileButton/index/UploadFileButton";const Q=(0,n.forwardRef)(Y),X=(0,n.memo)(Q);var J=a(73735),ee=a(49727);const te="chat-input-content--_dwfkVPPNwMAtWsZ",ae="chat-input-content_disabled--ST3aYYh6PSws71x_",ne="slide-up-enter--MQmGUB9EsHlIpx12",se="slide-up-exit--RaRfgGvcJGszLelc",ie="preview-wrapper--HhkUKhhQPw6moKXC",re="chatik.sendMessage.placeholderMessage.magritte",oe="chatik.sendMessage.button",le="chatik.sendMessage.disabled.okButton",ce=({chatId:e,value:t,disabled:a,showDivider:s,showAttachFilesButton:i,isAttachFilesDisabled:r,messagePreview:o,renderRightSide:l,onPreviewClose:c,onFileAttach:d,onMessageSend:u,onChange:h,onKeyDown:p,isSendingDisabled:v=!1,sendingDisabledHint:g,...y},w)=>{const A=(0,ee.T)(),R=(0,n.useRef)(null),[M,D]=(0,n.useState)(o),Z=(0,n.useRef)(null),L=(0,n.useRef)(null),[F,O]=(0,n.useState)(!1),B=(0,m.Z)(),H=(0,J.D)(o),q=Boolean(o),V=a||!t||v,G=v&&!!g;(0,n.useEffect)((()=>{var e;o&&H!==o&&(null===(e=R.current)||void 0===e||e.focus());o&&D(o)}),[o]);const z=()=>{O(!1)},$=e=>{G&&(e.stopPropagation(),O(!0))};return(0,P.jsxs)("div",{children:[(s||q)&&(0,P.jsx)(C.i,{mode:"horizontal"}),(0,P.jsx)(f.Z,{in:q,classNames:{enter:ne,exit:se},onExited:()=>{D(void 0)},timeout:200,unmountOnExit:!0,children:(0,P.jsx)("div",{className:ie,children:(0,P.jsx)(U,{...null!=M?M:{},onClose:c})})}),(0,P.jsxs)("div",{className:x()(te,{[ae]:a}),onClick:e=>{var t;e.preventDefault(),e.stopPropagation(),null===(t=R.current)||void 0===t||t.focus()},children:[i&&d&&(0,P.jsx)("div",{ref:L,onClick:$,children:(0,P.jsx)(X,{chatId:e,disabled:a||r||v,onFileUpload:d})}),(0,P.jsx)(W,{value:t,ref:(0,I.B)(w,R),placeholder:A[re],disabled:a,maxLines:5,onChange:h,onKeyDown:e=>{null==p||p(e),!(0,b.u)(e,k.k.Enter)||e.shiftKey||B||(e.preventDefault(),u())},...y}),null==l?void 0:l(),(0,P.jsx)("div",{ref:Z,onClick:$,children:(0,P.jsx)(N.H9t,{initialColor:"inverse",backgroundStyle:V?"inverse":"accent",disabled:V,"aria-label":A[oe],padding:8,borderRadius:"halfHeight",onClick:e=>{e.stopPropagation(),u()},"data-qa":"chatik-do-send-message"})}),G&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(S.p,{placement:"top-right",activatorRef:Z,children:g}),(0,P.jsx)(S.p,{placement:"top-left",activatorRef:L,children:g}),(0,P.jsx)(E.R,{visible:F,onClose:z,footer:(0,P.jsx)(T.W,{children:(0,P.jsx)(_.z,{mode:"secondary",onClick:z,children:A[le]})}),children:(0,P.jsx)(j.x,{typography:"paragraph-1-regular",children:g})})]})]})]})};ce.displayName="ChatInput/BaseChatInput/index/BaseChatInput";const de=(0,n.forwardRef)(ce);var ue=a(64452),he=a(75790),pe=a(31537),me=a(34654),ve=a(85489),ge=a(61384),ye=a(15698),fe=a(65007),we=a(30577),xe=a(45150),be=a(44036),ke=a(96990),Ce=a(68895);const Ie=["byte","kilobyte","megabyte","gigabyte"],Se=(e,{availableUnits:t=Ie,fractionDigits:a=1}={})=>{const n=t.map((e=>Ie.indexOf(e)));n.reverse();for(const[t,s]of n.entries()){const i=parseFloat((e/Math.pow(1024,s)).toFixed(a));if(i>=1||t===n.length-1)return[i,Ie[s]]}throw new Error("Cannot format file size")},Ee="file-uploading-progress--aCHzhxP6FEEzeuum",Te="chatik.uploadingFilesModal.uploadError",_e="chatik.uploadingFilesModal.progress",je={megabyte:"chatik.uploadingFilesModal.size.megabyte",kilobyte:"chatik.uploadingFilesModal.size.kilobyte"},Ne=({trls:e,uploadableFile:t,isLast:a,onFileRemove:n,onRetry:s})=>{var r;const{id:o,file:l,isError:c,isLoading:d}=t,{loaded:u,total:h}=null!==(r=(0,i.v)((0,be.qE)(t.id)))&&void 0!==r?r:{},p=(0,i.v)((0,ke.h)(t.uploadId)),m=(0,Ce.C)(l),v=d||c||!m||!(null!=p&&p.content),g=()=>{const[t,a]=Se(null!=h?h:0,{availableUnits:["kilobyte","megabyte"]}),[n]=Se(null!=u?u:0,{availableUnits:[a]}),s=(0,ue.WU)(e[je[a]],{"{0}":t});return c?(0,ue.WU)(e[Te],{"{0}":s}):d?(0,ue.WU)(e[_e],{"{0}":n,"{1}":s}):s};return(0,P.jsxs)(fe.b,{"data-qa":d?"compact-file-preview-loading":c?"compact-file-preview-error":"compact-file-preview-success",align:"center",vertPadding:!0,showDivider:!a,slot:v?(0,P.jsx)(ye.q,{mode:"icon",icon:(0,P.jsx)(N.GhD,{initialColor:"accent"}),style:"accent-secondary",size:48,"aria-label":l.name}):(0,P.jsx)(ye.q,{mode:p.content?"image":"placeholder",image:p.content,size:48,"aria-label":l.name}),right:c?(0,P.jsx)(N.VjI,{"data-qa":"compact-file-preview-retry-button",initialColor:"secondary",onClick:()=>{s(o)}}):(0,P.jsx)(N.q6q,{"data-qa":"compact-file-preview-remove-button",initialColor:"secondary",onClick:()=>{n(o,l)}}),children:[(0,P.jsx)(we.j,{type:"title",maxLines:1,children:l.name}),(0,P.jsx)(we.j,{left:d?(0,P.jsx)(xe.a,{size:16}):null,type:"subtitle",children:(0,P.jsxs)("div",{className:Ee,children:[d?null:c?(0,P.jsx)(N.zmx,{initialColor:"negative"}):(0,P.jsx)(N.$K7,{initialColor:"positive"}),g()]})})]})};Ne.displayName="UploadingFilesModal/CompactFilePreview/index/CompactFilePreview";const Ae=(0,A.Z)(Ne),Re="files-list--Pv7spwOJXYEeM01u",Me="chatik.uploadingFilesModal.title",De="chatik.uploadingFilesModal.filesConstrait",Pe="chatik.uploadingFilesModal.actions.close",Ze="chatik.uploadingFilesModal.actions.send",Le="chatik.uploadingFiles.noFilesToSend.tooltip",Fe=({trls:e,visible:t,files:a,onSend:s,onFileRemove:i,onRetry:r,onClose:o})=>{const{isMobile:l}=(0,ge.G)(),c=(0,n.useRef)(null),d=(0,n.useMemo)((()=>a.every((e=>!e.isLoading))&&a.some((e=>!e.isError))),[a]),u=(0,n.useMemo)((()=>a.some((e=>e.isLoading))),[a]),h=(0,ue.WU)(e[De],{"{0}":$.L5,"{1}":$.C1}),p=()=>(0,P.jsxs)(P.Fragment,{children:[l&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(j.x,{typography:"paragraph-1-regular",children:h}),(0,P.jsx)(he.X,{default:16})]}),(0,P.jsx)("div",{className:x()(Re),children:a.map(((e,t)=>(0,P.jsx)(Ae,{uploadableFile:e,isLast:t===a.length-1,onFileRemove:i,onRetry:r},e.id)))})]});return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(E.R,{visible:l&&t,allowScrollWhileFocused:!0,header:(0,P.jsx)(pe.v,{size:"standard",title:e[Me],showDivider:"always"}),footer:(0,P.jsxs)(T.W,{children:[(0,P.jsx)(_.z,{"data-qa":"uploading-files-modal-send-button",size:"large",mode:"primary",style:"accent",stretched:!0,disabled:!d,onClick:s,children:e[Ze]}),(0,P.jsx)(_.z,{"data-qa":"uploading-files-modal-cancel-button",size:"large",mode:"secondary",style:"accent",stretched:!0,onClick:o,children:e[Pe]})]}),onClose:o,children:p()}),(0,P.jsx)(me.u,{title:e[Me],titleDescription:h,titleDescriptionStyle:"secondary",visible:!l&&t,size:"small",actions:(0,P.jsx)(N.Cs7,{initialColor:"secondary",onClick:o}),footer:(0,P.jsx)(ve.o,{secondaryActions:(0,P.jsx)(_.z,{"data-qa":"uploading-files-modal-cancel-button",size:"medium",mode:"tertiary",style:"accent",onClick:o,children:e[Pe]}),primaryActions:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{ref:c,children:(0,P.jsx)(_.z,{"data-qa":"uploading-files-modal-send-button",size:"medium",mode:"primary",style:"accent",disabled:!d,onClick:s,children:e[Ze]})}),!d&&a.length&&!u&&(0,P.jsx)(S.p,{placement:"bottom-center",maxWidth:240,activatorRef:c,children:(0,P.jsx)(j.x,{typography:"label-2-regular",children:e[Le]})})]})}),onClose:o,children:p()})]})};Fe.displayName="ChatInput/UploadingFilesModal/index/UploadingFilesModal";const Ue=(0,A.Z)(Fe);var Oe=a(27703),Be=a.n(Oe);var He=a(35862),qe=a(63141),Ve=a(44820);const We=()=>{var e;const t=(0,o.useDispatch)(),a=(0,h.Z)(),s=(0,He.Z)(),r=null!==(e=(0,i.v)((0,be.S3)(a)))&&void 0!==e?e:[],l=(0,n.useCallback)(((e,n)=>{t((0,qe.W$)({chatId:a,fileId:e})),Be()({chatId:a,filename:n.name,fileSize:(0,Ve.Z)(n.size)})}),[a,t]),c=(0,n.useCallback)((()=>{t((0,qe.j2)(a))}),[t,a]),d=(0,n.useCallback)((e=>{const t=(e=>{var t;const a=[],n=null===(t=e.clipboardData)||void 0===t?void 0:t.items;if(!n)return a;for(const e in n){const t=n[e],s="file"===t.kind?t.getAsFile():null;s&&a.push(s)}return a})(e);t.length&&(e.preventDefault(),s(t,"clipboard"))}),[s]),u=(0,n.useCallback)((e=>{t((0,qe.qU)(a,e))}),[t,a]);return{uploadFiles:s,removeFile:l,resetFiles:c,onPaste:d,onRetry:u,files:r}};var Ge=a(3216),ze=a(68921),$e=a(2615),Ke=a(91013),Ye=a(9362);const Qe=()=>{const e=(0,i.v)((({linkPreviews:e})=>e)),[t,a]=(0,n.useState)(""),s=(0,$e.Z)(),r=(0,n.useRef)(),o=e[t],l=(0,n.useMemo)((()=>(0,ze.D)((e=>{const n=(0,Ke.C)(e);if(n){const e=s([n]);var i;if(e)null===(i=r.current)||void 0===i||i.abort(),r.current=e;a((0,Ye.Z)(n))}n||""===t||a("")}),500)),[t,s]),c=(0,n.useCallback)((()=>{l.cancel(),a("")}),[l]);return{onTextChange:l,resetPreview:c,preview:o}},Xe=({draft:e,isEditing:t})=>{const a=(0,o.useDispatch)(),s=(0,i.v)((({editMessage:e})=>e)),{isApplicant:r}=(0,Ge.Z)(),{onTextChange:l,resetPreview:c,preview:u}=Qe(),h=r&&!(null!=s&&s.text),p=(0,n.useMemo)((()=>null!=u&&u.ok?{title:u.title||u.url,text:u.description,view:"link-preview"}:null!=s&&s.id?{text:s.text,view:h?"cover-letter":"editing"}:void 0),[u,h,s]),m=(0,n.useCallback)((()=>{t&&e?l(e):c()}),[t,e,l,c]),v=(0,n.useCallback)((()=>{m(),a((0,d.Wx)())}),[m,a]);return(e=>{const t=(0,n.useRef)(!1),a=(0,n.useRef)();(0,n.useEffect)((()=>{a.current=e}),[e]),(0,n.useEffect)((()=>{var e;t.current||(t.current=!0,null===(e=a.current)||void 0===e||e.call(a))}),[])})((()=>e&&l(e))),(0,n.useEffect)((()=>{(null==s?void 0:s.text)&&l(null==s?void 0:s.text)}),[null==s?void 0:s.id]),{messagePreview:p,onPreviewFindByText:l,onPreviewReset:m,onPreviewClose:v}};var Je=a(21665);const et=()=>{const e=(0,o.useDispatch)(),t=(0,h.Z)(),a=(0,i.v)((({messageDrafts:e})=>{var a;return(null===(a=e[t])||void 0===a?void 0:a.text)||""})),s=(0,i.v)((e=>{var t,a;return null!==(t=null===(a=e.chatSendMessage)||void 0===a?void 0:a.text)&&void 0!==t?t:""})),r=(0,i.v)((({editMessage:e})=>e)),l="number"==typeof r.id;return(0,n.useEffect)((()=>{e(l?(0,Je.ku)():(0,Je.IE)(t))}),[t,e,null==r?void 0:r.id,l]),{text:s,savedDraftText:a}},tt=({scrollWrapperRef:e,enablePreview:t,enableLinkPreview:a,borderScrollValue:s,onChange:o,isSendingDisabled:l=!1,sendingDisabledHint:c})=>{const d=(0,i.v)((({chatData:e})=>e.chatStates.sendFileState.allowed)),u=(0,i.v)((({displayType:e})=>e)),p=(0,n.useRef)(null),m=(0,h.Z)(),{files:f,uploadFiles:w,resetFiles:x,removeFile:b,onPaste:k,onRetry:C}=We(),{text:I,savedDraftText:S}=et(),{canWrite:E,isEditing:T,onTextChange:_,sendStoredMessage:j}=(0,g.ZP)(),{messagePreview:N,onPreviewFindByText:A,onPreviewReset:R,onPreviewClose:M}=Xe({draft:S,isEditing:T}),D=v({isInputEmpty:!I,onEsc:()=>t&&R()}),[Z,L]=(0,n.useState)(0===s);(0,n.useEffect)((()=>{var e;u!==r.DisplayType.Mobile&&document.activeElement!==p.current&&(null===(e=p.current)||void 0===e||e.focus())}),[u,I]),(0,n.useEffect)((()=>{if(null==e||!e.current||!s)return;const t=e.current,a=()=>{requestAnimationFrame((()=>L(s+t.scrollTop<=0)))};return a(),t.addEventListener("scroll",a,{passive:!0}),()=>{t.removeEventListener("scroll",a)}}),[e,s]);const F=()=>{var a;l||(j(),null===(a=p.current)||void 0===a||a.focus(),t&&R(),null!=e&&e.current&&!T&&(0,y.Z)(e.current))};return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(de,{ref:p,value:I,chatId:m,showDivider:Z||0===s,showAttachFilesButton:d,isAttachFilesDisabled:T||!E,messagePreview:(()=>{if(t&&N&&("link-preview"!==N.view||a))return N})(),onPreviewClose:t&&T?M:void 0,onChange:e=>{_(e),a&&A(e.target.value),null==o||o(e)},onMessageSend:F,onFileAttach:w,onPaste:k,onKeyDown:t?D:void 0,isSendingDisabled:l,sendingDisabledHint:c}),(0,P.jsx)(Ue,{visible:Boolean(f.length),files:f,onFileRemove:b,onRetry:C,onClose:x,onSend:F})]})};tt.displayName="components/ChatInput/index/ChatInput"},65526:function(e,t,a){a.d(t,{GI:()=>y,R_:()=>C,O4:()=>I,_f:()=>c,Iv:()=>E,Z6:()=>w});var n=a(3891),s=a(84434),i=a(48867);const r=(e,{threshold:t=0,root:a=null,rootMargin:s="0%",freezeOnceVisible:i=!1}={})=>{const[r,o]=(0,n.useState)(),l=(null==r?void 0:r.isIntersecting)&&i,c=([e])=>{o(e)};return(0,n.useEffect)((()=>{const n=null==e?void 0:e.current;if(!!!window.IntersectionObserver||l||!n)return;const i=new IntersectionObserver(c,{threshold:t,root:a,rootMargin:s});return i.observe(n),()=>i.disconnect()}),[null==e?void 0:e.current,JSON.stringify(t),a,s,l]),r};var o=a(87749),l=a(88915);const c=e=>{var t;const a=(0,s.useDispatch)(),{id:c,messages:{hasMore:d,items:u}}=(0,i.v)((({chatData:e})=>e.chat)),[h,p]=(0,n.useState)(!1),m=(0,n.useRef)(null),v=(0,n.useRef)(null),g=r(m),y=!(null==g||!g.isIntersecting),f=null===(t=u[0])||void 0===t?void 0:t.id;return(0,n.useEffect)((()=>{!h&&d&&y&&f&&(p(!0),(0,l.Z)({lastMessageId:f,chatId:c}).then((t=>{var n;v.current=(null===(n=e.current)||void 0===n?void 0:n.scrollTop)||null,a((0,o.$2)(t,{shouldUpdateSuggestions:!1}))})).catch((e=>console.error(e))).finally((()=>p(!1))))}),[y,d,h,f,c,a,e]),{loadingTriggerRef:m,scrollPositionToRestore:v,isLoading:h}};var d=a(66360),u=a.n(d),h=a(87842),p=a.n(h),m=a(68390),v=a(39248);const g={[m.Z.Employer]:p(),[m.Z.Applicant]:u(),[m.Z.Anonymous]:u(),[m.Z.BackOffice]:void 0},y=(e,t)=>(0,n.useCallback)((()=>{const a=(0,v.Z)();if(!a)return;const n=g[a];null==n||n({chatId:e,unreadMessageCount:t})}),[e,t]);var f=a(61675);const w=(e,t)=>{const a=(0,s.useDispatch)(),i=(0,n.useRef)(null);(0,n.useEffect)((()=>{var n,s,r;if(!t.length)return;const o=t[t.length-1];if(!(null!==(n=o.actions)&&void 0!==n&&null!==(n=n.text_buttons)&&void 0!==n&&n.length||i.current))return;if(null!==(s=o.actions)&&void 0!==s&&null!==(s=s.text_buttons)&&void 0!==s&&s.length&&i.current===o.id)return;if(null===(r=o.actions)||void 0===r||null===(r=r.text_buttons)||void 0===r||!r.length)return i.current=null,void a((0,f.lF)(e));i.current=o.id;const l=o.actions.text_buttons.map(((e,t)=>({id:`message_id_${o.id}_action_button_${t}`,type:"send",text:e.text,label:e.text,isMessageAction:!0,metadata:{messageId:o.id}})));a((0,f.Qk)(e,l))}),[t,e,a])};var x=a(47400),b=a(61403),k=a(74987);const C=e=>{const t=(0,s.useDispatch)(),a=(0,i.v)((({chatData:e})=>{var t;return null===(t=e.chat)||void 0===t?void 0:t.id})),r=(0,i.v)((({chatData:e})=>{var t;return null===(t=e.chat)||void 0===t||null===(t=t.messages)||void 0===t?void 0:t.items})),o=(0,i.v)((({selectedVacanciesClusters:e})=>e)),l=(0,i.v)(x.A1),c=(0,i.v)((({chatData:e})=>{var t;return null===(t=e.chat)||void 0===t?void 0:t.currentParticipantId})),d=(0,i.v)((({chatData:e})=>{var t;return null===(t=e.chat)||void 0===t?void 0:t.lastViewedByCurrentUserMessageId})),u=(0,n.useRef)(d||0),h=(0,n.useMemo)((()=>r.reduce(((e,{id:t})=>(e[t]=(0,n.createRef)(),e)),{})),[r]),p=(0,n.useMemo)((()=>{const e=[];return r.forEach((({id:t,participantId:a})=>{a!==c&&(!u.current||t>u.current)&&e.push(t)})),e}),[c,r]),m=(0,n.useRef)(p[0]);return{syncUnreadMessagesState:(0,n.useCallback)((()=>{if(!e.current)return;const n=e.current;let s=!1;if(p.forEach((e=>{const t=h[e].current;t&&c&&e>u.current&&(0,b.Z)(t,n)&&(u.current=e,s=!0)})),s){const e=0===o.length||o.some((e=>Number(e)===(null==l?void 0:l.vacancyId)));(0,k.R)({chatId:a,dispatch:t,shouldUpdateChatList:e,messageId:u.current})}}),[p,h,c,a,t,e,o,null==l?void 0:l.vacancyId]),messagesRefs:h,messageIdWithPlateRef:m}},I=e=>{const t=(0,i.v)((({chats:e})=>e.chats.items));return(0,n.useMemo)((()=>{const a=t.find((({id:t})=>t===e));return a?a.unreadCount:0}),[t,e])};var S=a(36788);const E=()=>{(0,n.useEffect)((()=>{(0,S.Z)()}),[])}},60186:function(e,t,a){a.d(t,{j:()=>ne});var n=a(3891),s=a(68031),i=a(48867),r=a(23982),o=a(58687),l=a(45150),c=a(75790),d=a(59343),u=a(17938),h=a(26442),p=a(29725),m=a(38618),v=a(3216),g=a(71473),y=a(86918),f=a(47400),w=a(89059),x=a(65665),b=function(e){return e.InitialContactRefused="INITIAL_CONTACT_REFUSED",e.Success="SUCCESS",e}(b||{});const k=[b.InitialContactRefused,b.Success];var C=a(63116),I=a.n(C),S=a(41082),E=a(83355),T=a(58342),_=a(85767),j=a(61403);const N="button--Ndq7Ul91OB01A6mP",A="button-visible--VCuWQQhIMEO4lxqr";var R=a(4201);const M=({scrollerRef:e,scrollToRef:t,onClick:a,badgeNum:s=0})=>{const[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(0),d=(0,n.useCallback)((()=>{const n=e.current,s=null==t?void 0:t.current;n&&(null==a||a(),!s||s&&((e,t)=>{const a=e.getBoundingClientRect(),n=t.getBoundingClientRect();return a.top<=n.top||(0,j.Z)(e,t)})(s,n)?(0,_.Z)(n):s.scrollIntoView({behavior:"smooth",block:"start"}))}),[e,t,a]),u=(0,n.useMemo)((()=>(0,r.P)((()=>{const t=e.current;if(t){const e=Math.abs(t.scrollTop);o(e>_.I)}}),200)),[e]);return(0,n.useEffect)((()=>{const t=e.current;return t&&c(t.offsetWidth-t.clientWidth),null==t||t.addEventListener("scroll",u),()=>null==t?void 0:t.removeEventListener("scroll",u)}),[u,e]),(0,R.jsx)("div",{className:I()(N,{[A]:i}),style:{marginRight:`${l}px`},children:(0,R.jsx)(S.a,{"data-qa":"chatik-chat-scroll-down-button",showBackground:!0,mode:"secondary",style:"neutral",disablePadding:!1,icon:T.Xnh,badge:i&&s>0?(0,R.jsx)(E.C,{size:"small",style:"accent","data-qa":"chatik-unread-messages-badge",children:s.toString()}):void 0,onClick:d})})};M.displayName="ChatMessages/ScrollDownButton/index/ScrollDownButton";const D=(0,n.memo)(M);var P=a(65526),Z=a(64452),L=a(49727),F=a(86071),U=a(16347),O=a(29727),B=a(36258),H=a(17223),q=a(89016);const V={[U.H.DiscardByEmployer]:{title:"chatik.messsages.service.advice.discard",one:"chatik.messsages.service.advice.discard.one",some:"chatik.messsages.service.advice.discard.some"},[U.H.DiscardByApplicant]:{title:"chatik.messsages.service.advice.discardByApplicant",one:"chatik.messsages.service.advice.discard.one",some:"chatik.messsages.service.advice.discard.some"},[U.H.DiscardNoInteraction]:{title:"chatik.messsages.service.advice.discardNoInteraction",one:"chatik.messsages.service.advice.discard.one",some:"chatik.messsages.service.advice.discard.some"},[U.H.DiscardToOtherVacancy]:{title:"chatik.messsages.service.advice.discardToOtherVacancy",one:"chatik.messsages.service.advice.discard.one",some:"chatik.messsages.service.advice.discard.some"},[U.H.PhoneInterview]:{title:"chatik.messsages.service.advice.interview",one:"chatik.messsages.service.advice.interview.one",some:"chatik.messsages.service.advice.interview.some"},advice:"chatik.messsages.service.advice"},W="-1",G=(e,t,a,n,s,i)=>{const r={[U.H.DiscardByEmployer]:"chat_suitable_resume_advice",[U.H.DiscardByApplicant]:"chat_suitable_resume_advice",[U.H.DiscardNoInteraction]:"chat_suitable_resume_advice",[U.H.DiscardToOtherVacancy]:"chat_suitable_resume_advice",[U.H.PhoneInterview]:"chat_similar_resume_advice"},o=`employer/vacancyresponses?vacancyId=${n}&collection=relevant_responses`,l=`search/resume?resume=${n}`,c={[U.H.DiscardByEmployer]:o,[U.H.DiscardByApplicant]:o,[U.H.DiscardNoInteraction]:o,[U.H.DiscardToOtherVacancy]:o,[U.H.PhoneInterview]:l},d=()=>{const e=`${t} ${i[V[a][(0,q.Z)(t,["one","some","some"])]]}`,n=`${s}/${c[a]}`;return`[${e}](${(0,H.ni)(n)})`};return{id:-e.id,participantId:W,creationTime:e.creationTime,resources:{},type:F.u.Simple,participantDisplay:{name:"",isBot:!0},onlyVisibleForMyType:!0,text:`# ${i[V.advice]}\n${(0,Z.WU)(i[V[a].title],{"{0}":d()})}`,canEdit:!1,canDelete:!1,adviceType:r[a]}},z=e=>{const t=(0,L.T)(),a=(0,i.v)(f.km),s=(0,i.v)(f.A1),r=null==a?void 0:a.id,o=null==s?void 0:s.vacancyId,l=(0,i.v)((({resources:e})=>e.participants)),c=(0,i.v)((({similarCounters:e})=>e.byVacancy[o||0])),d=(0,i.v)((({similarCounters:e})=>e.byResume[r||0])),u=(0,i.v)((e=>e.siteRoot)),h=(0,i.v)(f.R2),p=Boolean(null==h?void 0:h.id);return(0,n.useMemo)((()=>p?s&&a?e.reduce(((e,n)=>{var i,r;const o=null==n||null===(i=n.workflowTransition)||void 0===i?void 0:i.employerState;if(o===U.H.PhoneInterview&&d>0)return[...e,n,G(n,d,o,a.hash,u,t)];if((h=o)&&[U.H.DiscardByEmployer,U.H.DiscardByApplicant,U.H.DiscardNoInteraction,U.H.DiscardToOtherVacancy].includes(h)&&c>0)return[...e,n,G(n,c,o,s.vacancyId,u,t)];var h;const p=e[e.length-1];return((null==p?void 0:p.participantId)===W||(null==l||null===(r=l[null==p?void 0:p.participantId])||void 0===r?void 0:r.type)===O.f.Bot)&&n.resources[B.U.Address]?[...e.slice(0,-1),n,p]:[...e,n]}),[]):e:[...e,{id:1,participantId:W,creationTime:(new Date).toISOString(),resources:{},type:F.u.TextToJoin,participantDisplay:{name:"",isBot:!0},onlyVisibleForMyType:!0,canEdit:!1,canDelete:!1}]),[a,s,e,l,d,u,t,c,p])};var $=a(2615),K=a(91013);const Y=(e,t)=>{const a=(0,$.Z)();(0,n.useEffect)((()=>{var n;if(t)return;const s=null!==(n=null==e?void 0:e.map((({text:e})=>e?(0,K.C)(e):null)).filter((e=>!!e)))&&void 0!==n?n:[];a(s)}),[e,t,a])};var Q=a(74987);const X="chat-messages--zwfOG1I9inQXLZPA",J="scroll-wrapper--BANmTN9Sz6EwRGzp",ee="content--qbFEo4QXKAQupjDJ",te="loader--W1YyhlUtw48rTCAj",ae="loading-trigger--_xpiyXlMM2UJbdsa",ne=({disableLinkPreviews:e,scrollWrapperRef:t})=>{var a;const{userType:b}=(0,v.Z)(),C=(0,h.Z)(),I=(0,P.O4)(C),S=(0,g.Z)(),E=(0,i.v)(f.A1),T=(0,i.v)(f.W4),{items:_,hasMore:j}=(0,i.v)((({chatData:e})=>e.chat.messages)),N=(0,i.v)((({chatData:e})=>e.chatStates.writeMessageState)),A=(0,i.v)((({activeState:e})=>e)),M=(0,i.v)((e=>(0,y.t)(e,C))),Z=(0,i.v)((e=>e.quickReplies.visible)),{isLoading:L,loadingTriggerRef:F,scrollPositionToRestore:U}=(0,P._f)(t),[B]=(0,m.Z)(),H=(0,n.useRef)(null),q=(0,n.useRef)(!0),V=(0,n.useMemo)((()=>[..._].sort(Q.g)),[_]),W=z(V),G=(0,P.GI)(C,I),{syncUnreadMessagesState:$,messagesRefs:K,messageIdWithPlateRef:ne}=(0,P.R_)(t),{sendMessageImmediately:se,onQuickReply:ie}=(0,p.ZP)();Y(_,e),(0,P.Z6)(C,W),(0,P.Iv)();const re=(()=>{const e=(0,i.v)(f.U6),t=(0,i.v)((e=>e.isProxiedComponent));return(0,n.useMemo)((()=>!t||(null==e?void 0:e.length)>2&&(null==e?void 0:e.filter((e=>e.type!==O.f.Bot)).length)>2),[t,e])})();(0,n.useEffect)((()=>{const e=(e=>{const t=new Set;return null==e||e.forEach((e=>{var a;const n=null===(a=e.metadata)||void 0===a?void 0:a.clientData;n&&("resume_summary_info"===n.message&&t.add("resume_summary_message_shown"),k.includes(n.status)&&t.add("ai_assistant_interaction_completed"))})),t})(_);e.forEach((e=>{(0,w.AW)("uxfbEvent",{name:e})}))}),[_]);const oe=(0,n.useCallback)((()=>{t.current&&A&&(H.current&&q.current?(H.current.scrollIntoView({behavior:"auto",block:"center"}),q.current=!1):null!==U.current&&(t.current.scrollTop=U.current,U.current=null),$())}),[A,t,U,$]),le=(0,o.N)(oe,200);(0,n.useLayoutEffect)((()=>{le()}),[A,W.length,le]);const ce=(0,n.useMemo)((()=>(0,r.P)((()=>{A&&$()}),200)),[A,$]),de=e=>{se({text:e})},ue=t.current?(null===(a=t.current)||void 0===a?void 0:a.clientHeight)/2:100;return(0,R.jsx)("div",{className:X,children:!T&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:J,ref:t,onScroll:ce,id:(0,x.a)(),children:(0,R.jsxs)("div",{className:ee,children:[L&&(0,R.jsx)("div",{className:te,children:(0,R.jsx)(l.a,{size:24})}),j&&(0,R.jsx)("div",{className:ae,style:{height:`${ue}px`,display:L?"none":""},ref:F}),W.map(((t,a)=>(0,R.jsx)(d.Z,{ref:K[t.id],message:t,prevMessage:W[a-1],nextMessage:W[a+1],showUnreadMessagesPlate:t.id===ne.current,unreadMessagesPlateRef:H,isVacancyArchived:Boolean(null==E?void 0:E.archived),userType:b,disableLinkPreview:e,sendTextMessage:de,avatarsDisabled:!re,hideTextButtons:!0},t.id))),N.allowed&&(0,R.jsxs)(s.Z,{duration:200,height:Z?"auto":0,children:[(0,R.jsx)(c.X,{default:16}),(0,R.jsx)(u.Z,{replies:M,handleReplyClick:ie,chatId:C})]}),(!S||B)&&(0,R.jsx)(c.X,{default:16})]})}),(0,R.jsx)(D,{scrollerRef:t,scrollToRef:H,badgeNum:I,onClick:G})]})})};ne.displayName="components/ChatMessages/index/ChatMessages"},74987:function(e,t,a){a.d(t,{R:()=>o,g:()=>l});var n=a(21440),s=a(54549),i=a(59430),r=a(36788);const o=({chatId:e,messageId:t,dispatch:a,shouldUpdateChatList:o})=>{n.Z.post("/chatik/api/mark_read",{chatId:e,messageId:t}).then((()=>(0,r.Z)())).then((()=>o?((e,t)=>(0,i.Z)({ids:[e]}).then((a=>{var n,i;const r=null!==(n=null==a||null===(i=a.chats.items)||void 0===i?void 0:i.find((t=>t.id===e)))&&void 0!==n?n:null;t((0,s.GL)(a)),t((0,s.nR)({updateFor:"currentUser",chatId:e,messageId:null==r?void 0:r.lastViewedByCurrentUserMessageId}))})))(e,a):Promise.resolve())).catch(console.error)},l=(e,t)=>e.isSending&&!t.isSending?1:!e.isSending&&t.isSending?-1:e.id-t.id},16637:function(e,t,a){a.d(t,{Z:()=>g});var n=a(36047),s=a(61477),i=a(89156),r=a(34343),o=a(61384),l=a(63144),c=a(86482);const d="placeholder-container--vTJvUR9HjIJnCLQ9";var u=a(4201);const h="noChat.notification.title",p="noChat.notification.text",m="noChat.linkTo.chatList",v=({trls:e})=>{const{isMobile:t,isXS:a}=(0,o.G)(),i=(0,n.usePush)(),v=(0,s.l)(c);return(0,u.jsx)("div",{className:d,children:(0,u.jsx)(r.V,{maxWidth:412,image:v,imageHeight:a?163:288,title:e[h],description:e[p],buttonPrimary:t?(0,u.jsx)(l.z,{style:"accent",mode:"secondary",stretched:!1,onClick:()=>{i("/chat")},children:e[m]}):void 0})})};v.displayName="components/ChatNotFoundScreen/index/ChatNotFoundScreen";const g=(0,i.Z)(v)},75539:function(e,t,a){a.d(t,{Z:()=>C});var n=a(63116),s=a.n(n),i=a(48867),r=a(36047),o=a(64452),l=a(44180),c=a(66802),d=a(82967),u=a(26442),h=a(49727),p=a(29801),m=a(47400),v=a(16347),g=a(68390),y=a(17223);const f="container--uibSLh9btq4sc2yH";var w=a(4201),x=function(e){return e.VacancyArchived="vacancyArchived",e.NoVacancy="noVacancy",e.NoResume="noResume",e}(x||{});const b={[x.VacancyArchived]:"chatik.warning.vacancyArchived",[x.NoVacancy]:"chatik.warning.noVacancy",[x.NoResume]:{[g.Z.Employer]:"chatik.warning.noResume",[g.Z.BackOffice]:"chatik.warning.noResume",[g.Z.Applicant]:"chatik.warning.noResume.applicant",[g.Z.Anonymous]:"chatik.warning.noResume.applicant"},[p.R.DisabledByEmployer]:{[g.Z.Employer]:"chatik.warning.disabledByEmployer",[g.Z.BackOffice]:"chatik.warning.disabledByEmployer",[g.Z.Applicant]:"chatik.warning.disabledByEmployer.applicant",[g.Z.Anonymous]:"chatik.warning.disabledByEmployer.applicant"},chatSettings:"chatik.warning.disabledByEmployer.settingsLink",[p.R.WithoutInvitation]:{[g.Z.Employer]:"chatik.warning.withoutInvitation",[g.Z.BackOffice]:"chatik.warning.withoutInvitation",[g.Z.Applicant]:"chatik.warning.withoutInvitation.applicant",[g.Z.Anonymous]:"chatik.warning.withoutInvitation.applicant"},changeTopicState:"chatik.warning.withoutInvitation.changeTopicStateLink",defaultNotAllowedMessage:"chatik.warning.writing.notAllowed.default",commonReasons:{[p.R.MoreThanFive]:"chatik.warning.moreThanFive",[p.R.MaxMessages]:"chatik.warning.maxMessages",[p.R.PfpBlock]:"chatik.warning.pfpBlock",[p.R.EmployerLimitExceeded]:"chatik.warning.employerLimitExceeded"}},k=({className:e})=>{const t=(0,i.v)((({chatData:e})=>e.chat.type)),a=(0,i.v)((({chatData:e})=>e.chat.subType)),n=(0,i.v)((({chatData:e})=>e.chatStates.writeMessageState)),g=(0,i.v)(m.A1),k=(0,u.Z)(),{errorTrl:C,formatParams:I,addSimilarLink:S}=(({chatType:e,chatSubType:t,chatId:a,writeMessageState:n,userType:s,chatVacancy:o,chatResume:c,chatTopic:d})=>{const u=(0,i.v)((e=>e.siteRoot)),m=(0,h.T)();if("NEGOTIATION"!==e&&"WITHOUT_RESUME"!==t)return n.allowed?{}:{errorTrl:m[b.defaultNotAllowedMessage]};if(!o)return{errorTrl:m[b[x.NoVacancy]]};if(o.archived)return{errorTrl:m[b[x.VacancyArchived]],formatParams:{"{0}":o.name}};const{reason:g}=n;if(g===p.R.DisabledByEmployer){const e={target:"_blank",href:(0,y.H4)(u,o)};return{errorTrl:m[b[p.R.DisabledByEmployer][s]],formatParams:{"{0}":(0,w.jsx)(l.r,{typography:"label-3-regular",inline:!0,...e,children:m[b.chatSettings]})}}}if(g===p.R.WithoutInvitation&&c&&d){const e=`/chat/${a}/workflow/${v.H.PhoneInterview}`;return{errorTrl:m[b[p.R.WithoutInvitation][s]],formatParams:{"{0}":(0,w.jsx)(r.SPALink,{to:e,inline:!0,typography:"label-3-regular",children:m[b.changeTopicState]})},addSimilarLink:!0}}const f=b.commonReasons[g];return f?{errorTrl:m[f]}:c||"WITHOUT_RESUME"===t?n.allowed?{}:{errorTrl:m[b.defaultNotAllowedMessage]}:{errorTrl:m[b[x.NoResume][s]]}})({chatType:t,chatSubType:a,chatId:k,writeMessageState:n,chatVacancy:(0,i.v)(m.A1),chatResume:(0,i.v)(m.km),chatTopic:(0,i.v)(m.Fq),userType:(0,i.v)((({userType:e})=>e))});if(!C)return null;const E=I?(0,o.WU)(C,I):C;return(0,w.jsxs)("div",{className:s()(f,e),children:[(0,w.jsx)(c.x,{Element:"span",typography:"label-3-regular",style:"secondary",children:E}),S?" ":null,S&&(0,w.jsx)(d.Z,{vacancyId:null==g?void 0:g.vacancyId})]})};k.displayName="components/ChatWarning/index/ChatWarning";const C=k},99222:function(e,t,a){a.d(t,{Z:()=>ae});var n=a(3891),s=a(84434),i=a(63116),r=a.n(i),o=a(48867),l=a(36047),c=a(89156),d=a(63144),u=a(58342),h=a(3216),p=a(87749),m=a(13018),v=a(29801),g=a(25833),y=a(47400),f=a(16347),w=a(88915),x=a(17223),b=a(30329),k=a(24488);const C=(e,t,a="chat_menu_item")=>k.default.sendHHEventButtonClick(a,{type:e,chatId:t});var I=a(4201);const S="chatik.actions.inviteCoworker",E=(0,b.makeSetStoreField)("inviteCoworkerModalVisible"),T=({trls:e,chatId:t})=>{const a=(0,s.useDispatch)();return(0,I.jsx)(d.z,{"data-qa":"chatik-chat-invite-coworker",size:"large",style:"neutral",mode:"tertiary",stretched:!0,icon:(0,I.jsx)(u.p0C,{}),onClick:()=>{a(E(!0)),C("ADD_ANOTHER_MANAGER_TO_CHAT",t)},children:e[S]})};T.displayName="DialogHeader/ChatMenu/InviteCoworker/InviteCoworker";const _=(0,c.Z)(T);var j=a(21440),N=a(54549);const A="chatik.actions.leaveChat",R=({isLoading:e,setIsLoading:t,trls:a,chatId:n})=>{const i=(0,l.usePush)(),r=(0,s.useDispatch)(),o={"data-qa":"chatik-chat-leave-chat",disabled:e,onClick:async()=>{t(!0);try{await j.Z.post("/chatik/api/leave",{chatId:n})}catch(e){return console.error(e),void t(!1)}i("/chat"),r((0,N.Lf)(n)),t(!1),C("LEAVE_CHAT",n)}};return(0,I.jsx)(d.z,{size:"large",style:"negative",mode:"tertiary",stretched:!0,...o,icon:(0,I.jsx)(u.yAT,{}),children:a[A]})};R.displayName="DialogHeader/ChatMenu/LeaveChat/LeaveChat";const M=(0,c.Z)(R);var D=a(52002),P=a(62953);const Z="chatik.actions.notifyAdmin",L="chatik.actions.notifyAdmin.success",F=({trls:e,chatId:t})=>{const a=(0,o.v)((({notifyAdmin:e})=>e[t])),i=(0,D.Z)(),r=(0,s.useDispatch)();(0,n.useEffect)((()=>{Number(new Date)-Number(a)>3e5&&r(P.v.removeNotifyAdminForChat(t))}),[t,r,a]);const l={"data-qa":"chatik-chat-notify-admin",disabled:Boolean(a),onClick:()=>{j.Z.post("/chatik/api/notify_admin",{chatId:t}).then((()=>{C("NOTIFY_ADMIN",t),i({kind:"ok",content:e[L],autoClose:!0}),r(P.v.saveNotifyAdminForChat(t,Number(new Date)))}))}};return(0,I.jsx)(d.z,{size:"large",style:"neutral",mode:"tertiary",stretched:!0,icon:(0,I.jsx)(u.hsr,{}),...l,children:a?e[L]:e[Z]})};F.displayName="DialogHeader/ChatMenu/NotifyAdmin/NotifyAdmin";const U=(0,c.Z)(F),O="chatik.actions.rateChat",B=({isLoading:e,setIsLoading:t,trls:a,chatId:n})=>{const s={"data-qa":"chatik-chat-rate-chat",onClick:async()=>{t(!0);try{await j.Z.post("/chatik/api/rate_chat",{chatId:n})}catch(e){return void console.error(e)}t(!1),C("RATE_SUPPORT",n)},disabled:e};return(0,I.jsx)(d.z,{size:"large",style:"neutral",mode:"tertiary",stretched:!0,icon:(0,I.jsx)(u.WrI,{}),...s,children:a[O]})};B.displayName="DialogHeader/ChatMenu/RateChat/RateChat";const H=(0,c.Z)(B),q="chatik.actions.setNotificationEnabled",V="chatik.actions.setNotificationDisabled",W=({isLoading:e,setIsLoading:t,trls:a,chatId:n})=>{const i=(0,o.v)((({chatData:e})=>e.chat.notificationEnabled)),l=(0,s.useDispatch)(),c={"data-qa":r()("chatik-chat-toggle-notifications","chatik-chat-"+(i?"disable-notifications":"enable-notifications")),disabled:e,onClick:async()=>{t(!0);try{await j.Z.post("/chatik/api/toggle_notification",{chatId:n,status:!i}),l((0,N.at)(n,!i))}catch(e){return console.error(e),void t(!1)}t(!1),C("TOGGLE_NOTIFICATIONS",n)}};return(0,I.jsx)(d.z,{size:"large",style:"neutral",mode:"tertiary",stretched:!0,icon:i?(0,I.jsx)(u.y$3,{}):(0,I.jsx)(u.qi9,{}),...c,children:i?a[V]:a[q]})};W.displayName="DialogHeader/ChatMenu/ToggleNotifications/DisableNotifications";const G=(0,c.Z)(W),z="chatik.actions.setWritePossibilityEnabled",$="chatik.actions.setWritePossibilityDisabled",K=({isLoading:e,setIsLoading:t,chatId:a,trls:n})=>{var s;const i=(0,o.v)((({chatData:e})=>e.chat)),l=null===(s=i.operations)||void 0===s?void 0:s.enabled.includes(v.Ru.DisableWritePossibility),c={"data-qa":r()("chatik-chat-toggle-write-possibility","chatik-chat-"+(i.notificationEnabled?"disable-write-possibility":"enable-write-possibility")),disabled:e,onClick:async()=>{t(!0);try{await j.Z.post("/chatik/api/set_write_possibility",{chatId:a,writePossibility:!l})}catch(e){return console.error(e),void t(!1)}t(!1),C("TOGGLE_WRITE_POSSIBILITY",a)}};return(0,I.jsx)(d.z,{size:"large",style:"neutral",mode:"tertiary",stretched:!0,icon:l?(0,I.jsx)(u.Xdw,{}):(0,I.jsx)(u.A$w,{}),...c,children:l?n[$]:n[z]})};K.displayName="DialogHeader/ChatMenu/ToggleWritePossibility/ToggleWritePossibility";const Y=(0,c.Z)(K),Q="menu--exPui74ZVcEjgDGR",X="title--GmLc1wqhI9nbKTUp",J={chatParticipants:"chatik.actions.chatParticipants",aboutCompany:"chatik.actions.aboutCompany",invitation:"chatik.vacancy.invitation",noTopic:"chatik.vacancy.noTopic",[f.H.DiscardByEmployer]:"chatik.vacancy.discard",[f.H.Response]:"chatik.vacancy.response"},ee=[{Component:G,operations:[v.Ru.DisableNotifications,v.Ru.EnableNotifications]},{Component:Y,operations:[v.Ru.DisableWritePossibility,v.Ru.EnableWritePossibility]},{Component:M,operations:[v.Ru.LeaveChat]},{Component:H,operations:[v.Ru.Rate]}],te=({trls:e,close:t,chatId:a,view:i,hiddenOperations:c})=>{var v;const f=(0,o.v)((({chatData:e})=>e.chat.operations.enabled)),b=(0,o.v)(y.R2),k=(0,o.v)(y.A1),S=(0,o.v)(y.h),E=(0,o.v)(y.Fq),{chat:T,chatStates:j}=(0,o.v)((({chatData:e})=>e)),N=(0,o.v)((({features:e})=>e[g.A.NotifyAdminEnabled])),A=(0,o.v)(m.BK),R=(0,o.v)((e=>e.isProxiedComponent)),M=(0,o.v)((e=>e.siteRoot)),D=(0,l.usePush)(),{isApplicant:P,isEmployer:Z}=(0,h.Z)(),L=(0,s.useDispatch)(),[F,O]=(0,n.useState)(!1),B=(0,n.useCallback)((async e=>{if(!e){const e=await(0,w.Z)({chatId:a});e&&L((0,p.$2)(e))}O(e)}),[a,L]);(0,n.useEffect)((()=>{C("OPEN_MENU",a,"chat_menu")}),[a]);const H="drop"===i,q=!P&&k?`${(({chatTopic:e,trls:t,TrlKeys:a})=>{if(!e)return t[a.noTopic];const n=a[e.currentEmployerState];return n?t[n]:t[a.invitation]})({trls:e,chatTopic:E,TrlKeys:J})}: ${k.name}`:null,V=H?{width:("undefined"!=typeof document?document.body.offsetWidth-16:0)+"px"}:{},W="SUPPORT"===T.type,G="NEGOTIATION"===T.type&&!T.blockInfo,z=P&&S,$=!W&&!R,K=Z&&G&&!(null!=k&&k.archived)&&j.writeMessageState.allowed,Y=Boolean(N)&&A&&b&&"admin"!==(null===(v=b.role)||void 0===v?void 0:v.name);return(0,I.jsxs)("div",{className:r()({[Q]:H}),onClick:t,style:V,children:[q&&H&&(0,I.jsx)("div",{className:X,children:q}),z&&(0,I.jsx)(d.z,{"data-qa":"chatik-chat-view-company",Element:"a",target:"_blank",href:(0,x.ag)(M,S),icon:(0,I.jsx)(u.Uq,{}),size:"large",style:"neutral",mode:"tertiary",stretched:!0,onClick:()=>C("ABOUT_COMPANY",a),children:e[J.aboutCompany]}),$&&(0,I.jsx)(d.z,{"data-qa":"chatik-chat-view-participants",size:"large",style:"neutral",mode:"tertiary",stretched:!0,icon:(0,I.jsx)(u.QUo,{}),onClick:()=>{C("CHAT_PARTICIPANTS",a),D(`/chat/${a}/participants`)},children:e[J.chatParticipants]}),K&&(0,I.jsx)(_,{chatId:a}),Y&&(0,I.jsx)(U,{chatId:a}),ee.filter((({operations:e})=>e.some((e=>f.includes(e)))&&!e.some((e=>null==c?void 0:c.includes(e))))).map((({Component:e},t)=>(0,I.jsx)(e,{isLoading:F,setIsLoading:B,chatId:a},t)))]})};te.displayName="DialogHeader/ChatMenu/index/Menu";const ae=(0,c.Z)(te)},20446:function(e,t,a){a.d(t,{Y:()=>v});var n=a(48867),s=a(89156),i=a(50361),r=a(56905),o=a(3216),l=a(13018),c=a(2183),d=a(47400),u=a(24087);const h="subtitle--NtSoqjdndQwVqzl5";var p=a(4201);const m=({online:e,loading:t})=>{const{display:a,chat:s}=(0,u.Z)(t),{isApplicant:m}=(0,o.Z)(),{lastActivityTime:v}=s,g=(0,n.v)(c.CT),y=(0,n.v)(d.U6),f=(0,n.v)(l.BK),w="SUPPORT"===s.type,x="NEGOTIATION"===s.type;let b=m&&x?a.title:a.subtitle;return null!=g&&g.length?(0,p.jsx)(i.c,{style:"primary",compact:y.length<=2,typingParticipants:g}):(w||f||!v||(b=(0,p.jsx)(r.Z,{lastActivityTime:v,isOnline:e})),b&&(0,p.jsx)("div",{className:h,children:b}))};m.displayName="components/DialogHeader/DialogSubtitle/DialogSubtitleComponent";const v=(0,s.Z)(m)},24087:function(e,t,a){a.d(t,{Z:()=>i});var n=a(48867),s=a(26442);const i=(e=!1)=>{const t=(0,s.Z)(),a=(0,n.v)((({chatData:e})=>e.chat)),i=(0,n.v)((({chatData:e})=>e.display)),r=(0,n.v)((({chats:e})=>e.chats.items.find((({id:e})=>e===t)))),o=(0,n.v)((({chats:e})=>e.chatsDisplayInfo[t]));return{display:e&&o?o:i,chat:e&&r?r:a}}},53416:function(e,t,a){a.d(t,{Z:()=>h});var n=a(3891),s=a(63116),i=a.n(s);const r="header--jAe1p3UW6UE0bk7P",o="content--Q4bdcLlhvczS9R5m",l="last-slot--WRxgMBiIvItieM_8",c="first-slot--W85xA2MY8P4LCBkb";var d=a(4201);const u=({children:e,className:t,lastSlot:a,firstSlot:s},u)=>{const h=(0,n.useRef)(null);return(0,d.jsxs)("div",{className:i()(r,t),ref:u,children:[s&&(0,d.jsx)("div",{className:c,children:s}),(0,d.jsx)("div",{ref:h,className:o,children:e}),a&&(0,d.jsx)("div",{className:l,children:a})]})};u.displayName="components/HeaderBase/index/HeaderBase";const h=(0,n.forwardRef)(u)},3585:function(e,t,a){a.d(t,{Z:()=>h});var n=a(32449),s=a(59558),i=a(8493),r=a(67117),o=a(21570),l=a(99227),c=a(41781),d=a(23855);const u={AZ:s.Z,EN:i.Z,KZ:r.Z,RU:o.Z,UA:l.Z,UZ:c.Z,KG:o.Z},h=(e,t,a="RU")=>(0,n.Z)("string"==typeof e?(0,d.Z)(e):e,t,{locale:u[a]})},89824:function(e,t,a){a.d(t,{Lx:()=>n,M1:()=>i,VN:()=>s});const n=e=>(e=>{let t=e||"";t=t.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm,"");try{t=t.replace(/\n={2,}/g,"\n").replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,""),t=t.replace(/^[=-]{2,}\s*$/g,"").replace(/\[\^.+?\](: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/!\[(.*?)\][[(].*?[\])]/g,"$1").replace(/\[(.*?)\][[(].*?[\])]/g,"$1").replace(/^\s{0,3}>\s?/g,"").replace(/(^|\n)\s{0,3}>\s?/g,"\n\n").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/([*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/\n{2,}/g,"\n\n")}catch(t){return console.error(t),e}return t})(e.replace(/ {2,}/g," ")),s=e=>{const t=n(e);return/^\s*$/g.test(t)},i=e=>{const t=Object.keys(null!=e?e:{}),a=["manuallyEnteredData"];return t.reduce(((e,t)=>a.includes(t)?++e:e),0)===t.length}},59343:function(e,t,a){a.d(t,{Z:()=>ws});var n=a(3891),s=a(63116),i=a.n(s),r=a(10900),o=a(75790),l=a(49727),c=a(86071);const d=(e,t)=>e.participantId===t.participantId&&e.participantDisplay.name===t.participantDisplay.name;var u=a(89156),h=a(66802),p=a(64514),m=a(51085),v=a(9904),g=a(3585);const y="date.today.uppercase",f="date.yesterday.uppercase",w=(e,t)=>{const a=new Date(e);return(e=>!isNaN(e.getDate()))(a)?(0,m.Z)(a)?t[y]:(0,v.Z)(a)?t[f]:(0,p.Z)(a)?(0,g.Z)(a,"d MMMM"):(0,g.Z)(a,"d MMMM yyyy"):""},x="chat-date--_wIw8OSUHU8I4spq";var b=a(4201);const k=({date:e,trls:t})=>e?(0,b.jsx)("div",{className:x,children:(0,b.jsx)(h.x,{style:"tertiary",typography:"label-2-regular",children:w(e,t)})}):null;k.displayName="Message/ChatDate/index/ChatDate";const C=(0,u.Z)(k);var I=a(48867),S=a(64452),E=a(47400);const T="participant-action--IXFsK1xRpewBIhNM";let _=function(e){return e[e.Joined=0]="Joined",e[e.Left=1]="Left",e[e.TextToJoin=2]="TextToJoin",e}({});const j={[_.Joined]:"chatik.message.participantJoined",[_.Left]:"chatik.message.participantLeft",[_.TextToJoin]:"chatik.message.textToJoin",addedByAnotherUser:"chatik.message.addedByAnotherUser"},N=({action:e,message:t,trls:a})=>{var s;const i=(0,n.useMemo)(E.DP,[]),r=(0,I.v)((e=>i(e,t.managedParticipantExternalId)));if(e===_.TextToJoin)return(0,b.jsx)("div",{className:T,children:a[j[e]]});if(e===_.Joined&&(null==r?void 0:r.isCurrentUser)&&t.managedParticipantExternalId===(null==r?void 0:r.externalId)&&t.participantId!==t.managedParticipantExternalId)return(0,b.jsx)("div",{className:T,children:a[j.addedByAnotherUser]});const o=null==r||null===(s=r.display)||void 0===s?void 0:s.name;return o?(0,b.jsx)("div",{className:T,children:(0,S.WU)(a[j[e]],{"{0}":o})}):null};N.displayName="Message/ParticipantActionMessage/index/ParticipantActionMessage";const A=(0,u.Z)(N);var R=a(84434),M=a(24488),D=a(42065),P=a(58342),Z=a(44180),L=a(77329),F=a.n(L),U=a(49920),O=a.n(U),B=a(63144),H=a(26442),q=a(48403),V=a(65442),W=a(13656),G=a.n(W),z=a(10455),$=a.n(z),K=a(21440),Y=a(33338),Q=a(52002),X=a(87749);const J="chatik.message.delete.modal.title",ee="chatik.message.delete.modal.description",te="chatik.message.delete.modal.action.delete",ae="chatik.message.delete.modal.action.cancel",ne="chatik.message.delete.error",se=({trls:e,visible:t,messageId:a,chatId:s,onClose:i})=>{const r=(0,R.useDispatch)(),[o,l]=(0,n.useState)(!1),c=(0,Q.Z)();(0,n.useEffect)((()=>{t&&l(!1)}),[t]);return(0,b.jsx)(Y.bZ,{visible:t,title:e[J],description:e[ee],iconStyle:"warning",icon:(0,b.jsx)(P.l5_,{}),layout:"vertical",buttons:(0,b.jsxs)(b.Fragment,{children:[!o&&(0,b.jsx)(B.z,{"data-qa":"chatik_delete_modal_cancel_button",size:"medium",style:"accent",mode:"primary",onClick:()=>{G()({buttonName:"chat_message_delete_cancel",chatId:s,messageId:a}),i()},children:e[ae]}),(0,b.jsx)(B.z,{"data-qa":"chatik_delete_modal_confirm_button",size:"medium",style:"accent",mode:"secondary",loading:o,onClick:async()=>{l(!0),G()({buttonName:"chat_message_delete_confirm",chatId:s,messageId:a});try{await K.Z.delete("/chatik/api/delete_message",{params:{messageId:a,chatId:s}}),r((0,X.Am)(s,a))}catch(t){$()({chatId:s,messageId:a}),c({kind:"error",content:e[ne],autoClose:!0})}finally{i()}},children:e[te]})]}),onClose:i})};se.displayName="Message/MessageMenu/DeleteMessageAlert/DeleteMessageAlert";const ie=(0,u.Z)(se);var re=a(6028),oe=a(28826),le=a.n(oe),ce=a(41082),de=a(69441),ue=a(65665);const he="bubble-wrapper--rNmhf0mHzs2kc5jP",pe="bubble-wrapper_force-hover--vHkLCtDSltsgbidT",me="menu-wrapper--p9GwuwlYu9Tkw_eE",ve="menu-wrapper_left--uMX0b2hRND0_U3W1",ge="menu-wrapper_right--sIVevqG23T8B6W_x",ye=({children:e,bubbleRef:t,direction:a,id:s,menuItems:r})=>{const o=(0,H.Z)(),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),h=(0,n.useRef)(null),p=(0,n.useRef)(null),m=(0,n.useCallback)((()=>c(!0)),[]),v=(0,n.useCallback)((()=>!d&&c(!1)),[d]);(0,n.useEffect)((()=>{if(!d)return;const e=document.getElementById((0,ue.a)()),t=e=>{e.preventDefault(),e.stopPropagation()};return null==e||e.addEventListener("wheel",t),()=>null==e?void 0:e.removeEventListener("wheel",t)}),[d]),(0,n.useEffect)((()=>{const e=h.current;return null==e||e.addEventListener("mouseenter",m),null==e||e.addEventListener("mouseleave",v),()=>{null==e||e.removeEventListener("mouseenter",m),null==e||e.removeEventListener("mouseleave",v)}}),[t,m,v]);const g=()=>{u(!1),c(!1)};return(0,b.jsxs)("div",{"data-qa":"desktop-message-menu-wrapper",ref:h,className:i()(he,{[pe]:l}),children:[e,(null==t?void 0:t.current)&&(0,re.createPortal)((0,b.jsx)("div",{"data-qa":"desktop-message-menu",className:i()(me,{[ve]:"outgoing"===a,[ge]:"incoming"===a}),children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ce.a,{ref:p,style:"neutral",mode:"secondary","data-qa":"chatik-message-menu",icon:P.t_N,onClick:()=>{d||le()({chatId:o,messageId:s}),u((e=>!e))}}),(0,b.jsx)(de.S,{visible:d,onClose:g,dropProps:{placement:"outgoing"===a?"left-top":"right-top",activatorRef:p},children:(0,b.jsx)("ul",{role:"menu",onClick:g,children:r})})]})}),t.current)]})};ye.displayName="Message/MessageMenu/DesktopMenuWrapper/DesktopMenuWrapper";const fe=(0,n.memo)(ye),we=({children:e,bubbleRef:t,id:a,menuItems:s})=>{const i=(0,H.Z)(),[r,o]=(0,n.useState)(!1),l=(0,n.useRef)(null);(0,n.useEffect)((()=>{const e=e=>{let t=e.target;for(;t!==l.current&&null!==t;){var n,s,r,c,d;if("BUTTON"===(null===(n=t)||void 0===n?void 0:n.tagName))return;if("A"===(null===(s=t)||void 0===s?void 0:s.tagName))return;if("viewer-activator"===(null===(r=t)||void 0===r?void 0:r.id))return;if("message-map-wrapper"===(null===(c=t)||void 0===c?void 0:c.id))return;t=(null===(d=t)||void 0===d?void 0:d.parentElement)||null}le()({chatId:i,messageId:a}),o(!0)},t=null==l?void 0:l.current;return null==t||t.addEventListener("click",e),()=>{null==t||t.removeEventListener("click",e)}}),[i,a,l]);return t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{"data-qa":"touch-bubble-with-menu-click-zone",ref:l,children:e}),(0,b.jsx)(de.S,{visible:r,onClose:()=>{o(!1)},dropProps:{placement:"left-top",activatorRef:t,"data-qa":"bubble-touch-menu-dropdown-menu"},children:(0,b.jsx)("ul",{role:"menu",onClick:()=>{o(!1)},children:s})})]}):null};we.displayName="Message/MessageMenu/TouchMenuWrapper/TouchMenuWrapper";const xe=(0,n.memo)(we),be="chatik.message.actions.change",ke="chatik.message.actions.delete",Ce=({trls:e,children:t,bubbleRef:a,message:s})=>{const i=(0,q.Z)(),r=(0,R.useDispatch)(),o=(0,H.Z)(),[l,c]=(0,n.useState)(!1),{canDelete:d,canEdit:u,id:h,text:p}=s,m=i?xe:fe;return d||u?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m,{id:h,bubbleRef:a,direction:"outgoing",menuItems:(0,b.jsxs)(b.Fragment,{children:[u&&(0,b.jsx)("li",{role:"menuitem","data-qa":"chatik-edit-message-item",onClick:()=>{r((0,V.Hd)(h,null!=p?p:"")),F()({chatId:o,messageId:h,hhtmFromLabel:"message_menu"})},children:(0,b.jsx)(B.z,{size:"large",mode:"tertiary",style:"neutral",stretched:!0,icon:(0,b.jsx)(P.vvx,{}),children:e[be]})}),d&&(0,b.jsx)("li",{role:"menuitem","data-qa":"chatik-delete-message-item",onClick:()=>{c(!0),O()({chatId:o,messageId:h})},children:(0,b.jsx)(B.z,{size:"large",mode:"tertiary",style:"negative",stretched:!0,icon:(0,b.jsx)(P.q6q,{initialColor:"negative"}),children:e[ke]})})]}),children:t}),(0,b.jsx)(ie,{chatId:o,messageId:s.id,visible:l,onClose:()=>c(!1)})]}):(0,b.jsx)(b.Fragment,{children:t})};Ce.displayName="Message/MessageMenu/index/MessageMenuWrapper";const Ie=(0,u.Z)(Ce);var Se=a(70844);const Ee="exit--Q__nOqLOPXIJdKlF",Te="exit-active--nWBv7sUdAQzbnnKJ",_e=e=>t=>{const a=(0,R.useDispatch)(),n=(0,I.v)((e=>{var a;return null===(a=e.chatData.markAsRemovedMessages)||void 0===a?void 0:a[t.message.id]}));return(0,b.jsx)(Se.Z,{in:!n,classNames:{exit:Ee,exitActive:Te},timeout:300,onExited:()=>a((0,X.T5)(t.message.chatId,t.message.id)),unmountOnExit:!0,children:(0,b.jsx)(e,{...t})})};var je=a(80684),Ne=a(29727),Ae=a(58086);const Re=({message:e,nextMessage:t,isMyMessage:a,isSending:n})=>{const s=(0,I.v)((({chatData:e})=>e.chat.lastViewedByOpponentMessageId)),i=(0,je.m)(E.DP,e.participantId),{onlineUntilTime:r}=null!=i?i:{},o=e.participantDisplay.isBot,l=(()=>{const{id:t,onlyVisibleForMyType:r}=e;if(r||(null==i?void 0:i.type)===Ne.f.Bot&&o)return"hidden";if(e.deleted)return"deleted";if(!a)return;if(n)return"sending";if(e.isSending)return"sending";return!!s&&t<=s?"read":"delivered"})(),u=o?"bot":a?"outgoing":"incoming",h=!t||!d(t,e)||[c.u.ParticipantJoined,c.u.ParticipantLeft].includes(t.type),p=h&&!a;return{type:u,status:l,isOnline:!(null==r||!r.dt)&&(0,Ae.Dp)(r.dt)===Ae.$r.ONLINE,avatarDisplayInfo:p?e.participantDisplay:void 0,messageDirection:a?"right":"left",withTail:h,displayTime:e.creationTime,edited:!e.deleted&&Boolean(e.lastChangeTime),dataQa:`chatik-chat-message-${e.id}-text`}};var Me=a(91013),De=a(9362);const Pe=e=>{const t=(0,I.v)((({linkPreviews:e})=>e)),[a,s]=(0,n.useState)(""),i=t[a];return(0,n.useEffect)((()=>{if(!e)return;const t=(0,Me.C)(e);s(t?(0,De.Z)(t):"")}),[e]),i};var Ze=a(3151),Le=a(16347);const Fe=({workflowTransition:e})=>(null==e?void 0:e.applicantState)===Le.J.Response||(null==e?void 0:e.employerState)===Le.H.Response,Ue=(e,t=!1)=>{try{const a=new URL(e);return a.searchParams.append("hhtmSource",t?"spoiler":"chat"),a.toString()}catch{return e}},Oe=()=>(0,I.v)((e=>e.chatData.chat.id))===(0,I.v)((({applicantFirstContactChatId:e})=>e));var Be=a(3216),He=a(5791),qe=a(36258),Ve=a(96990),We=a(76586),Ge=a.n(We),ze=a(7710),$e=a.n(ze),Ke=a(15698),Ye=a(87884),Qe=a(26825);const Xe=({name:e,avatar:t,isBot:a,isOnline:n,chatId:s})=>{const i=(0,I.v)((({isProxiedComponent:e})=>e)),r=(0,I.v)((({chatData:e})=>e.display)),{isApplicant:o}=(0,Be.Z)(),l=e||r.title,c=!l,{avatarIcon:d,avatarImage:u,avatarIconStyle:h}=(0,Ye.Z)({isBot:a,image:t,isUnknownUser:c}),p=()=>{if(o)Ge()({chatId:s});else{const e=i?"spoiler":"chat";$e()({chatId:s,hhtmFromLabel:e})}};return d?(0,b.jsx)(Ke.q,{size:40,mode:"icon",icon:d,style:h,"aria-label":null!=e?e:"avatar",online:n,onClick:p}):(0,b.jsx)(Ke.q,{size:40,mode:u?"image":"letters",image:null!=u?u:"",letters:(0,Qe.$)(l.toUpperCase()),style:"color-1","aria-label":null!=e?e:"avatar",online:n,onClick:p})};Xe.displayName="SimpleMessage/ChatBubbleContainer/ChatBubbleAvatar/ChatBubbleAvatar";const Je=Xe;var et=a(71495);const tt=(0,n.createContext)({displayTimeInfo:{}}),at=()=>(0,n.useContext)(tt),nt="chat-bubble-indicators--QOMZgy7q98o1NKry",st="tip-content--hclxyp2BMjn5kuyv",it="chatik.message.edited",rt="chatik.message.onlyVisibleForMyType.title",ot={sending:P.crD,sent:P.ARe,delivered:P.ARe,read:P.eid,hidden:P.th3,deleted:P.weN},lt=(e,t)=>{if("deleted"===t)return"secondary";switch(e){case"outgoing":return"contrast";case"bot":return"special";default:return}},ct=({trls:e,className:t,...a})=>{const{type:s,displayTimeInfo:r}=at(),o=(0,n.useRef)(null),{displayTime:l,status:c,edited:d}=r,u="deleted"===c||c&&"incoming"!==s?ot[c]:void 0,p=(e=>"outgoing"===e?"contrast":"secondary")(s),m=c?`chat-bubble-icon-${c}`:void 0;return l?(0,b.jsxs)("span",{"data-qa":"chat-bubble-indicators",className:i()(nt,t),...a,children:[d&&(0,b.jsxs)(h.x,{Element:"span",typography:"label-4-regular",style:p,children:[e[it],""]}),(0,b.jsx)(h.x,{"data-qa":"chat-buble-display-time",Element:"span",typography:"label-4-regular",style:p,children:(0,g.Z)(new Date(l),"HH:mm")}),u&&("hidden"===c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{"data-qa":m,ref:o,children:(0,b.jsx)(u,{initialColor:lt(s)})}),(0,b.jsx)(et.p,{placement:"top-center",activatorRef:o,children:(0,b.jsx)("div",{className:st,children:(0,b.jsx)(h.x,{typography:"label-4-regular",children:e[rt]})})})]}):(0,b.jsx)("span",{"data-qa":m,children:(0,b.jsx)(u,{initialColor:lt(s,c)})}))]}):null};ct.displayName="ChatBubbleContainer/ChatBubbleIndicators/index/ChatBubbleIndicators";const dt=(0,u.Z)(ct);var ut,ht;function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pt.apply(null,arguments)}const mt=e=>n.createElement("svg",pt({xmlns:"http://www.w3.org/2000/svg",width:22,height:20,fill:"none"},e),ut||(ut=n.createElement("g",{clipPath:"url(#a)"},n.createElement("path",{fill:"#0070FF",d:"M16 9V0h-1v4c0 7.5-6.5 15-15 15v1h18.852c.975 0 1.495-1.408.845-2.135C18.005 15.974 16 12.908 16 9"}),n.createElement("path",{fill:"#0D63E3",fillRule:"evenodd",d:"M20.808 19c.353.329.118 1-.364 1H0v-1h19.15a.101.101 0 0 0 .074-.17 18 18 0 0 1-1.01-1.176c-1.534-1.95-3.12-4.8-3.21-8.339L15 0h1v9c0 4.827 3.059 8.369 4.808 10",clipRule:"evenodd"}))),ht||(ht=n.createElement("defs",null,n.createElement("clipPath",{id:"a"},n.createElement("path",{fill:"#fff",d:"M0 0h22v20H0z"}))))),vt="chat-bubble-container--xlH6p5aV4o4u_38b",gt="chat-bubble-container_offsetted--FiTpVtD3PAC3r5Zt",yt="chat-bubble-container_deleted--p5S8YtBns_IZYGm1",ft="avatar--rmYUYHBR960RU8kC",wt="chat-bubble--TFjICp8IMFIhojGy",xt="chat-bubble_incoming--CgAKL4FOU0shOYzo",bt="chat-bubble-content--qOhTaYyg5ygPNstt",kt="tail-wrapper--G0FVKQq89mYBEr4b",Ct="chat-bubble_outgoing--C1wSnUG6DlswSx6I",It="chat-bubble_bot--ATOUBrnmcY8nZkrY",St="chat-bubble_with-left-tail--__mmuGUjNcDqugJS",Et="chat-bubble_with-right-tail--J0NYWVDENy0KLcgZ",Tt="bottom-widgets-container--sAKEC7d4wwPLe_Tv",_t="bottom-widgets-container_with-left-avatar--dkO8vP4m98wye_Qv",jt="caption--chWFXqBAwiqPPgRz",Nt="tail-wrapper_left--nruAYPMTuhkCKesn",At="tail-wrapper_right--DdkfoQ5Y6NIOcVZG",Rt="error-icon--jVzZJVUMQHkLuu89",Mt=({chatId:e,dataQa:t,type:a,avatarDisplayInfo:s,displayTimeContainer:r,displayTime:o,status:l,isOnline:c,edited:d,messageDirection:u,withTail:p,children:m,caption:v,actions:g,bottomWidgets:y,hideAvatar:f},w)=>{const x=(0,n.useMemo)((()=>({type:a,displayTimeInfo:{displayTimeContainer:r,displayTime:o,status:l,edited:d}})),[a,r,o,l,d]),k=!f&&!s&&"left"===u,C=p&&"left"===u,I=p&&"right"===u,S="error"===l,E=Boolean(g||v||y),T=()=>(0,b.jsx)(mt,{className:i()(kt,{[Nt]:C,[At]:I})});return(0,b.jsx)(tt.Provider,{value:x,children:(0,b.jsxs)("div",{"data-qa":"chat-bubble-wrapper",className:i()(vt,{[yt]:"deleted"===l,[gt]:k}),children:[s&&!f?(0,b.jsx)("div",{className:ft,children:(0,b.jsx)(Je,{chatId:e,isOnline:c,...s})}):null,(0,b.jsxs)("div",{className:i()(wt,{[St]:C,[Et]:I,[It]:"bot"===a,[xt]:"incoming"===a,[Ct]:"outgoing"===a}),children:[C&&T(),(0,b.jsxs)("div",{ref:w,"data-qa":t,className:bt,children:[m,!r&&(0,b.jsx)(dt,{})]}),I&&T()]}),S&&"right"===u&&(0,b.jsx)("div",{className:Rt,children:(0,b.jsx)(P.I6K,{initialColor:"negative"})}),E&&(0,b.jsxs)("div",{className:i()(Tt,{[_t]:!f&&s&&"left"===u}),children:[g&&(0,b.jsx)("div",{children:g}),v&&(0,b.jsx)("div",{className:jt,children:(0,b.jsx)(h.x,{typography:"label-4-regular",style:S?"negative":"primary",children:v})}),y]})]})})};Mt.displayName="SimpleMessage/ChatBubbleContainer/index/ChatBubbleContainer";const Dt=(0,n.forwardRef)(Mt),Pt=e=>(0,n.forwardRef)(((t,a)=>{const{children:n}=t;return(Array.isArray(n)?n.some((e=>!!e)):!!n)?(0,b.jsx)(e,{...t,ref:a}):null})),Zt="chat-bubble-author-name--wcq8WdoAQ9wU3nqB",Lt=({children:e})=>{const{type:t}=at();return"outgoing"===t?null:(0,b.jsx)("span",{"data-qa":"chat-bubble-author-name",className:Zt,children:(0,b.jsx)(h.x,{Element:"span",typography:"label-3-regular",style:(()=>{switch(t){case"incoming":return"accent";case"bot":return"special";default:return}})(),maxLines:1,children:e})})};Lt.displayName="ChatBubbleContainer/ChatBubbleAuthorName/index/AuthorName";const Ft=Pt(Lt),Ut="chat-bubble-file-preview-wrapper--bxPLrIlwE78QPQ24",Ot="chat-bubble-file-preview--OwwH5Ri2DIF3L6Nf",Bt="chat-bubble-file-preview_shrinked--i8t1XhiLbx4VzGjl",Ht="chat-bubble-file-preview_incoming--wSqAtyXfZAxa5zkQ",qt="preview--Z9ywvVLbwp8PwXtK",Vt="chat-bubble-file-preview_outgoing--MHCYTPCQOMU4WPKR",Wt="chat-bubble-file-preview_bot--Vzv_FjBhqY0QBj4i",Gt="content--ZjzIoH0jnCoBCLkY",zt="indicators-container--gHxhqLBk501s3khC",$t="chatik.fileAttach.download.text",Kt=({trls:e,uploadId:t,fileName:a,url:n,previewUrl:s,shrinked:r,isLastAttach:o,...l})=>{const{type:c,displayTimeInfo:d}=at(),u=(0,I.v)((0,Ve.h)(t)),p=(null==u?void 0:u.content)||s;return(0,b.jsx)("div",{"data-qa":l["data-qa"]||"chat-bubble-file-attach",className:Ut,children:(0,b.jsxs)("div",{className:i()(Ot,{[Ht]:"incoming"===c,[Vt]:"outgoing"===c,[Wt]:"bot"===c,[Bt]:r}),children:[(0,b.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",className:qt,children:p?(0,b.jsx)("img",{src:p,"data-qa":"chat-bubble-file-preview",alt:"file preview"}):(0,b.jsx)(P.GhD,{})}),(0,b.jsxs)("div",{className:Gt,children:[(0,b.jsx)(h.x,{"data-qa":"chat-bubble-filename",style:"outgoing"===c?"contrast":"primary",typography:"subtitle-2-semibold",maxLines:1,children:a}),(0,b.jsx)(Z.r,{"data-qa":"chat-bubble-file-download-link",href:n,target:"_blank",rel:"noreferrer",style:"outgoing"===c?"constant":"accent",typography:"label-3-regular",children:e[$t]})]}),o&&"file-preview"===d.displayTimeContainer&&(0,b.jsx)(dt,{className:zt})]})})};Kt.displayName="ChatBubbleContainer/ChatBubbleFileAttach/index/ChatBubbleFileAttach";const Yt=(0,u.Z)(Kt),Qt="chat-bubble-file-attachments--SKqAreWfgUtQ0WUe",Xt=({files:e,messageId:t,isSpoiler:a})=>{const{displayTimeInfo:n}=at();return null!=e&&e.length?(0,b.jsx)("div",{"data-qa":"chat-bubble-file-attachments-container",className:Qt,children:e.map(((s,i)=>{var r;return(0,b.jsx)(Yt,{"data-qa":`chatik-chat-message-${t}-file`,url:Ue(s.url,a),previewUrl:null===(r=s.preview)||void 0===r?void 0:r.url,fileName:s.title,uploadId:s.upload_id,shrinked:"file-preview"!==n.displayTimeContainer,isLastAttach:i===e.length-1},s.url)}))}):null};Xt.displayName="ChatBubbleContainer/ChatBubbleFileAttachments/index/ChatBubbleFileAttachments";const Jt=Xt;var ea=a(30329),ta=a(45150),aa=a(61384),na=a(89059);const sa=e=>e<1?"horizontal":"vertical";const ia=({width:e,height:t,isMobile:a})=>{const n=t/e,s=((e,t)=>"horizontal"===sa(e)?t?270:444:1/0)(n,a),i=function(e,t){return"vertical"===sa(e)?t?270:400:1/0}(n,a),r=Math.min(e,s),o=Math.round(r*n);return o>i?{width:Math.round(i/n),height:i}:{width:r,height:o}},ra="wrapper--RMsNVnl9AJkKKGfD",oa="spoiler-wrapper--kRaBLvKjbiwpMzwp",la="blurred-background--VFzwmTucObIGLwCj",ca="image--CkeMYTK2xEQZSaQV",da="skeleton--ikcaKjmSlkj5Dg7k",ua="icon-plate--ptFTVoyuR34SooeN",ha="hidden--Y5qgR5NHH8IGhkbZ",pa=(0,ea.makeSetStoreField)("viewer"),ma=({cachedPreview:e,width:t,height:a,previewUrl:s,downloadUrl:r,name:o,handleImageWidth:l,isSpoiler:c,message:d,...u})=>{const h=(0,R.useDispatch)(),{isMobile:p}=(0,aa.G)(),[m,v]=(0,n.useState)(0),[y,f]=(0,n.useState)(!e),[w,x]=(0,n.useState)(!1),k=(0,n.useRef)(),C=(0,n.useRef)(null),I=y||w,S=()=>{f(!1)},E=(0,n.useMemo)((()=>ia({width:t,height:a,isMobile:p})),[p,a,t]);(0,n.useEffect)((()=>{null==l||l(E.width)}),[E.width,l]),(0,n.useEffect)((()=>()=>{clearTimeout(k.current)}),[]),(0,n.useEffect)((()=>{var e;null!==(e=C.current)&&void 0!==e&&e.complete&&S()}),[]);const T={width:E.width,height:E.height};return(0,b.jsxs)("a",{className:i()(ra,{[oa]:c}),id:"viewer-activator",href:r,target:"_blank",rel:"noopener noreferrer","data-qa":u["data-qa"],draggable:!1,onClick:e=>{if(c)return;e.preventDefault();const n={image:{url:r,width:t,height:a},viewerTitle:d.participantDisplay.name,viewerSubtitle:(0,g.Z)(d.creationTime,"d MMMM yyyy HH:mm"),meta:{chatId:d.chatId,messageId:d.id}};return na.vK?(0,na.AW)("imageOpen",n):h(pa(n))},children:[(0,b.jsx)("img",{src:(null==e?void 0:e.content)||s,className:la,alt:"image background",draggable:!1}),(0,b.jsx)("img",{"data-qa":"file-image-preview",ref:C,src:(null==e?void 0:e.content)||s,className:i()(ca,{[ha]:I}),loading:"lazy",style:T,alt:o,onError:()=>{if(m>=5)return x(!0),void f(!1);k.current=setTimeout((()=>{v((e=>e+1))}),3e3)},onLoad:S,draggable:!1},m),I&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:da,style:T}),(0,b.jsx)("div",{className:ua,children:y?(0,b.jsx)(ta.a,{initial:"accent",size:24}):(0,b.jsx)(P.GhD,{initialColor:"accent"})})]})]})};ma.displayName="ChatBubbleImageAttachments/FileImagePreview/index/FileImagePreview";const va=ma,ga="chat-bubble-image-attachments--SKLDuudy87MNOwpR",ya=({images:e,message:t,isSpoiler:a})=>{const n=(0,I.v)(Ve.y);return(0,b.jsx)("div",{className:ga,children:null==e?void 0:e.map((e=>{var s,i,r;const o=null==n?void 0:n[e.upload_id];return(0,b.jsx)(va,{"data-qa":`chatik-chat-message-${t.id}-image`,message:t,isSpoiler:a,previewUrl:(null===(s=e.preview)||void 0===s?void 0:s.url)||"",width:(null==o?void 0:o.width)||(null===(i=e.properties)||void 0===i?void 0:i.width)||0,height:(null==o?void 0:o.height)||(null===(r=e.properties)||void 0===r?void 0:r.height)||0,cachedPreview:n[e.upload_id],downloadUrl:Ue(e.url,a),name:e.title},e.url)}))})};ya.displayName="ChatBubbleContainer/ChatBubbleImageAttachments/index/ChatBubbleImageAttachments";const fa=ya,wa="container--T2uO7jWFS_A1Y6V2",xa="skeleton--HRAkJpuC0y4RlRBx",ba="image--Rdv3zhSBtcsXHeYt",ka="image_loaded--hm0QbFTvAl4CpZsr",Ca=({className:e,src:t,height:a,width:s,onImageAspectRatio:r,...o})=>{const[l,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(!1),h=(0,n.useRef)(),p=(0,n.useRef)();h.current=r,(0,n.useEffect)((()=>{const e=new Image;e.src=t;const a=()=>{var t;null===(t=h.current)||void 0===t||t.call(h,e.width/e.height),p.current&&clearTimeout(p.current),p.current=setTimeout((()=>c(!1)),0)},n=()=>{u(!0)};return e.complete?a():(e.addEventListener("load",a),e.addEventListener("error",n)),()=>{e.removeEventListener("load",a),e.removeEventListener("error",n),p.current&&clearTimeout(p.current)}}),[t]);const m=s||a?{width:s?`${s}px`:void 0,height:a?`${a}px`:void 0}:{};return(0,b.jsxs)("div",{className:i()(wa,e),style:m,children:[l&&(0,b.jsx)("div",{className:xa,children:!d&&(0,b.jsx)(ta.a,{size:24})}),(0,b.jsx)("img",{...o,src:t,className:i()(ba,{[ka]:!l})})]})};Ca.displayName="src/components/Image/ImageView";const Ia=(0,n.memo)(Ca);var Sa=a(91010),Ea=a(17223);const Ta=/\((c|tm|r)\)/gi,_a={c:"",r:"",tm:""},ja=({siteRoot:e,href:t,shouldCheck:a,chatId:n,messageId:s})=>{const i=t.startsWith("mailto:");if(!a||i)return t;const r=Sa.j.stringify({to:t,chatId:null!=n?n:null,messageId:null!=s?s:null});return(0,Ea.ni)(`${e}/away?${r}`)},Na=e=>{return(t=(({html:e,shouldCheckLinks:t,...a})=>e.replace(/<a href="(.*?)"/g,((e,n)=>`<a target="_blank" rel="noopener noreferrer" href="${ja({href:n,shouldCheck:t,...a})}"`)))(e).replace(/\n$/,"")).includes("(")?t.replace(Ta,((e,t)=>_a[t.toLowerCase()])):t;var t},Aa="chat-bubble-snippet--lnjnsQFfWMQYZMdx",Ra="chat-bubble-snippet_incoming--Eq0rF63jWaQ6kKG8",Ma="chat-bubble-snippet_outgoing--EjHodk5_MXrxV91h",Da="chat-bubble-snippet_bot--ZLRlDj5NS58jPw0M",Pa="snippet-text--sO6WiCPyqoocLipX",Za=({title:e,description:t,children:a,dataQaTitle:n,dataQaDescription:s,...r})=>{const{type:o}=at(),l=()=>"outgoing"===o?"contrast":"primary";return(0,b.jsxs)("div",{className:i()(Aa,{[Ra]:"incoming"===o,[Ma]:"outgoing"===o,[Da]:"bot"===o}),...r,children:[(e||t)&&(0,b.jsxs)("div",{className:Pa,children:[e&&(0,b.jsx)(h.x,{"data-qa":n,style:l(),typography:"subtitle-3-semibold",maxLines:2,children:e}),t&&(0,b.jsx)(h.x,{"data-qa":s,style:l(),typography:"label-4-regular",children:t})]}),a]})};Za.displayName="ChatBubbleContainer/ChatBubbleSnippet/index/ChatBubbleSnippet";const La=Za,Fa="link-preview-wrapper--PAiZVApzH8YCCkd3",Ua="link-preview--cgyuR_tbBUrM6Wr3",Oa="link-preview_size-resolved--SQ3fm5OqNRIZgxaZ",Ba="image--WfH8duABDeY8oeUs",Ha="link-preview",qa=({image:e,title:t,description:a,url:s,textRef:r,shouldCheckLink:o,chatId:l,messageId:c})=>{const d=(0,I.v)((e=>e.siteRoot)),[u,h]=(0,n.useState)(),[p,m]=(0,n.useState)(),v=Boolean(t||a||e);return(0,n.useLayoutEffect)((()=>{const e=new ResizeObserver((([e])=>{const t=Math.max(e.contentRect.width,272);h(Math.max(t,200*(null!=p?p:0)))}));return p&&null!=r&&r.current&&e.observe(r.current),()=>{e.disconnect()}}),[r,p]),v?(0,b.jsx)("div",{className:Fa,children:(0,b.jsx)("a",{className:i()(Ua,{[Oa]:Boolean(u)}),href:ja({siteRoot:d,href:s,shouldCheck:o,chatId:l,messageId:c}),style:{maxWidth:u},target:"_blank",rel:"noreferrer","data-qa":Ha,children:(0,b.jsx)(La,{title:t,description:a,children:e&&(0,b.jsx)(Ia,{className:Ba,src:e,onImageAspectRatio:m})})})}):null};qa.displayName="ChatBubbleContainer/ChatBubbleLinkPreview/index/ChatBubbleLinkPreview";const Va=qa;var Wa=a(57961),Ga=a.n(Wa),za=a(69818),$a=a.n(za);const Ka="chat-bubble-action--aKTbnNBd1movd7i4",Ya="compact-view--B2_eTtHWGmwUnTW_",Qa=({size:e="full",children:t,...a})=>(0,b.jsx)("div",{className:i()(Ka,{[Ya]:"compact"===e}),children:(0,b.jsx)(B.z,{stretched:!0,mode:"secondary",style:"neutral",size:"small",...a,children:t})});Qa.displayName="ChatBubbleContainer/ChatBubbleAction/index/ChatBubbleAction";const Xa=Qa,Ja="actions-container--lf6ELKa3pnIqF_kl",en="chatik.sendEvent.error.text",tn=({trls:e,actions:t,chatId:a,messageId:s,onMessageSend:i,hideTextButtons:r})=>{const[o,l]=(0,n.useState)({}),c=(0,Q.Z)(),{text_buttons:d,buttons:u}=t,h=Boolean(null==u?void 0:u.some((e=>"open_link"===e.type))),p=Boolean(null==u?void 0:u.some((e=>"send_event"===e.type))),m=Boolean(null==d?void 0:d.length)&&!r,v=(t,n)=>()=>{l((e=>({...e,[t.event]:!0}))),Ga()({buttonName:"chat_event_button",text:n,chatId:a,messageId:s});const{event:i,...r}=t;K.Z.post("/chatik/api/send_event",{chatId:a,messageId:s,event:i,eventParams:r}).catch((()=>{c({kind:"error",content:e[en],autoClose:!0})})).finally((()=>{l((e=>({...e,[t.event]:!1})))}))};return h||p||m?(0,b.jsxs)(M.ElementShownAnchor,{fn:$a(),className:Ja,messageId:s,chatId:a,has_event_buttons:p,has_link_buttons:h,has_text_buttons:m,children:[null==u?void 0:u.map((({type:e,text:t,size:n,data:i})=>{if("open_link"===e){const{url:e}=i;return(0,b.jsx)(Xa,{Element:"a",href:e,target:"_blank",size:n,"data-qa":"bubble-action_open-link",onClick:()=>{Ga()({buttonName:"chat_link_button",text:t,chatId:a,messageId:s})},children:t},t)}return"send_event"===e?(0,b.jsx)(Xa,{loading:o[i.event],size:n,"data-qa":"bubble-action_send-event",onClick:v(i,t),children:t},t):null})),!r&&(null==d?void 0:d.map((({text:e,size:t})=>(0,b.jsx)(Xa,{size:t,"data-qa":"bubble-action_send-text",onClick:t=>((e,t)=>{i(t),e.currentTarget.blur(),Ga()({buttonName:"chat_text_button",text:t,chatId:a,messageId:s})})(t,e),children:e},e))))]}):null};tn.displayName="ChatBubbleContainer/ChatBubbleMessageActions/index/ChatBubbleMessageActions";const an=(0,u.Z)(tn);var nn,sn=a(29610),rn=a.n(sn);const on=["ru_RU","en_US","en_RU","ru_UA","uk_UA","tr_TR"],ln="undefined"!=typeof window&&window.globalServiceVars.chatik.countryId;let cn="undefined"!=typeof window&&(null!==(nn=navigator.languages)&&void 0!==nn&&nn.length?navigator.languages[0]:navigator.language).replace("-","_");"2"===ln&&"en_RU"===cn&&(cn="uk_UA");const dn={mapZoom:16,placemarkIcon:"undefined"!=typeof window?`${window.globalServiceVars.chatik.staticHost}/static/images/map-pin__min_.svg`:null,placemarkIconSize:[24,24],placemarkOffset:[0,10],placemarkZIndex:999},un=(e,t)=>{const{address:a,disableScrollZoom:n,disableDrag:s,disableDblClickZoom:i,mapZoom:r,onPlacemarkClick:o,placemarkIcon:l,placemarkIconSize:c,placemarkOffset:d,placemarkZIndex:u,zoomControlPosition:h}={...dn,...t};return rn()({lang:on.includes(cn)?cn:"ru_RU"}).catch((e=>Promise.reject(e))).then((t=>{const{center:p,marker:m}=a.mapData.points,v=new t.Map(e,{center:[p.lat,p.lng],zoom:p.zoom,controls:h?[]:["zoomControl"]},{maxZoom:20,yandexMapDisablePoiInteractivity:!0,suppressMapOpenBlock:!0});h&&v.controls.add(new t.control.ZoomControl({options:{position:h}}));const g={scrollZoom:n,drag:s,dblClickZoom:i},y=Object.keys(g).filter((e=>g[e]));if(y.length&&v.behaviors.disable(y),m){const e=[m.lat,m.lng],a=new t.Placemark(e,{},{iconLayout:"default#image",iconImageHref:l,iconImageSize:c,iconOffset:d,zIndex:u});o&&a.events.add("click",(e=>{o(),e.preventDefault()})),v.geoObjects.add(a),v.setCenter(e,r)}return v.container.fitToViewport(),{mapInstance:v,ymaps:t}}))},hn="metro-station-list--RMfS6KqZ6lMEvsVa",pn="metro-station--QcrGCqMRsvsERTcO",mn="metro-station-dot--lS311gHm7ZIFfyT5",vn="chat-bubble-map-container--DLNppkf0nWo15Q_k",gn=({address:e,chatId:t,messageId:a})=>{var s;const i=(0,n.useRef)(null),{type:r}=at();(0,n.useEffect)((()=>{i.current&&e&&un(i.current,{address:e,disableDrag:!0})}),[e]);const o=(0,n.useCallback)((n=>{var s;const i=null==e||null===(s=e.mapData)||void 0===s?void 0:s.points.marker;i&&"A"!==n.target.tagName&&(((e,t)=>{const a=new URL(Ea.yG);a.searchParams.append("ll",`${e[1]},${e[0]}`);const n=t?`${a.toString()}&text=${encodeURIComponent(t)}`:a.toString();"undefined"!=typeof window&&window.open(n,"_blank")})([i.lat,i.lng],e.displayName),M.default.sendHHEventButtonClick("chat_message_map",{chatId:t,messageId:a}))}),[e,t,a]);if(!e)return null;const l=(null===(s=e.metroStations)||void 0===s?void 0:s.metro)||[],{displayName:c,description:d}=e,u=Boolean(l.length);return(0,b.jsxs)(La,{title:c,description:d,dataQaTitle:"message-map-adress",children:[(0,b.jsx)("div",{id:"message-map-wrapper",className:vn,ref:i,onClick:o}),u&&(0,b.jsx)("div",{"data-qa":"metro-stations-list",className:hn,children:l.map((({name:e,line:t})=>(0,b.jsxs)("span",{"data-qa":"metro-station",className:pn,children:[(0,b.jsx)("span",{className:mn,style:{backgroundColor:t.color}}),(0,b.jsx)(h.x,{typography:"label-4-regular",style:"outgoing"===r?"contrast":"primary",children:e})]},e+t.color)))})]})};gn.displayName="ChatBubbleContainer/ChatBubbleMessageMap/index/ChatBubbleMessageMap";const yn=(0,n.memo)((0,u.Z)(gn)),fn="chat-bubble-message-title--lq4NiX7NDmYSoStP",wn={applicant:{[Le.J.Invitation]:"chatik.workflowTransition.invitation",[Le.J.Response]:"chatik.workflowTransition.response",[Le.J.Discard]:"chatik.workflowTransition.discardByEmployer",[Le.J.Interview]:"chatik.workflowTransition.interview",[Le.J.Hired]:"chatik.workflowTransition.hired",firstContact:"chatik.workflowTransition.response.applicantFirstContact",discardByApplicant:"chatik.workflowTransition.discardByApplicant.applicantForm"},employer:{[Le.H.Response]:"chatik.workflowTransition.response",[Le.H.PhoneInterview]:"chatik.workflowTransition.phoneInterview",[Le.H.Interview]:"chatik.workflowTransition.interview",[Le.H.DiscardByEmployer]:"chatik.workflowTransition.discardByEmployer.softForm",[Le.H.DiscardByApplicant]:"chatik.workflowTransition.discardByApplicant",[Le.H.DiscardNoInteraction]:"chatik.workflowTransition.discardNoInteraction",[Le.H.DiscardToOtherVacancy]:"chatik.workflowTransition.discardToOtherVacancy",[Le.H.DiscardVacancyClosed]:"chatik.workflowTransition.discardVacancyClosed",[Le.H.Assesment]:"chatik.workflowTransition.assesment",[Le.H.Consider]:"chatik.workflowTransition.consider",[Le.H.Hired]:"chatik.workflowTransition.hired",[Le.H.Offer]:"chatik.workflowTransition.offer"},service:{onlyVisible:"chatik.messsages.service.onlyVisible"},suggestReview:"chatik.messsages.leaveReview"},xn=({children:e},t)=>{const{type:a,displayTimeInfo:{displayTimeContainer:n}}=at();return(0,b.jsx)("div",{className:fn,children:(0,b.jsxs)(h.x,{"data-qa":"chat-bubble-title",style:"outgoing"===a?"contrast":"primary",typography:"subtitle-2-semibold",ref:t,children:[e,"title"===n&&(0,b.jsx)(dt,{})]})})};xn.displayName="ChatBubbleContainer/ChatBubbleMessageTitle/index/ChatBubbleMessageTitle";const bn=Pt((0,n.forwardRef)(xn));let kn=function(e){return e.Unfair="UNFAIR",e.Fair="FAIR",e.Good="GOOD",e.Excellent="EXCELLENT",e}({});var Cn=a(89016);const In="chatik.testSolution.viewResults.magritte",Sn={one:"chatik.testSolution.score.one",some:"chatik.testSolution.score.some",many:"chatik.testSolution.score.many"},En={[kn.Unfair]:"chatik.testSolution.mark.unfair",[kn.Fair]:"chatik.testSolution.mark.fair",[kn.Good]:"chatik.testSolution.mark.good",[kn.Excellent]:"chatik.testSolution.mark.excellent"},Tn=({trls:e,children:t})=>{const a=(0,I.v)(E.Fq),n=(0,I.v)((e=>e.siteRoot)),{type:s}=at(),i=(0,Sa.j)(`${n}/employer/vacancy_response/test`);return i.params={topicId:null==a?void 0:a.topicId},(0,b.jsxs)(Z.r,{"data-qa":"message-test-view-result",href:i.href,target:"_blank",typography:"label-3-regular",inline:!0,style:"incoming"===s?"accent":"constant",children:[e[In],": ",(0,b.jsxs)("span",{"data-qa":"message-test-score",children:[t.score," ",e[Sn[(0,Cn.Z)(t.score,["one","some","many"])]],` (${e[En[t.mark]]})`]})]})};Tn.displayName="SimpleMessage/ChatBubbleContainer/ChatBubbleTestResult/ChatBubbleTestResult";const _n=(0,u.Z)(Pt(Tn));var jn=a(89927);const Nn=/(https?:\/\/[^\s<]+)/g,An="markdown--po02tUmuyrM7KPYt",Rn=((e={typographer:!1})=>{const t=new jn._(e);return t.block.ruler.disable(["list","footnote","table","blockquote","code","fences","deflist","htmlblock","lheading"]),t.renderer.rules.image=()=>"",t.renderer.rules.heading_close=(e,t)=>`</h${e[t].hLevel}>`,t.renderer.rules.text=function(e,t){return(e[t].content||"").split(Nn).map((e=>Nn.test(e)?`<a href="${e}">${e}</a>`:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"))).join("")},t})(),Mn=({text:e,shouldCheckLinks:t,chatId:a,messageId:n},s)=>{const i=(0,I.v)((e=>e.siteRoot)),r=Rn.render((e=>e.replace(/\r\n/g,"\n").replace(/\n{2,}/g,(e=>new Array(e.length-1).fill("\n\n---\n\n").concat("\n").join(""))))(e));return(0,b.jsx)("span",{className:An,ref:s,dangerouslySetInnerHTML:{__html:Na({siteRoot:i,html:r,shouldCheckLinks:t,chatId:a,messageId:n})}})};Mn.displayName="components/Markdown/index/Markdown";const Dn=(0,n.forwardRef)(Mn),Pn=(0,n.memo)(Dn),Zn="chat-bubble-text-container--tLVS5bkenTEsX0kv",Ln="chat-bubble-text--XJMldv8jNgMtyLaI",Fn="fake-block-divider--QAuyVWbwK0a7lcqp",Un="chat-bubble-text_contrast--BpNaze3RS60Mty5w",On="inline-indicators--kotJSFDRigb_VS1D",Bn="chatik.message.noResponseText",Hn=({chatId:e,messageId:t,shouldCheckLinks:a=!1,children:s},r)=>{const{type:o,displayTimeInfo:{displayTimeContainer:l}}=at();return(0,b.jsxs)("span",{id:"chatBubbleText",ref:r,className:i()(Zn,{[Un]:"outgoing"===o}),children:[(0,b.jsx)("span",{"data-qa":"chat-bubble-text",className:Ln,children:n.Children.map(s,(s=>"string"==typeof s?(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(Pn,{text:s,shouldCheckLinks:a,chatId:e,messageId:t}),(0,b.jsx)("span",{className:Fn})]}):s))}),"text"===l&&(0,b.jsx)(dt,{className:On})]})};Hn.displayName="ChatBubbleContainer/ChatBubbleText/index/ChatBubbleText";const qn=(0,n.forwardRef)(Hn);qn.displayName="ChatBubbleText";const Vn=Pt(qn);var Wn=a(72675),Gn=a(67073);let zn=function(e){return e.EmployerReviewsFront="/employer_reviews/proxy_components/chatik_interview_wizard",e}({});const $n=({frontend:e,params:t,place:a,host:n})=>{const s=(0,Sa.j)(e),i=(0,I.v)((({request:e})=>e));return s.params=t,(0,b.jsx)(Wn.X,{place:a,url:`${n}${s.href}`,pageName:i.pageName,hhtmSource:(0,Gn.H)(),preloadContent:(0,b.jsx)(ta.a,{size:24})})};$n.displayName="components/MicroFrontEndLite/index/MicroFrontEndLite";const Kn=(0,n.memo)($n,(()=>!0)),Yn="action-wrapper--QMXcG1kvGEBGG68o",Qn="action-wrapper_my-message--kEOZrh2U6Vvr65jx",Xn="message-button--ra6pK0f6xB0Jz_6l",Jn=({isMyMessage:e})=>{const t=(0,I.v)(E.A1),a=(0,I.v)(E.Fq),n=(0,I.v)((e=>e.siteRoot)),s=(0,I.v)((({config:e})=>e.externalMicroFrontendHosts.employerReviewsFrontHost));return null!=t&&t.company.id&&a?(0,b.jsx)("div",{className:i()(Yn,{[Qn]:e}),children:(0,b.jsx)("div",{className:Xn,children:(0,b.jsx)(Kn,{frontend:zn.EmployerReviewsFront,place:"suggested-review",host:s,params:{employerId:t.company.id,employerName:t.company.name,areaId:t.area["@id"],topicId:a.topicId,position:t.name,hasOffer:a.currentApplicantState===Le.J.Invitation,siteRoot:n}})})}):null};Jn.displayName="SimpleMessage/SuggestedReviewAction/index/SuggestedReviewAction";const es=Jn;var ts=a(48023),as=a.n(ts);const ns=({chatId:e,message:t,preview:a,messageRef:s})=>{const{id:i,isSending:r}=t;(({isSending:e,messageRef:t,preview:a,chatId:s,messageId:i})=>{(0,n.useEffect)((()=>{if(e||!a||"loading"in a||!t.current||!window.IntersectionObserver)return;const n=t.current,r=new IntersectionObserver((([e])=>{e.isIntersecting&&as()(n,{chatId:s,messageId:i,link:a.url,has_title:a.ok&&Boolean(a.title),has_text:a.ok&&Boolean(a.description),has_image:a.ok&&Boolean(a.image),status:a.status?String(a.status):void 0})}));return r.observe(n),()=>{r.unobserve(n)}}),[s,e,i,t,a])})({messageRef:s,preview:a,chatId:e,messageId:i,isSending:r}),(0,n.useEffect)((()=>{s.current&&t.adviceType&&M.default.sendHHEventElementShown(s.current,{name:t.adviceType,chatId:e})}),[e,t.adviceType,s])},ss=(e,t)=>{try{const a=new URL(e);return a.searchParams.get(t)}catch(e){return null}};var is=a(52855);const rs=({chatId:e,message:t,messageRef:a,preview:s})=>{const i=(0,I.v)((e=>e.siteRoot)),o=(0,R.useDispatch)(),l=(0,n.useCallback)((a=>{if(t.adviceType)return;const n=a.currentTarget,s=((e,t)=>new RegExp(`^${e}/away\\?to=`).test(t))(i,n.href);var l,c;M.default.sendHHEvent("chat_message_link_click",{chatId:e,messageId:t.id,link:s?ss(n.href,"to"):n.href,fromPreview:n.getAttribute("data-qa")===Ha}),s&&(a.preventDefault(),o((l=n.href,c=t.id,async(e,t)=>{const a=ss(l,"to");if(a){e(is.Z.setCurentUrl(a)),e(is.Z.openScreen()),e(is.Z.setMessageId(c));try{const n=t().linkCheck,s=n.result[n.currentUrl||""],i=s&&"ERROR"!==s.status?s:(await K.Z.post("/chatik/api/check_link",{url:a})).data;e(is.Z.setResult(a,i)),"SAFE"===i.status&&(e(is.Z.closeScreen()),window.open(a,"_blank"))}catch(t){e(is.Z.setResult(a,{status:"ERROR"}))}}else r.c.log("out",new Error("Url parse error"),{href:l})})))}),[t.adviceType,t.id,i,e,o]);(0,n.useEffect)((()=>{const e=(t=a.current)?[...t.getElementsByTagName("a")]:[];var t;return e.forEach((e=>e.addEventListener("click",l))),()=>{e.forEach((e=>e.removeEventListener("click",l)))}}),[l,s,t.text,a])};var os=a(68895);const ls="message--ObAiH0ml6LsDWxjP",cs="cover-letter-widget--Z6gDKmH8otgnJxzr",ds="message_my--Wi8gXDv_wwQE2mt_",us="chatik.addCoverLetter.text",hs=({message:e,nextMessage:t,prevMessage:a,hideMessage:s,isSpoiler:r,sendTextMessage:o,disableLinkPreview:l,avatarsDisabled:u,trls:h,...p})=>{var m;const v=(0,I.v)((e=>e.chatData.chat.id)),g=(0,I.v)((({chatData:e})=>e.chat.currentParticipantId)),y=(0,I.v)((t=>(0,E.sQ)(t,e.id))),f=(0,I.v)((t=>(0,E.Eo)(t,(0,He.fg)(qe.U.Address,e)))),w=(0,I.v)(Ve.y),[x,k]=(0,n.useState)(!1),C=(0,R.useDispatch)(),{isApplicant:S}=(0,Be.Z)(),T=Oe(),_=Boolean(null===(m=e.flags)||void 0===m?void 0:m.shouldCheckLinks),j=(0,n.useRef)(null),N=(0,n.useRef)(null),A=(0,n.useRef)(null),L=(0,n.useRef)(!0),F=Pe(e.text),U=a&&!d(a,e),O=e.participantId===g||Boolean(e.isSending),B=e.files,[H,q]=(0,n.useMemo)((()=>((e,t)=>{var a;return null!==(a=null==e?void 0:e.reduce(((e,a)=>{var n;return e[(0,os.t)(a.content_type)&&((null===(n=a.preview)||void 0===n?void 0:n.url)||(null==t?void 0:t[a.upload_id]))?0:1].push(a),e}),[[],[]]))&&void 0!==a?a:[[],[]]})(B,w)),[B,w]),W=Boolean(H.length),G=Boolean(null==q?void 0:q.length),z=(0,He.jH)(qe.U.Address,e),$=O&&!r&&!x,K=(0,He.jH)(qe.U.NegotiationTopicSuggestedForReview,e),Y=Re({message:e,nextMessage:t,isMyMessage:O,isSending:x});ns({chatId:v,message:e,messageRef:j,preview:F}),rs({chatId:v,message:e,messageRef:j,preview:F}),(0,n.useEffect)((()=>(e.isSending&&(A.current=setTimeout((()=>{k(!0)}),1e3)),()=>{A.current&&clearTimeout(A.current)})),[e.isSending]),(0,n.useEffect)((()=>{L.current||null==s||s()}),[]);const Q=$?Ie:n.Fragment,X=$?{message:e,bubbleRef:j}:{},J=Fe(e)&&!e.text&&S&&!p.isVacancyArchived,ee=!S&&y,te=U||!a||a.type!==c.u.Simple?e.participantDisplay.name:void 0,ae="error"===Y.status,ne=(()=>{const t=((e,t)=>{const{workflowTransition:a}=e;return(0,He.jH)(qe.U.NegotiationTopicSuggestedForReview,e)?wn.suggestReview:(null==a?void 0:a.applicantState)===Le.J.Response&&t?wn.applicant.firstContact:(null==a?void 0:a.applicantState)===Le.J.Discard&&null!=a&&a.declinedByApplicant?wn.applicant.discardByApplicant:null!=a&&a.applicantState?wn.applicant[a.applicantState]:null!=a&&a.employerState?wn.employer[a.employerState]:null})(e,T);return t?h[t]:null})(),se=(()=>{const t=(e=>Fe(e)&&!e.text?Bn:null)(e);return e.text||(t?h[t]:null)})();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Q,{...X,children:(0,b.jsxs)("div",{className:i()(ls,{[ds]:O}),children:[O&&(0,b.jsx)(D.V,{default:ae?24:48,gteS:ae?36:60}),(0,b.jsxs)(Dt,{ref:j,...Y,displayTimeContainer:(()=>{switch(!0){case Boolean((null==F?void 0:F.ok)||W||z):return;case Boolean(se):return"text";case Boolean(ne):return"title";case G:return"file-preview";default:return void(L.current=!1)}})(),chatId:v,hideAvatar:u,actions:e.actions?(0,b.jsx)(an,{chatId:v,messageId:e.id,actions:e.actions,onMessageSend:o,hideTextButtons:p.hideTextButtons}):void 0,bottomWidgets:J&&(0,b.jsx)("div",{className:cs,children:(0,b.jsx)(Z.r,{"data-qa":"chatik-chat-message-applicant-action",iconLeft:(0,b.jsx)(P.eI_,{}),typography:"label-3-regular",onClick:()=>{var t;M.default.sendHHEventButtonClick("chat_add_letter"),C((0,V.Hd)(e.id,null!==(t=e.text)&&void 0!==t?t:""))},children:h[us]})}),children:[(0,b.jsx)(Ft,{children:te}),G&&(0,b.jsx)(Jt,{messageId:e.id,files:q,isSpoiler:r}),(0,b.jsx)(bn,{children:ne}),(0,b.jsxs)(Vn,{ref:N,chatId:v,messageId:e.id,shouldCheckLinks:_,children:[se,ee&&(0,b.jsx)(_n,{children:y})]}),f&&(0,b.jsx)(yn,{address:f,chatId:v,messageId:e.id}),!f&&(null==F?void 0:F.ok)&&!l&&(0,b.jsx)(Va,{...F,chatId:v,messageId:e.id,textRef:N,shouldCheckLink:_}),W&&(0,b.jsx)(fa,{message:e,images:H,isSpoiler:r})]}),(0,b.jsx)(D.V,{default:O?6:32,gteS:O?6:28})]})}),K&&(0,b.jsx)(es,{isMyMessage:O})]})};hs.displayName="Message/SimpleMessage/index/SimpleMessage";const ps=(0,u.Z)(_e(hs)),ms="message_broken--Sb7XRXGZOs89LBLf",vs="date-change--oJaK02M1nNsDmXoi",gs="unread-messages-plate--EPXupcCySZoAMEpz",ys="chatik.web.unreadMessagesPlate.title.magritte",fs=(e,t)=>{const a=(0,l.T)(),[s,u]=(0,n.useState)(!1),{message:h,prevMessage:p,showUnreadMessagesPlate:m,unreadMessagesPlateRef:v}=e,g=((e,t)=>!t||!(0,Ze.Z)(new Date(t.creationTime),new Date(e.creationTime)))(h,p),y=p&&!d(p,h),f=(0,n.useCallback)((()=>{const e=new Error("Broken message received");r.c.log("out error",e,{message:h}),u(!0)}),[]);return(0,b.jsxs)("div",{className:i()({[ms]:s}),ref:t,"data-qa":`chatik-chat-message-${h.id}`,children:[m&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.X,{default:16}),(0,b.jsx)("div",{className:gs,ref:v,"data-qa":"unread-messages-plate",children:a[ys]})]}),g&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.X,{default:16}),(0,b.jsx)("div",{className:vs,children:(0,b.jsx)(C,{date:h.creationTime})})]}),(0,b.jsx)(o.X,{default:g||m||(null==p?void 0:p.type)!==(null==h?void 0:h.type)?16:y?8:4}),(()=>{switch(h.type){case c.u.Simple:return(0,b.jsx)(ps,{...e,hideMessage:f});case c.u.ParticipantJoined:return(0,b.jsx)(A,{message:h,action:_.Joined});case c.u.ParticipantLeft:return(0,b.jsx)(A,{message:h,action:_.Left});case c.u.TextToJoin:return(0,b.jsx)(A,{message:h,action:_.TextToJoin});default:return}})()]})};fs.displayName="components/Message/index/Message",fs.displayName="Message";const ws=(0,n.forwardRef)(fs)},56957:function(e,t,a){a.d(t,{Z:()=>N});var n=a(3891),s=a(48867),i=a(61477),r=a(89156),o=a(63144),l=a(34343),c=a(66999),d=a(82967),u=a(92459),h=a(3216),p=a(99102),m=a(68390),v=a(17223),g=a(89059);const y="container--PQU88jAAL9cVV4F_",f="description--NUb12PLUzsU0vAfN";var w=a(4201);const x="chatik.noChats.applicant.message",b="chatik.noChats.employer.message",k="chatik.noChats.anonymous.message",C="chatik.noChats.openLogin",I="chatik.noChats.searchVacancies",S="chatik.noChats.searchCandidates",E="chatik.noChats.showSimilarResumes",T={[m.Z.Applicant]:x,[m.Z.Employer]:b,[m.Z.Anonymous]:k},_={[m.Z.Applicant]:I,[m.Z.Employer]:S,[m.Z.Anonymous]:C},j=({trls:e,showButtons:t,similarResumesVacancyId:a,...r})=>{var m;const x=(0,s.v)((e=>e.siteRoot)),b=(0,s.v)((({platform:e})=>e===p.Y.Talantix)),[C,I]=(0,n.useState)(!1),{isApplicant:S,isEmployer:j,isAnonymous:N,userType:A}=(0,h.Z)(),R=(0,i.l)(c),M=(0,u.Z)(a),D=M?E:_[A],P=Boolean(t&&D),Z=M&&P;return(0,w.jsx)("div",{className:y,"data-qa":r["data-qa"],children:(0,w.jsx)(l.V,{image:R,"data-qa":"chatik-no-chats",maxWidth:420,imageWidth:343,imageHeight:288,titleProps:{Element:"h2",size:Z?"medium":"small"},title:e[null!==(m=T[A])&&void 0!==m?m:k],description:Z&&(0,w.jsx)(d.Z,{className:f,vacancyId:a,renderAsPlainText:!0,capitalized:!0}),showButtons:P,buttonsStretched:!1,buttonPrimary:D?(0,w.jsx)(o.z,{"data-qa":"chatik-no-chats-redirect-button",size:"medium",mode:N?"secondary":"primary",style:"accent",loading:C,onClick:()=>{I(!b);const e=(()=>{if(M)return M;let e="/";if(j||S){const t=`${x}/search`;e=(0,v.ni)(`${t}/${S?"vacancy":"resume"}`)}else e=(0,v.ni)(`${x}/account/login`);return e})();g.vK?(0,g.AW)("redirectTo",{path:e}):window.location.assign(e)},children:e[D]}):void 0})})};j.displayName="components/NoChatSelected/index/NoChatSelected";const N=(0,r.Z)(j)},17938:function(e,t,a){a.d(t,{Z:()=>I});var n=a(3891),s=a(84434),i=a(57961),r=a.n(i),o=a(74723),l=a.n(o),c=a(86669),d=a.n(c),u=a(70318),h=a.n(u),p=a(48867),m=a(63144),v=a(58342),g=a(61675),y=a(54059),f=a(40862),w=a(4201);const x=(0,f.Z)((0,n.forwardRef)((e=>(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",...e,children:(0,w.jsx)("path",{stroke:"#0070FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.33",d:"m2 12 .875-2M9 12l-.875-2M12 2v12m0-12h-1.5M12 2h1.5M12 14h-1.5m1.5 0h1.5m-5.375-4L5.5 4l-2.625 6m5.25 0h-5.25"})}))),"IconInsert16"),b="buttons-wrapper--CnowdK0XlP0R5MW1",k="with-expand-button--ZOCba40ZImsuqJOB",C=({replies:e,handleReplyClick:t,chatId:a})=>{const i=(0,s.useDispatch)(),o=(0,p.v)((e=>e.quickReplies.visible)),c=(0,p.v)((e=>e.isSpoiler)),u=(0,p.v)((e=>e.isInlineChat)),f=(0,p.v)((e=>e.isThirdColumnShown)),[C,I]=(0,n.useState)(!1),S=(0,n.useRef)(null),E=(0,n.useMemo)((()=>(e=>{const t=e.filter((e=>e.isMessageAction)).length,a=e.length-t;return t+Math.min(3,a)})(e)),[e]),T=e.length>E,_=(0,n.useMemo)((()=>e.map((({id:e})=>e)).join(",")),[e]),j=()=>(0,y.Z)({isSpoiler:c,isInlineChat:u,isThirdColumnShown:f}),N=e=>n=>{if(n.currentTarget.blur(),o){var s;if(e.isMessageAction)r()({buttonName:"chat_text_button",text:e.text,chatId:a,messageId:(null===(s=e.metadata)||void 0===s?void 0:s.messageId)||0});else l()({layout:j(),chatId:a,type:e.type||"send",quickReplyId:e.id});t(e),C&&I(!1)}},A=()=>{h()({layout:j(),chatId:a,action:C?"collapse":"expand"}),I(!C)};return(0,n.useEffect)((()=>{const t=e.some((e=>"insert"===e.type)),n=e.some((e=>!e.type||"send"===e.type));S.current&&_&&d()(S.current,{chatId:a,hasInsertQuickReplies:t,hasSendQuickReplies:n,layout:j(),quickReplyListIds:_})}),[a,_]),(0,n.useEffect)((()=>()=>{i((0,g.Qe)(a,[]))}),[a,i]),(0,w.jsx)("div",{ref:S,className:b,children:e.map(((t,a)=>{if(!(C||a<E))return null;const n=(0,w.jsx)(m.z,{size:"small",style:"accent",mode:"secondary",icon:"insert"===t.type?(0,w.jsx)(x,{}):null,onClick:N(t),children:t.label||t.text},t.id);return(C?a===e.length-1:a===E-1)&&T?(0,w.jsxs)("div",{className:k,children:[n,(0,w.jsx)(m.z,{size:"small",style:"accent",mode:"tertiary",icon:C?(0,w.jsx)(v.mTT,{}):(0,w.jsx)(v.t_N,{}),"aria-label":"more quick replies",onClick:A})]},t.id):n}))})};C.displayName="components/QuickReplies/index/QuickReplies";const I=C},82967:function(e,t,a){a.d(t,{Z:()=>f});var n=a(3891),s=a(63116),i=a.n(s),r=a(24488),o=a(48867),l=a(64452),c=a(89156),d=a(44180),u=a(26442),h=a(89016),p=a(92459);const m="text--_GOm55bPVgI7h_Ll";var v=a(4201);const g={text:"chatik.warning.similarResume",one:"chatik.warning.similarResume.one",some:"chatik.warning.similarResume.some"},y=({trls:e,vacancyId:t=0,renderAsPlainText:a,capitalized:s,className:c})=>{const y=(0,o.v)((({similarCounters:e})=>e.byVacancy[t])),f=(0,n.useRef)(null),w=(0,p.Z)(t),x=(0,u.Z)();if((0,n.useEffect)((()=>{f.current&&r.default.sendHHEvent("element_shown",{name:"chat_suitable_resume_banner",chatId:x})}),[x,y,t]),!w)return null;const b=`${y} ${e[g[(0,h.Z)(y,["one","some","some"])]]}`,k=e[g.text],C=k.charAt(0).toUpperCase()+k.slice(1);return(0,v.jsx)("span",{className:i()(m,c),ref:f,children:(0,l.WU)(s?C:k,{"{0}":a?b:(0,v.jsx)(d.r,{href:w,target:"_blank",inline:!0,typography:"label-3-regular",children:b})})})};y.displayName="components/SimilarResumes/index/SimilarResumes";const f=(0,c.Z)(y)},92459:function(e,t,a){a.d(t,{Z:()=>i});var n=a(48867),s=a(17223);const i=e=>{const t=(0,n.v)((e=>e.siteRoot));return(0,n.v)((({similarCounters:t})=>e?t.byVacancy[e]:void 0))?(0,s.ni)(`${t}/employer/vacancyresponses?vacancyId=${e}&collection`):void 0}},8210:function(e,t,a){a.d(t,{Z:()=>r,i:()=>i});var n=a(3891);const s=(0,n.createContext)({addNotification:()=>{}}),i=()=>(0,n.useContext)(s),r=s},50361:function(e,t,a){a.d(t,{c:()=>w});var n=a(63116),s=a.n(n),i=a(64452),r=a(89156),o=a(61384),l=a(89016);const c="dots--ktQHLYyuJKcxfJMc";var d=a(4201);const u=()=>(0,d.jsxs)("svg",{className:c,width:"16",height:"16",viewBox:"0 0 17 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("circle",{cx:"2.5",cy:"8",r:"1.5",fill:"currentColor"}),(0,d.jsx)("circle",{cx:"8.5",cy:"8",r:"1.5",fill:"currentColor"}),(0,d.jsx)("circle",{cx:"14.5",cy:"8",r:"1.5",fill:"currentColor"})]});u.displayName="TypingIndicator/AnimatedDots/index/AnimatedDots";const h="typing-indicator--cNtH6fTFGkoPjLG6",p="text--HoORco0sc6YzNYOq",m="typing-indicator_primary--wzHEj8587LowW38A",v="typing-indicator_secondary--Y3Ao7KA4hjU7JWJz",g={one:"chatik.typing.status.compact.one",some:"chatik.typing.status.compact.some"},y={one:"chatik.typing.status.full.one",two:"chatik.typing.status.full.two",many:"chatik.typing.status.full.many"},f=({trls:e,compact:t,typingAmount:a,style:n,typingParticipants:r})=>{const{isMobile:c}=(0,o.G)(),f=null!=a?a:null==r?void 0:r.length,w=()=>(0,i.WU)((0,l.Z)(f,[e[g.one],e[g.some],e[g.some]]),{"{0}":f});return(0,d.jsxs)("div",{className:s()(h,{[m]:"primary"===n,[v]:"secondary"===n}),children:[(0,d.jsx)(u,{}),(0,d.jsx)("span",{className:p,children:t||c||null==r||!r.length?w():(()=>{const[t,a]=r||[];var n,s,o;if(1===(null==r?void 0:r.length))return(0,i.WU)(e[y.one],{"{0}":null===(n=t.display)||void 0===n?void 0:n.name});if(2===(null==r?void 0:r.length))return(0,i.WU)(e[y.two],{"{0}":null===(s=t.display)||void 0===s?void 0:s.name,"{1}":null===(o=a.display)||void 0===o?void 0:o.name});if(null!=r&&r.length&&r.length>2){var c,d;const n=r.length-2;return(0,i.WU)(e[y.many],{"{0}":null===(c=t.display)||void 0===c?void 0:c.name,"{1}":null===(d=a.display)||void 0===d?void 0:d.name,"{3}":(0,i.WU)((0,l.Z)(n,[e[g.one],e[g.some],e[g.some]]),{"{0}":n}).toLowerCase()})}return w()})()})]})};f.displayName="components/TypingIndicator/index/TypingIndicatorComponent";const w=(0,r.Z)(f)},56905:function(e,t,a){a.d(t,{Z:()=>S});var n=a(64452),s=a(49727),i=a(69690),r=a(42699),o=a(12274),l=a(23855),c=a(28366),d=a(38148),u=a(34587),h=a(3585),p=a(58086);const m=(e,t)=>{const a=(0,l.Z)(e);if(!(0,o.Z)(a))return t.longAgo;const s=new Date,m=(0,i.Z)(s,a);return m<p.O8?t.online:m<30?t.recently:(0,r.Z)(a,(0,c.Z)())?(0,n.WU)(t.todayAt,{"{0}":(0,h.Z)(a,"HH:mm")}):(0,r.Z)(a,(0,u.Z)())?(0,n.WU)(t.yesterdayAt,{"{0}":(0,h.Z)(a,"HH:mm")}):(0,r.Z)(a,(0,d.Z)(s))?(0,h.Z)(a,"dd.MM"):(0,h.Z)(a,"dd.MM.yyyy")};var v=a(4201);const g="chatik.lastActivity.online",y={male:"lastActivity.were.male",female:"lastActivity.were.female",unknown:"lastActivity.were.male",noGender:"chatik.lastActivity.noGenderTemplate"},f="chatik.lastActivity.recently",w="chatik.lastActivity.today",x="chatik.lastActivity.yesterday",b={january:"calendar.genitive.month.0",february:"calendar.genitive.month.1",march:"calendar.genitive.month.2",april:"calendar.genitive.month.3",may:"calendar.genitive.month.4",june:"calendar.genitive.month.5",july:"calendar.genitive.month.6",august:"calendar.genitive.month.7",september:"calendar.genitive.month.8",october:"calendar.genitive.month.9",november:"calendar.genitive.month.10",december:"calendar.genitive.month.11"},k="chatik.lastActivity.year",C="chatik.lastActivity.longAgo",I=({lastActivityTime:e,isOnline:t})=>{const a=(0,s.T)(),r=((e,t)=>{if(t)return!0;const a=(0,l.Z)(e);return!!(0,o.Z)(a)&&(0,i.Z)(new Date,a)<p.O8})(e,t)?a[g]:(0,n.WU)(a[y.noGender],{"{0}":m(e,{online:a[g],recently:a[f],todayAt:a[w],yesterdayAt:a[x],month:[a[b.january],a[b.february],a[b.march],a[b.april],a[b.may],a[b.june],a[b.july],a[b.august],a[b.september],a[b.october],a[b.november],a[b.december]],year:a[k],longAgo:a[C]})});return(0,v.jsx)("span",{"data-qa":"chatik-user-activity-time",children:r})};I.displayName="components/UserActivityTime/index/UserActivityTime";const S=I},92826:function(e,t,a){a.d(t,{Z:()=>s});var n=a(53744);const s=(0,n.ZP)({resolved:{},chunkName:()=>"Viewer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Promise.all([a.e("7018"),a.e("7124")]).then(a.bind(a,292)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return 292}})},87884:function(e,t,a){a.d(t,{Z:()=>r});var n=a(48867),s=a(58342),i=a(4201);const r=({isBot:e,image:t,isUnknownUser:a})=>{const r=(0,n.v)((({config:e})=>e.hhcdnHost)),o=a||e&&!t;let l,c="primary";return o&&(l=e?(0,i.jsx)(s.Jj1,{initialColor:"special"}):(0,i.jsx)(s.o4j,{initialColor:"primary"}),c=e?"special-secondary":"primary"),{avatarImage:o?void 0:(()=>{if(t)return t.includes("https://")?t:`${r}${t}`})(),avatarIcon:l,avatarIconStyle:c}}},54075:function(e,t,a){a.d(t,{Z:()=>r});var n=a(11016),s=a(48867),i=a(89059);const r=()=>{const e=(0,s.v)((e=>e.chatIntegrationType)),t=(0,s.v)((({displayType:e})=>e)),a=(0,s.v)((e=>e.parentScreenBreakpoint));return{isOpenedInIFrame:i.vK,isWidgetIframe:"widget"===e,isParentDesktopDisplayType:i.vK&&"DESKTOP"===t,isParentTabletDisplayType:i.vK&&"TABLET"===t,isParentMobileDisplayType:i.vK&&"MOBILE"===t,isParentXS:a===n.n0.XS,isParentS:a===n.n0.S,isParentM:a===n.n0.M,isParentL:a===n.n0.L,isParentGtXS:a&&[n.n0.S,n.n0.M,n.n0.L].includes(a),isParentGtS:a&&[n.n0.M,n.n0.L].includes(a),isParentGtM:a===n.n0.L}}},26442:function(e,t,a){a.d(t,{Z:()=>i});var n=a(68222),s=a(48867);const i=()=>{const e=(0,n.useParams)(),t=(0,s.v)((({isProxiedComponent:e})=>e)),a=(0,s.v)((({chatData:e})=>e.chat.id)),i=parseInt(e.chatId,10);return t?a:i}},80684:function(e,t,a){a.d(t,{m:()=>i});var n=a(3891),s=a(84434);const i=(e,...t)=>{const a=(0,n.useMemo)((()=>e()),[]);return(0,s.useSelector)((e=>a(e,...t)))}},69007:function(e,t,a){a.d(t,{Z:()=>l});var n=a(48867),s=a(61384),i=a(25833),r=a(54075),o=a(3216);const l=()=>{const{isEmployer:e}=(0,o.Z)(),{isGtM:t}=(0,s.G)(),{isParentGtM:a,isOpenedInIFrame:l}=(0,r.Z)(),c=(0,n.v)((({features:e})=>e[i.A.FullScreenResumeEnabled]));return Boolean(c&&e&&(l&&a||t))}},48403:function(e,t,a){a.d(t,{Z:()=>i});var n=a(48867),s=a(45418);const i=()=>{const e=(0,n.v)((({displayType:e})=>e));return e===s.DisplayType.Mobile||e===s.DisplayType.Tablet}},52002:function(e,t,a){a.d(t,{Z:()=>p});var n=a(3891),s=a(48867),i=a(66802),r=a(61384),o=a(58342),l=a(8210),c=a(99102),d=a(89059),u=a(4201);const h=(e,t)=>({addon:"error"===e.kind?(0,u.jsx)(o.L1_,{initialColor:"negative"}):null,autohideTime:e.autoClose?e.autoCloseDelay:0,children:(0,u.jsx)(i.x,{style:"contrast",typography:"label-2-regular",maxLines:t?3:2,children:e.content}),showClose:!0}),p=()=>{const{addNotification:e}=(0,l.i)(),t=(0,s.v)((({platform:e})=>e===c.Y.Talantix)),{isMobile:a}=(0,r.G)(),i=t||!d.vK;return(0,n.useCallback)((t=>{i?e(h(t,a)):(0,d.AW)("showNotification",{content:t.content,error:"error"===t.kind,...h(t)})}),[e,a,i])}},7563:function(e,t,a){a.d(t,{Z:()=>He});var n=a(3891),s=a(84434),i=a(68222),r=a(48867),o=a(64452),l=a(89156),c=a(66802),d=a(6745);const u="drag-file-screen--b00sgJFys0YoP4R1",h="content--_B7wuNlNe9opyM_8",p="text--mCiC4i9gh3Ixyt7g";var m=a(4201);const v="chatik.dragFileScreen.upload.text",g="chatik.uploadingFilesModal.filesConstrait",y=({trls:e,handleDrag:t,handleDrop:a})=>(0,m.jsx)("div",{className:u,onDragEnter:t,onDragLeave:t,onDragOver:t,onDrop:a,children:(0,m.jsx)("div",{className:h,children:(0,m.jsxs)("div",{className:p,children:[(0,m.jsx)(c.x,{style:"secondary",typography:"label-2-regular",children:e[v]}),"\n",(0,m.jsx)(c.x,{style:"secondary",typography:"label-2-regular",children:(0,o.WU)(e[g],{"{0}":d.L5,"{1}":d.C1})})]})})});y.displayName="ChatOverlays/DragFileScreen/index/DragFileScreen";const f=(0,l.Z)(y);var w=a(63116),x=a.n(w),b=a(78203),k=a.n(b),C=a(80876),I=a.n(C),S=a(92846),E=a.n(S),T=a(83090),_=a.n(T),j=a(61477),N=a(75790),A=a(33338),R=a(45150),M=a(34343),D=a(61384),P=a(63144),Z=a(44180),L=a(58342);const F=a.p+"static/images/unsafe__min_cab592741eaac0e4.webp";var U=a(26442),O=a(52855),B=a(17223),H=a(89059);const q=({text:e,length:t,ellipsis:a="..."})=>e.length<=t?e:`${e.substring(0,t)}${a}`;var V=a(91010);const W=["http:","https:"],G="unsafe-link-screen--kaZrP8qdocdAG11y",z="placeholder-wrapper--FpQ_nPGllZUHSVOo",$="invisible--EgkPRUDcuSMUSWn7",K="unsafeLinkScreen.title",Y="unsafeLinkScreen.description",Q="unsafeLinkScreen.close",X="unsafeLinkScreen.leave",J="unsafeLinkScreen.loading.title",ee="unsafeLinkScreen.loading.description",te=({trls:e,isSpoiler:t})=>{const a=(0,s.useDispatch)(),i=(0,r.v)((e=>e.linkCheck)),l=(0,r.v)((e=>e.locale.host)),c=(0,r.v)((e=>e.isProxyPage)),d=(0,n.useRef)(),u=(0,U.Z)(),h=(0,j.l)(F),{isXS:p}=(0,D.G)(),v=i.currentUrl?i.result[i.currentUrl]:void 0,g=!(null!=v&&v.status),[y,f]=(0,n.useState)(!g),w=(0,n.useMemo)((()=>({chatId:u,messageId:i.messageId||0,link:i.currentUrl||"",frame:!H.vK||c?"full":"in_chat",hhtmSource:"chat_away"})),[u,i,c]),b=()=>g?e[J]:"UNSAFE"===v.status?v.info.title:"ERROR"===v.status?e[K]:"",C=(0,n.useCallback)((()=>{a(O.Z.closeScreen())}),[a]),S=()=>{if(!i.currentUrl)return;const e=(e=>{try{const t=(0,V.j)(e);return W.includes(t.protocol)?e:""}catch(e){return""}})(i.currentUrl);C(),k()(w),e&&window.open(i.currentUrl,"_blank")};(0,n.useEffect)((()=>(d.current=setTimeout((()=>{f(!0)}),600),()=>{clearTimeout(d.current)})),[]),(0,n.useEffect)((()=>{null!=v&&v.status&&"SAFE"!==v.status&&E()(w)}),[w,v]);const T=()=>(0,m.jsxs)(m.Fragment,{children:[g?e[ee]:"UNSAFE"===(null==v?void 0:v.status)?v.info.description:"ERROR"===(null==v?void 0:v.status)?(0,o.WU)(e[Y],{"{0}":q({text:i.currentUrl||"",length:40})}):"","UNSAFE"===(null==v?void 0:v.status)&&v.info.link&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(N.X,{default:8}),(0,m.jsx)(Z.r,{href:(0,B.fl)(v.info.link.url,{hhtmFrom:"chat_away"}),target:"_blank",rel:"noopener noreferrer","data-qa":"unsafe-link__link-away",onClick:()=>{I()(w)},children:v.info.link.title})]})]}),te=()=>(0,m.jsx)(P.z,{stretched:!0,onClick:()=>{C(),_()(w)},style:"accent",mode:g?"secondary":"primary","data-qa":"unsafe-link__cancel-button",children:(0,o.WU)(e[Q],{"{0}":l})}),ae=()=>(0,m.jsx)(P.z,{onClick:S,stretched:!0,style:"accent",mode:"secondary","data-qa":"unsafe-link__redirect-button",children:e[X]});return(0,m.jsx)("div",{className:x()(G,{[$]:!y||y&&t}),children:t?(0,m.jsx)(A.bZ,{visible:y,layout:"vertical",icon:g?(0,m.jsx)(R.a,{size:24}):(0,m.jsx)(L.Gvu,{}),iconStyle:g?"neutral":"warning",title:b(),description:T(),buttons:g?te():(0,m.jsxs)(m.Fragment,{children:[te(),ae()]}),onClose:C}):y&&(0,m.jsxs)("div",{className:z,children:[g&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(R.a,{size:24}),(0,m.jsx)(N.X,{default:32})]}),(0,m.jsx)(M.V,{image:g?void 0:h,maxWidth:343,imageHeight:p?156:void 0,title:b(),description:T(),buttonPrimary:te(),buttonSecondary:g?void 0:ae()})]})})};te.displayName="ChatOverlays/UnsafeLinkScreen/index/UnsafeLinkScreen";const ae=(0,l.Z)(te);var ne=a(51944),se=a.n(ne),ie=a(30329),re=a(34692),oe=a(47304),le=a(47997),ce=a(31537),de=a(31065),ue=a(34654),he=a(85489),pe=a(21440);const me=()=>{const[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1);return{addManagerParticipant:(0,n.useCallback)((async({chatId:e,managerId:a})=>{t(!0),s(!1);try{await pe.Z.post("/chatik/api/add_manager_participant",{chatId:e,managerId:a})}catch(e){throw s(!0),e}finally{t(!1)}}),[]),isSubmitting:e,hasError:a}};var ve=a(86345),ge=a.n(ve),ye=a(47400);const fe=()=>{const[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(!0),[r,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),d=(0,s.useSelector)(ye.U6),u=(0,n.useMemo)((()=>new Set(d.map((({externalId:e})=>e)))),[d]);return(0,n.useEffect)((()=>{const e=new AbortController;return i(!0),o(!1),pe.Z.get("/chatik/api/get_employer_managers",{signal:e.signal}).then((({data:e=[]})=>{c(e.length>0);const a=e.filter((e=>!u.has(e.userId)));t(a)})).catch((e=>{ge().isCancel(e)||(o(!0),t([]),c(!1))})).finally((()=>i(!1))),()=>e.abort()}),[]),{managers:e,loading:a,hasError:r,hasCoworkers:l}};var we=a(24488);const xe=({chatId:e,loading:t,hasError:a,hasManagers:s})=>{const i=(0,n.useRef)(!1);(0,n.useEffect)((()=>{if(t||i.current)return;const n=s?"with_managers":"empty";i.current=!0,we.default.sendHHEvent("element_shown",{elementName:"chat_add_manager_modal",modalState:a?"error":n,chatId:e})}),[t,e,a,s])},be="modal-content--i2XdnF9_n7AfvTxa",ke="modal-icon--GysL0nNL3Mnr4_kT",Ce="list-wrapper--TkhQmsvmif8kEeB6",Ie="cancel-button-wrapper--lXB729U3Ph4AomRW",Se="chatik.inviteCoworkerModal.title",Ee="chatik.inviteCoworkerModal.actions.cancel",Te="chatik.inviteCoworkerModal.actions.add",_e="chatik.inviteCoworkerModal.error.titile",je="chatik.inviteCoworkerModal.error.subtitle",Ne="chatik.inviteCoworkerModal.noCoworkers.titile",Ae="chatik.inviteCoworkerModal.noCoworkers.subtitle",Re="chatik.inviteCoworkerModal.allCoworkersInChat.title",Me="chatik.inviteCoworkerModal.allCoworkersInChat.subtitle",De=(0,ie.makeSetStoreField)("inviteCoworkerModalVisible"),Pe=()=>"",Ze=({trls:e,visible:t})=>{const a=(0,s.useDispatch)(),i=(0,U.Z)(),[r,o]=(0,n.useState)([]),{addManagerParticipant:l,isSubmitting:d,hasError:u}=me(),{managers:h,loading:p,hasError:v,hasCoworkers:g}=fe(),y=v||u;xe({chatId:i,hasError:v,loading:p,hasManagers:Boolean(h.length)});const f=(0,n.useMemo)((()=>(0,re.In)(h.map((e=>({id:e.managerId.toString(),text:e.name}))))),[h]),w=(0,n.useCallback)((()=>{a(De(!1))}),[a]),x=(0,n.useCallback)((()=>{if(!r.length)return;const e=Number(r[0]);se()({buttonName:"chat_add_manager",chatId:i,employerManagerId:e}),l({chatId:i,managerId:e}).then((()=>{w()})).catch((()=>{}))}),[l,i,w,r]);if(!t)return null;const b=(e,t)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:ke,children:(0,m.jsx)(L.Z_p,{initialColor:"warning"})}),(0,m.jsx)(c.x,{typography:"title-5-semibold",children:e}),(0,m.jsx)(c.x,{typography:"paragraph-2-regular",children:t})]}),k=(0,m.jsx)("div",{className:be,children:p?(0,m.jsx)(R.a,{size:32}):y?b(e[_e],e[je]):h.length?(0,m.jsx)(oe.a,{collection:f,value:r,onChange:o,getSelectAllParentTrl:Pe,singleChoice:!0,children:({renderTreeSelector:e,renderInput:t})=>(0,m.jsxs)(m.Fragment,{children:[t(),(0,m.jsx)("div",{className:Ce,children:e()})]})}):g?b(e[Re],e[Me]):b(e[Ne],e[Ae])}),C=!r.length||d,I=!p&&!y&&Boolean(h.length),S=(0,m.jsx)(P.z,{size:"medium",style:"accent",mode:I?"tertiary":"primary","data-qa":"chatik-invite-coworker-cancel",onClick:()=>{w(),se()({buttonName:"chat_add_manager_cancel",chatId:i})},stretched:!I,children:e[Ee]}),E=(0,m.jsx)(P.z,{size:"medium",mode:"primary",style:"accent","data-qa":"chatik-invite-coworker-add",onClick:x,disabled:C,children:e[Te]}),T=()=>{se()({buttonName:"chat_add_manager_close",chatId:i}),w()};return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(le.R,{visible:t,onClose:w,header:(0,m.jsx)(ce.v,{title:e[Se],right:(0,m.jsx)(L.Cs7,{onClick:T})}),footer:(0,m.jsx)(de.W,{children:[I?E:null,S]}),children:k}),(0,m.jsx)(ue.u,{visible:t,actions:(0,m.jsx)(L.Cs7,{initialColor:"secondary",onClick:T}),size:"medium",onClose:w,title:e[Se],footer:I?(0,m.jsx)(he.o,{type:"horizontal",primaryActions:E,secondaryActions:S}):(0,m.jsx)("div",{className:Ie,children:S}),children:k})]})};Ze.displayName="components/InviteCoworkerModal/index/InviteCoworkerModal";const Le=(0,l.Z)(Ze);var Fe=a(44036),Ue=a(35862);const Oe=()=>{const e=(0,Ue.Z)(),t=(0,r.v)((({chatData:e})=>e.chatStates.writeMessageState.allowed)),[a,s]=(0,n.useState)(!1);return{isDragActive:a,handleDrag:(0,n.useCallback)((e=>{t&&(e.stopPropagation(),e.preventDefault(),"dragenter"===e.type||"dragover"===e.type?s(!0):"dragleave"===e.type&&s(!1))}),[t]),handleDrop:(0,n.useCallback)((t=>{var a;if(t.preventDefault(),t.stopPropagation(),s(!1),null!==(a=t.dataTransfer)&&void 0!==a&&null!==(a=a.files)&&void 0!==a&&a.length){const a=[...t.dataTransfer.files];e(a,"drag-n-drop")}}),[e])}};var Be=a(40588);const He=({isSpoiler:e}={})=>{const t=(0,Be.Z)(),a=(0,s.useDispatch)(),o=(0,i.useLocation)(),l=(0,r.v)((e=>e.linkCheck)),c=(0,r.v)((({chatData:e})=>{var t;return(null===(t=e.chatStates)||void 0===t||null===(t=t.sendFileState)||void 0===t?void 0:t.allowed)||!1})),d=(0,r.v)(Fe.Xi),u=(0,r.v)((e=>e.inviteCoworkerModalVisible)),{handleDrag:h,handleDrop:p,isDragActive:v}=Oe();(0,n.useEffect)((()=>{t.getState().linkCheck.screenShown&&a(O.Z.closeScreen())}),[o.pathname,a,t]);return{renderOverlayScreen:()=>c&&v?(0,m.jsx)(f,{handleDrag:h,handleDrop:p}):l.screenShown?(0,m.jsx)(ae,{isSpoiler:e}):u?(0,m.jsx)(Le,{visible:!0}):null,handleDrag:d||l.screenShown?void 0:h}}},73735:function(e,t,a){a.d(t,{D:()=>i});var n=a(3891),s=a.n(n);function i(e){const t=s().useRef(e);return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}},29725:function(e,t,a){a.d(t,{ZP:()=>N});var n=a(3891),s=a(84434),i=a(48867),r=a(21440),o=a(64452),l=a(68921),c=a(89824),d=a(87749),u=a(29801),h=a(21665),p=a(54549),m=a(65442),v=a(96915),g=a(61675),y=a(47400),f=a(63141),w=a(44036),x=a(88915),b=a(89016),k=a(26442),C=a(52002),I=a(40588),S=a(49727);let E=function(e){return e.MessageTooBig="MESSAGE_TEXT_IS_TOO_BIG",e.SpamDetected="SPAM_DETECTED",e.ResourcePolicyViolation="RESOURCE_POLICY_VIOLATION",e.InappropriateLanguage="INAPPROPRIATE_LANGUAGE",e}({}),T=function(e){return e.UnknownUploadError="UNKNOWN_UPLOAD_ERROR",e}({});const _={networkError:"chatik.sendMessage.errors.network",serverError:"chatik.sendMessage.errors.server",sendingErrors:{[E.MessageTooBig]:"chatik.sendMessage.errors.messageTooBig",[E.SpamDetected]:"chatik.sendMessage.errors.spamDetected",[E.ResourcePolicyViolation]:"chatik.sendMessage.errors.resourcePolicyViolation",[E.InappropriateLanguage]:"chatik.sendMessage.errors.inappropriateLanguage"},resourcesSendingErrors:{[T.UnknownUploadError]:{one:"chatik.uploadingFiles.fileNotUploaded.error.one",some:"chatik.uploadingFiles.fileNotUploaded.error.some",many:"chatik.uploadingFiles.fileNotUploaded.error.many"}}},j=e=>{var t;if("Network Error"===e.message)return _.networkError;const a=null===(t=e.response)||void 0===t||null===(t=t.data.error)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.key;return a&&_.sendingErrors[a]?_.sendingErrors[a]:_.serverError},N=()=>{const e=(0,n.useRef)(0),t=(0,s.useDispatch)(),a=(0,S.T)(),E=(0,C.Z)(),N=(0,I.Z)(),A=(0,k.Z)(),R=(0,i.v)(y.R2),M=(0,i.v)((({chatData:e})=>e.chatStates.writeMessageState)),D=(0,i.v)((({chatData:e})=>e.chat.writePossibility)),P=(0,i.v)((({messageDrafts:e})=>{var t;return(null===(t=e[A])||void 0===t?void 0:t.text)||""})),Z=(0,i.v)((({isProxiedComponent:e})=>e)),L=(0,i.v)((0,w.S3)(A)),F=(0,i.v)((e=>{var t,a;return null!==(t=null===(a=e.chatSendMessage)||void 0===a?void 0:a.text)&&void 0!==t?t:""})),U=(0,i.v)((e=>{var t;return null===(t=e.chatSendMessage)||void 0===t?void 0:t.metadata})),O=(0,i.v)((({editMessage:e})=>e)),B="number"==typeof O.id,H=M.allowed||B,q=(0,n.useRef)(null==U?void 0:U.manuallyEnteredData),V=(0,n.useMemo)((()=>(0,l.D)((e=>{t((0,v.UF)(A,{text:e,metadata:{manuallyEnteredData:q.current}}))}),1e3)),[A,t]),W=(0,n.useMemo)((()=>(0,l.D)((e=>t((0,v.cK)(e))),1e3)),[t]);(0,n.useEffect)((()=>{q.current=null==U?void 0:U.manuallyEnteredData}),[null==U?void 0:U.manuallyEnteredData]);const G=(0,n.useCallback)((e=>{const a=e.target.value;q.current=!0,t((0,h.gY)(a)),B||(a.length?(W.cancel(),V(a)):(V.cancel(),W(A)))}),[A,W,V,t,B]),z=(0,n.useCallback)((e=>{E({kind:"error",content:a[j(e)],autoClose:!0})}),[E,a]),$=async a=>{if(!a.text&&!a.file)return;const n=e.current-=1;let s;t((0,d.fs)(A,{...a,id:n})),t([(0,g.HV)(!1),(0,g.xV)(A)]),V.cancel();try{s=await t((0,h.bG)(A,a))}catch(e){throw t((0,d.T5)(A,n)),t((0,v.UF)(A,{text:F||"",metadata:a.metadata})),t((0,h.W9)({text:F||"",metadata:a.metadata})),e}t((0,d.o_)(n,s)),a.text&&t((0,v.cK)(A)),t((0,d.Xi)(A)),t((0,g.L2)());const i=[u.sZ.DisabledForApplicant,u.sZ.DisabledForApplicant,u.sZ.DisabledByEmployer].includes(D.name);if(!Z&&(!R||i)){let e;try{e=await(0,x.Z)({chatId:A})}catch(e){return void console.error(e)}t((0,d.$2)(e))}},K=e=>{$(e).catch(z)};return{onTextChange:G,onQuickReply:e=>{if("insert"===e.type){var a;const{text:n="",metadata:s={}}=null!==(a=N.getState().chatSendMessage)&&void 0!==a?a:{},i=null!=n&&n.length?`${null==n?void 0:n.trimEnd()} ${e.text} `:`${e.text} `,{history:r=[]}=s,o={...s,...e.metadata,manuallyEnteredData:q.current,history:r.slice(Math.max(r.length-4,0)).concat([e.metadata])};return t((0,h.VE)(i,o)),void(B||(V.cancel(),W.cancel(),t((0,v.UF)(A,{text:i,metadata:o}))))}K({text:e.text,metadata:e.metadata})},sendMessageImmediately:K,sendStoredMessage:()=>{if(null==L||!L.length||B)t((0,h.mt)()),(0,c.VN)(F)||(B?(async()=>{if("number"==typeof O.id&&F.length)if(O.text!==F){try{await r.Z.post("/chatik/api/save",{text:F,messageId:O.id,...(0,c.M1)(U)?{}:{metadata:U}})}catch(e){return z(e),void t((0,h.W9)({text:F}))}t((0,m.Wx)()),t((0,p.AK)(A,O.id,F))}else t((0,m.Wx)())})():$({text:F,metadata:(0,c.M1)(U)?void 0:U}).catch(z));else{let e=0;const n=[];if(L.forEach((t=>{t.isError?e+=1:$({file:t}).catch((e=>{n.every((t=>j(t)!==j(e)))&&(n.push(e),z(e))}))})),e){const t=(0,b.Z)(e,[a[_.resourcesSendingErrors[T.UnknownUploadError].one],a[_.resourcesSendingErrors[T.UnknownUploadError].some],a[_.resourcesSendingErrors[T.UnknownUploadError].many]]);E({kind:"error",content:(0,o.WU)(t,{"{0}":e}),autoClose:!0})}t((0,f.j2)(A))}},text:F,savedDraft:P,isEditing:B,canWrite:H}}},38618:function(e,t,a){a.d(t,{Z:()=>o});var n=a(48867),s=a(61384),i=a(47400),r=a(69007);const o=()=>{const e=(0,n.v)(i.km),t=(0,n.v)(i.W4),{isGtM:a}=(0,s.G)(),o=(0,r.Z)(),l=null==e?void 0:e.hash;return[o&&a&&Boolean(l)&&!t,l]}},95983:function(e,t,a){a.d(t,{Z:()=>u});var n=a(3891),s=a(84434),i=a(10900),r=a(48867),o=a(21440),l=a(47400),c=a(43034),d=a(3216);const u=()=>{const e=(0,s.useDispatch)(),{isEmployer:t}=(0,d.Z)(),a=(0,r.v)(l.km),u=(0,r.v)(l.A1),h=(null==u?void 0:u.vacancyId)||0,p=(null==a?void 0:a.id)||0,m=void 0===(0,r.v)((({similarCounters:e})=>e.byResume[p])),v=void 0===(0,r.v)((({similarCounters:e})=>e.byVacancy[h]));(0,n.useEffect)((()=>{if(t&&h&&p&&(v||m)){const t={...v?{vacancyId:h}:{},...m?{resumeId:p}:{}};o.Z.get("/chatik/api/similar_counters",{params:t}).then((a=>{const{data:n}=a;n||i.c.log("out",new Error("Empty counters response"),{response:a}),e((0,c.a_)(n,t))}))}}),[e,t,m,v,p,h])}},46192:function(e,t,a){a.d(t,{Ix:()=>o,Xl:()=>r,do:()=>l});var n=a(48867),s=a(20046);const i=()=>(0,n.v)((({topLevelSite:e})=>e)),r=()=>i().startsWith(s.D.RU),o=()=>i().startsWith(s.D.ZP),l=()=>i().startsWith(s.D.BY)},40588:function(e,t,a){a.d(t,{Z:()=>s});var n=a(84434);const s=()=>(0,n.useStore)()},55750:function(e,t,a){a.d(t,{M:()=>w});var n=a(3891),s=a(48867),i=a(70396),r=a.n(i),o=a(25833),l=a(86345),c=a.n(l),d=a(10900),u=a(91010),h=a(21440),p=a(90634);const m="/chatik/api/participant_action",v=(e,t)=>h.Z.post(m,{chatId:e,actionType:"NONE"},{params:void 0,signal:null==t?void 0:t.signal,retry:!1}).catch((e=>{var t;if(c().isCancel(e)||"Network Error"===(null==e?void 0:e.message))return;const a=null==e||null===(t=e.response)||void 0===t?void 0:t.status;403!==a&&404!==a&&d.c.log("out",new Error("Unable to send stop typing action"),{error:e})}));var g=a(26442),y=a(73735),f=a(42515);const w=()=>{const e=(0,s.v)((e=>e.activeState)),t=(0,s.v)((({features:e})=>e[o.A.ParticipantActionSendTimeout])),a=(0,s.v)((({features:e})=>e[o.A.ParticipantActionInactivityTimeout])),i=(0,g.Z)(),l=(0,y.D)(i),w=(0,f.Z)(),x=(0,n.useRef)(),b=(0,n.useRef)(),k=(0,n.useRef)(i);k.current=i;const C=(0,n.useMemo)((()=>r()((()=>{return x.current=new AbortController,e=k.current,t=x.current,h.Z.post(m,{chatId:e,actionType:"TYPING"},{params:void 0,signal:null==t?void 0:t.signal,retry:!1}).catch((e=>{var t;if(c().isCancel(e)||"Network Error"===(null==e?void 0:e.message))return;const a=null==e||null===(t=e.response)||void 0===t?void 0:t.status;403!==a&&404!==a&&d.c.log("out",new Error("Unable to send active typing action"),{error:e})}));var e,t}),t)),[t]),I=(0,n.useCallback)((()=>{var e;clearTimeout(b.current),b.current=void 0,C.cancel(),null===(e=x.current)||void 0===e||e.abort()}),[C]);return(0,n.useEffect)((()=>{const t=Boolean(b.current);!(l&&l!==i)&&w&&e||(t&&v(l),I())}),[i,w,I,l,e]),(0,n.useEffect)((()=>()=>{b.current&&v(k.current),I()}),[I]),(0,n.useEffect)((()=>{const e=()=>{var e;b.current&&(e=i,navigator.sendBeacon?navigator.sendBeacon(m,new Blob([u.j.stringify({chatId:e,actionType:"NONE",_xsrf:p.L.get("_xsrf")})],{type:"application/x-www-form-urlencoded"}))||d.c.log("out","chatik stop active typing status: sendBeacon failed"):console.error("chatik stop active typing status: sendBeacon is not available"))};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[i]),(0,n.useCallback)((()=>{C(),b.current&&clearTimeout(b.current),b.current=setTimeout((()=>{v(i),I()}),a)}),[i,a,I,C])}},42515:function(e,t,a){a.d(t,{Z:()=>s});var n=a(3891);const s=()=>{const[e,t]=(0,n.useState)("undefined"==typeof document?"hidden":document.visibilityState);return(0,n.useEffect)((()=>{const e=()=>{t(document.visibilityState)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[]),"visible"===e}},49727:function(e,t,a){a.d(t,{T:()=>i});var n=a(48867),s=a(69675);const i=()=>{const e=(0,n.v)((e=>e.langs[0])),t=(0,n.v)((e=>e.trl));return(0,s.Z)(void 0,t,e,"undefined"==typeof window)}},2615:function(e,t,a){a.d(t,{Z:()=>m});var n=a(3891),s=a(84434),i=a(86345),r=a.n(i),o=a(21440);const l=(e,t={})=>o.Z.get("/chatik/api/get_link_preview",{params:{urls:e},...t}).then((({data:e})=>e.result));var c=a(7659);const d=e=>({type:c.b,previews:e}),u=(e,t)=>async a=>(a(d(e.map((e=>({url:e,ok:!1,loading:!0}))))),l(e,{signal:null==t?void 0:t.signal}).then((e=>a(d(e)))).catch((t=>{r().isCancel(t)?a((e=>({type:c.n,urls:e}))(e)):a(d(e.map((e=>{var a;return{ok:!1,url:e,error:{code:(null===(a=t.response)||void 0===a?void 0:a.status)||void 0,message:t.message||"Unknown error"}}}))))})));var h=a(9362),p=a(40588);const m=()=>{const e=(0,s.useDispatch)(),t=(0,p.Z)(),a=(0,n.useRef)([]);return(0,n.useEffect)((()=>{const e=a.current;return()=>{e.forEach((e=>e.abort()))}}),[]),(0,n.useCallback)((n=>{if(!n.length)return null;const s=t.getState();if((n=n.map(h.Z).filter((e=>!s.linkPreviews[e]))).length){const t=new AbortController;return a.current.push(t),e(u(n,t)),t}return null}),[e,t])}},35862:function(e,t,a){a.d(t,{Z:()=>I});var n=a(3891),s=a(84434),i=a(91263),r=a.n(i),o=a(64452),l=a(6745),c=a(91809);const d=(e,t)=>{if(e.length<=t)return e;const{name:a,ext:n}=(0,c.Z)(e),s="...",i=t-3-n.length;if(i<2)return a.slice(0,1)+s+n;const r=Math.floor(i/2);return a.slice(0,r)+s+a.slice(-r)+n},u="chatik.fileUpload.error.maxFilesCount",h="chatik.fileUpload.error.maxFileSize",p="chatik.fileUpload.error.wrongFileType";var m=a(63141),v=a(44036),g=a(89016),y=a(44820),f=a(26442),w=a(52002),x=a(40588),b=a(49727);const k="chatik.fileUpload.multipleFilesError.default",C={one:"chatik.fileUpload.file.one",some:"chatik.fileUpload.file.some",many:"chatik.fileUpload.file.many"},I=()=>{const e=(0,s.useDispatch)(),t=(0,x.Z)(),a=(0,f.Z)(),i=(0,w.Z)(),I=(0,b.T)();return(0,n.useCallback)(((n,s)=>{const f=(0,v.S3)(a)(t.getState())||[],{validFiles:w,errors:x}=(0,l.ox)(n,f.length);w.length&&e((0,m.fV)(a,w,s));const b=Object.keys(x).every((e=>{var t,a;return"count"===e?null===(t=x[e])||void 0===t?void 0:t.length:!(null!==(a=x[e])&&void 0!==a&&a.length)}));n.length-w.length>1&&!b?i({kind:"error",content:(0,o.WU)(I[k],{"{0}":`${n.length-w.length} ${(0,g.Z)(n.length-w.length,[I[C.one],I[C.some],I[C.many]])}`}),autoClose:!0}):Object.keys(x).forEach((e=>{const t=x[e];if(!t.length)return;let m="";switch(e){case"size":m=((e,{files:t})=>{var a,n,s;const{ext:i}=(0,c.Z)(null!==(a=null===(n=t[0])||void 0===n?void 0:n.name)&&void 0!==a?a:"");return(0,o.WU)(e[h],{"{0}":null==i?void 0:i.slice(1,i.length).toUpperCase(),"{1}":l.C1,"{2}":d(null===(s=t[0])||void 0===s?void 0:s.name,18)})})(I,{files:t});break;case"type":m=((e,t)=>{var a,n,s;const{ext:i}=(0,c.Z)(null!==(a=null===(n=t[0])||void 0===n?void 0:n.name)&&void 0!==a?a:"");return(0,o.WU)(e[p],{"{0}":null==i?void 0:i.slice(1,i.length).toUpperCase(),"{1}":d(null===(s=t[0])||void 0===s?void 0:s.name,18)})})(I,t);break;case"count":m=(e=>e[u])(I)}t.forEach((t=>{r()({chatId:a,filename:t.name,fileSize:(0,y.Z)(t.size),fileCount:n.length,loadType:s,alert:`${e}_error`})})),i({kind:"error",content:m,autoClose:!0})}))}),[a,e,t,i,I])}},3216:function(e,t,a){a.d(t,{Z:()=>r});var n=a(3891),s=a(48867),i=a(68390);const r=()=>{const e=(0,s.v)((e=>e.userType));return(0,n.useMemo)((()=>({userType:e,isApplicant:e===i.Z.Applicant,isEmployer:e===i.Z.Employer,isAnonymous:e===i.Z.Anonymous})),[e])}},71473:function(e,t,a){a.d(t,{Z:()=>c});var n=a(48867),s=a(13018),i=a(25833),r=a(99102),o=a(47400),l=a(3216);const c=()=>{const e=(0,n.v)((({features:e})=>e[i.A.EmployerWorkflowActions])),t=(0,n.v)((({platform:e})=>e)),a=(0,n.v)(o.km),c=(0,n.v)(o.A1),d=(0,n.v)(s.AV),u=(0,n.v)((({chatData:e})=>e.chatStates.writeMessageState)),{isApplicant:h}=(0,l.Z)(),p=!!e&&!h,m=a&&t!==r.Y.Talantix&&(d||c);return u.allowed&&m&&p}},87749:function(e,t,a){a.d(t,{Am:()=>l,mi:()=>h,o_:()=>r,T5:()=>c,Xi:()=>d,$2:()=>u,fs:()=>o});var n=a(86071),s=a(37258);var i=a(57860);const r=(e,t)=>({type:i.gc,messageFakeId:e,realMessage:t}),o=(e,t)=>(a,s)=>{const r=s(),{id:o,text:l,file:c}=t,d=r.resources.participants,u=r.chatData.chat.currentParticipantId,h=u?d[u]:null,p={id:o,participantId:u||"0",participantDisplay:{name:(null==h?void 0:h.display.name)||"",isBot:!1},creationTime:(new Date).toString(),text:l,resources:null!=c&&c.uploadId?{FILE:[c.uploadId]}:{},type:n.u.Simple,isSending:!0,canEdit:!0,canDelete:!0,...c&&{files:[{title:c.file.name,url:c.url||"",upload_id:c.uploadId||"",content_type:c.file.type}]}};a(((e,t)=>({type:i.Ds,message:t,chatId:e}))(e,p))},l=(e,t)=>({type:i.b7,messageId:t,chatId:e}),c=(e,t)=>({type:i.qZ,messageId:t,chatId:e}),d=e=>({type:i.ov,chatId:e}),u=(e,t={shouldUpdateSuggestions:!0})=>a=>{var n,r;e&&(e.error?a((n=e.error,{type:i.Gl,error:n})):(a(((e,t)=>({type:i.Og,newState:e,params:t}))(e,t)),a((r=e.resources,{type:s.T,resources:r}))))},h=e=>({type:i.rC,id:e})},57860:function(e,t,a){a.d(t,{Ds:()=>s,Gl:()=>d,Og:()=>c,b7:()=>r,cE:()=>o,gc:()=>n,ov:()=>l,qZ:()=>i,rC:()=>u});const n="@@chatData/SET_MESSAGE_SENT",s="@@chatData/ADD_MESSAGE_TO_CHAT",i="@@chatData/REMOVE_MESSAGE_FROM_CHAT",r="@@chatData/MARK_AS_REMOVED",o="@@chatData/SET_CHAT_OPERATIONS",l="@@chatData/REMOVE_SUGGESTIONS_FROM_CHAT",c="@@chatData/UPDATE_CHAT_DATA",d="@@chatData/SET_CHAT_DATA_ERROR",u="@@chatData/SET_FORCE_REPLACE_ID"},13018:function(e,t,a){a.d(t,{AV:()=>o,BK:()=>r,TC:()=>i,sW:()=>l});var n=a(83307),s=a(47400);const i=(0,n.createSelector)([s.km,s.Fq,e=>e.chatData.display],((e,t)=>{var a,n;if(void 0===e)return null;const s=e.hiddenFields.includes("phones"),i=e.id,r=e.hash,o=null==t?void 0:t.topicId,l=null===(a=e.phone)||void 0===a?void 0:a.filter((e=>"7"===e.country&&!e.raw.startsWith("77")));return{phone:(null==l?void 0:l.length)>0&&!s?null==l||null===(n=l[0])||void 0===n?void 0:n.raw:null,resumeId:i,resumeHash:r,source:"chat",topicId:o}})),r=e=>"COMMON"===e.chatData.chat.type&&"marketplace"===e.chatData.chat.subType,o=e=>"COMMON"===e.chatData.chat.type&&"WITHOUT_VACANCY"===e.chatData.chat.subType,l=e=>"COMMON"===e.chatData.chat.type&&"WITHOUT_RESUME"===e.chatData.chat.subType},29801:function(e,t,a){a.d(t,{L2:()=>o,R:()=>i,Ru:()=>n,sW:()=>r,sZ:()=>s});let n=function(e){return e.LeaveChat="LEAVE_CHAT",e.DisableNotifications="DISABLE_NOTIFICATIONS",e.EnableNotifications="ENABLE_NOTIFICATIONS",e.DisableWritePossibility="DISABLE_WRITE_POSSIBILITY",e.EnableWritePossibility="ENABLE_WRITE_POSSIBILITY",e.Rate="RATING",e.ClearChat="CLEAR_CHAT",e}({}),s=function(e){return e.EnabledForAll="ENABLED_FOR_ALL_BY_EMPLOYER",e.DisabledForApplicant="DISABLED_FOR_APPLICANT",e.DisabledByEmployer="DISABLED_FOR_APPLICANT_BY_EMPLOYER",e.DisabledForAnonymous="DISABLED_FOR_ANONYMOUS_USER",e}({}),i=function(e){return e.Allowed="ALLOWED",e.MoreThanFive="MORE_5",e.MaxMessages="MORE_100",e.DisabledByEmployer="DISABLED_BY_EMPLOYER",e.WithoutInvitation="WITHOUT_INVITATION",e.ArchivedTopic="ARCHIVED_TOPIC",e.SuspiciousBehavior="SUSPICIOUS_BEHAVIOR",e.TemporarilyUnavailable="TEMPORARILY_UNAVAILABLE",e.Unknown="UNKNOWN",e.PfpBlock="PFP_BLOCK",e.EmployerLimitExceeded="EMPLOYER_NEGOTIATIONS_LIMIT_EXCEEDED",e.AIAssistantTyping="AI_ASSISTANT_TYPING",e}({}),r=function(e){return e.Action="ACTION",e.Message="MESSAGE",e}({}),o=function(e){return e.CloseChat="CLOSE_CHAT",e}({})},5791:function(e,t,a){a.d(t,{NY:()=>o,X7:()=>s,fg:()=>r,jH:()=>i});var n=a(36258);const s=(e,t,a)=>{var s;const i=e.resources[n.U.Resume];if(!i)return!1;const r=i[0];if(t.resumes[r])return!1;return"UNAVAILABLE_FOR_UNTRUSTED_EMPLOYER"===((null===(s=((null==a?void 0:a.resumes)||{})[r])||void 0===s?void 0:s.reason)||"")},i=(e,t)=>{var a;return Boolean(null===(a=t.resources[e])||void 0===a?void 0:a[0])},r=(e,t)=>{var a;return null===(a=t.resources[e])||void 0===a?void 0:a[0]},o=(e,t)=>{const a=[];let n=0,s=0;for(;n<e.length||s<t.length;)e[n]?t[s]?e[n].id<t[s].id?(a.push(e[n]),n+=1):e[n].id>t[s].id?(a.push(t[s]),s+=1):(a.push(t[s]),n+=1,s+=1):(a.push(e[n]),n+=1):(a.push(t[s]),s+=1);return a}},21665:function(e,t,a){a.d(t,{IE:()=>u,VE:()=>l,W9:()=>d,bG:()=>p,gY:()=>o,ku:()=>h,mt:()=>c});var n=a(72045),s=a(21440),i=a(67073),r=a(475);const o=e=>({type:r.q$,text:e}),l=(e,t)=>({type:r.pZ,text:e,metadata:t}),c=()=>({type:r.Qu}),d=e=>({type:r.gF,message:e}),u=e=>(t,a)=>{const{text:n,metadata:s}=a().messageDrafts[e]||{};t(d({text:n,metadata:s}))},h=()=>(e,t)=>{var a;e(d({text:null!==(a=t().editMessage.text)&&void 0!==a?a:""}))},p=(e,t)=>async(a,r)=>{const o=r(),{text:l,file:c,suggestionUuid:d,metadata:u}=t,h=o.isProxiedComponent,p=o.parentWindowUrl,m=o.supportLocation||"chatik",v=o.platform,g=o.chatData.chat.type,y=Boolean(u)||"BOT"===g||"SUPPORT"===g;return(await s.Z.post("/chatik/api/send",{chatId:e,idempotencyKey:(0,n.Z)(),...l&&{text:l},...(null==c?void 0:c.uploadId)&&{uploadId:c.uploadId},...d&&{suggestionUuid:d},metadata:y?{...u||{},chatType:g,parentWindowUrl:p,location:m,platform:{name:v,data:window.globalServiceVars.chatik.metadata[v]||{}}}:void 0},{params:{hhtmSourceLabel:o.isSpoiler?"spoiler":o.isInlineChat?"inlineChat":"chat",hhtmSource:h?"chat":(0,i.H)()}})).data}},475:function(e,t,a){a.d(t,{Qu:()=>r,gF:()=>n,pZ:()=>i,q$:()=>s});const n="SET_SEND_MESSAGE",s="MANUAL_INPUT",i="ENRICHED_METADATA_INPUT",r="CLEAR_SEND_MESSAGE"},54549:function(e,t,a){a.d(t,{AK:()=>o,GL:()=>l,Lf:()=>i,VB:()=>r,Vg:()=>c,at:()=>s,nR:()=>d});var n=a(35203);const s=(e,t)=>({type:n.Hs,notificationEnabled:t,chatId:e}),i=e=>({type:n.bs,chatId:e}),r=()=>({type:n.Ec}),o=(e,t,a,s)=>({type:n.t4,chatId:e,messageId:t,text:a,lastChangeTime:s}),l=e=>t=>{var a;e&&t((a=e,{type:n.$Y,newState:a}))},c=e=>({type:n.U,ids:e}),d=({updateFor:e,chatId:t,messageId:a})=>({type:n.oz,updateFor:e,chatId:t,messageId:a})},35203:function(e,t,a){a.d(t,{$Y:()=>n,Ec:()=>o,Hs:()=>s,U:()=>l,bs:()=>r,oz:()=>c,t4:()=>i});const n="UPDATE_CHATS",s="SET_CHAT_NOTIFICATION",i="SET_MESSAGE_TEXT",r="LEAVE_CHAT",o="CLEAR_CHATS",l="DELETE_CHATS",c="UPDATE_LAST_VIEWED_MESSAGE_ID"},86071:function(e,t,a){a.d(t,{t:()=>s,u:()=>n});let n=function(e){return e.Simple="SIMPLE",e.ParticipantJoined="PARTICIPANT_JOINED",e.ParticipantLeft="PARTICIPANT_LEFT",e.TextToJoin="TEXT_TO_JOIN",e}({}),s=function(e){return e.Sending="sending",e.Read="read",e.Delivered="delivered",e.Error="error",e.Hidden="hidden",e}({})},65442:function(e,t,a){a.d(t,{Hd:()=>o,Wx:()=>l,ZP:()=>c});var n=a(83307),s=a(32892);const i={},r=(0,n.createSlice)({name:"editMessage",initialState:i,reducers:{editMessage:{reducer:(e,t)=>{e.id=t.payload.id,e.text=t.payload.text},prepare:(e,t)=>({payload:{id:e,text:t}})},stopMessageEdit:()=>i},extraReducers:e=>{e.addCase(s.LOCATION_CHANGE,(()=>i))}}),{editMessage:o,stopMessageEdit:l}=r.actions,c=r.reducer},25833:function(e,t,a){a.d(t,{A:()=>n});let n=function(e){return e.ChatsUpdateDelay="chats_update_delay",e.ChatsDataUpdateDelay="chat_data_update_delay",e.UpdateAfterSocketEventDelay="update_after_socket_event_delay",e.WebsocketEnabled="websocket_enabled",e.AutoFetchUpdateDelayWithWebSocket="autofetch_update_delay_with_websocket",e.SentryLogging="sentry_logging",e.EmployerWorkflowActions="employer_workflow_actions",e.ImageMaxWidthForPreview="image_max_width_for_preview",e.ImageMaxHeightForPreview="image_max_height_for_preview",e.MagritteUiEnabled="magritte_ui_enabled",e.FullScreenResumeEnabled="full_screen_resume_enabled",e.NotifyAdminEnabled="notify_admin_enabled",e.ParticipantActionSendTimeout="participant_action_send_timeout",e.ParticipantActionInactivityTimeout="participant_action_inactivity_timeout",e.RedirectDirectRequestToChatPage="redirect_direct_request_to_chat_page",e}({})},52855:function(e,t,a){a.d(t,{H:()=>d,Z:()=>c});const n="OPEN_LINK_CHECK_SCREEN",s="CLOSE_LINK_CHECK_SCREEN",i="SET_LINK_CHECK_RESULT",r="SET_LINK_CURRENT_URL",o="RESET",l="SET_MESSAGE_ID",c={openScreen:()=>({type:n}),closeScreen:()=>({type:s}),setResult:(e,t)=>({type:i,result:t,url:e}),setCurentUrl:e=>({type:r,currentUrl:e}),reset:()=>({type:o}),setMessageId:e=>({type:l,messageId:e})},d={OPEN_SCREEN:n,CLOSE_SCREEN:s,SET_RESULT:i,SET_CURRENT_URL:r,RESET:o,SET_MESSAGE_ID:l}},7659:function(e,t,a){a.d(t,{b:()=>n,n:()=>s});const n="ADD_LINK_PREVIEWS",s="REMOVE_LINK_PREVIEWS"},96915:function(e,t,a){a.d(t,{Ry:()=>r,UF:()=>s,cK:()=>i});var n=a(115);const s=(e,t)=>({type:n.gh,chatId:e,message:t}),i=e=>({type:n.P9,chatId:e}),r=()=>({type:n.kg})},115:function(e,t,a){a.d(t,{P9:()=>s,gh:()=>n,kg:()=>i});const n="SAVE_DRAFT",s="REMOVE_DRAFT",i="SET_DRAFTS_FROM_STORAGE"},62953:function(e,t,a){a.d(t,{H:()=>r,v:()=>i});const n="SAVE_NOTIFY_ADMIN",s="REMOVE_NOTIFY_ADMIN",i={saveNotifyAdminForChat:(e,t)=>({type:n,chatId:e,initTime:t}),removeNotifyAdminForChat:e=>({type:s,chatId:e})},r={SAVE_NOTIFY_ADMIN:n,REMOVE_NOTIFY_ADMIN:s}},2183:function(e,t,a){a.d(t,{CT:()=>r,OY:()=>o});var n=a(83307),s=a(47400);const i=(0,n.createSelector)([({chatsParticipantActions:e})=>e,({chatData:e})=>e.chat.id],((e,t)=>e[t])),r=(0,n.createSelector)([s.U6,i],((e,t)=>null==e?void 0:e.filter((e=>{var a;return"TYPING"===(null==t||null===(a=t[e.externalId])||void 0===a?void 0:a.action)})))),o=()=>(0,n.createSelector)([(e,t)=>t,e=>e.chatsParticipantActions],((e,t)=>{var a;return Object.values(null!==(a=null==t?void 0:t[e])&&void 0!==a?a:{}).filter((e=>"TYPING"===e.action)).length}))},99102:function(e,t,a){a.d(t,{Y:()=>s,Z:()=>i});var n=a(30329);let s=function(e){return e.XHH="xhh",e.Talantix="talantix",e}({});const i=(0,n.autoGeneratedReducer)(s.XHH)},61675:function(e,t,a){a.d(t,{HV:()=>d,L2:()=>u,Qe:()=>i,Qk:()=>r,lF:()=>c,xV:()=>o});var n=a(21440),s=a(33161);const i=(e,t)=>({type:s.xW,chatId:e,data:t}),r=(e,t)=>({type:s.KH,chatId:e,messageActions:t}),o=e=>({type:s.i9,chatId:e}),l=(e,t)=>({type:s.n9,chatId:e,isLoading:t}),c=e=>({type:s.Bh,chatId:e}),d=e=>({type:s.es,visible:e}),u=()=>async(e,t)=>{var a;const s=t(),{chat:{id:r,messages:{items:o}},chatStates:{writeMessageState:{allowed:c}}}=s.chatData,d=null===(a=s.quickReplies.data[r])||void 0===a?void 0:a.isLoading,u=(e=>{if(e&&0!==e.length)return e[e.length-1]})(o);if(!d&&c){e(l(r,!0));try{var h;const{data:t}=await n.Z.get("/chatik/api/quick_replies",{params:{chatId:r,messageId:null==u?void 0:u.id},retry:!1});e(i(r,null!==(h=t.quick_replies)&&void 0!==h?h:[]))}catch(t){e(l(r,!1))}}}},33161:function(e,t,a){a.d(t,{Bh:()=>l,KH:()=>s,es:()=>o,i9:()=>i,n9:()=>r,xW:()=>n});const n="UPDATE_QUICK_REPLIES",s="UPDATE_QUICK_REPLIES_MESSAGE_ACTIONS",i="CLEAR_QUICK_REPLIES_MESSAGE_ACTIONS",r="SET_QUICK_REPLIES_LOADING",o="SET_QUICK_REPLIES_VISIBLE",l="REMOVE_MESSAGE_ACTIONS_FROM_QUICK_REPLIES_ACTIONS"},86918:function(e,t,a){a.d(t,{t:()=>s});var n=a(83307);const s=(0,n.createSelector)([e=>{var t;return null===(t=e.quickReplies)||void 0===t?void 0:t.data},(e,t)=>t],((e,t)=>{var a,n;const s=null==e?void 0:e[t];return[...null!==(a=null==s?void 0:s.message_actions)&&void 0!==a?a:[],...null!==(n=null==s?void 0:s.quick_replies)&&void 0!==n?n:[]]}))},37258:function(e,t,a){a.d(t,{T:()=>n});const n="@@resources/UPDATE_RESOURCES"},47400:function(e,t,a){a.d(t,{A1:()=>l,DP:()=>m,Eo:()=>r,Fq:()=>d,R2:()=>h,U6:()=>p,W4:()=>g,_I:()=>v,h:()=>c,km:()=>o,sQ:()=>u});var n=a(83307),s=a(5791),i=a(36258);const r=(0,n.createSelector)([({resources:e})=>e.addresses,(e,t)=>t],((e,t)=>t&&e?e[t]:void 0)),o=(0,n.createSelector)([({resources:e})=>e.resumes,({chatData:e})=>e.chat.resources[i.U.Resume]],((e,t)=>e&&t?e[t[0]]:void 0)),l=(0,n.createSelector)([({resources:e})=>e.vacancies,({chatData:e})=>e.chat.resources[i.U.Vacancy]],((e,t)=>e&&t?e[t[0]]:void 0)),c=(0,n.createSelector)([l,e=>{var t;return null===(t=e.chatData.chat.resources)||void 0===t?void 0:t[i.U.Employer]},e=>"COMMON"===e.chatData.chat.type&&"WITHOUT_VACANCY"===e.chatData.chat.subType],((e,t,a)=>{var n;return a?Number(null==t?void 0:t[0]):null==e||null===(n=e.company)||void 0===n?void 0:n.id})),d=(0,n.createSelector)([({resources:e})=>e.negotiation_topics,({chatData:e})=>e.chat.resources[i.U.NegotiationTopic]],((e,t)=>e&&t?e[t[0]]:void 0)),u=((0,n.createSelector)([({resources:e})=>e.assessments,({chatData:e})=>e.chat.messages.items,(e,t)=>t],((e,t,a)=>{const n=t.find((({id:e})=>e===a));if(!n)return;const s=n.resources[i.U.Assessment];return e&&s?e[s[0]]:void 0})),(0,n.createSelector)([({resources:e})=>e.test_solutions,({chatData:e})=>e.chat.messages.items,(e,t)=>t],((e,t,a)=>{const n=t.find((({id:e})=>e===a));if(!n)return;const s=n.resources[i.U.TestSolution];return e&&s?e[s[0]]:void 0}))),h=(0,n.createSelector)([({resources:e})=>e.participants,({chatData:e})=>e.chat.currentParticipantId],((e,t)=>t?e[t]:void 0)),p=(0,n.createSelector)([({resources:e})=>e.participants,({chatData:e})=>e.chat.participantsIds],((e,t)=>t.map((t=>e[t])).filter(Boolean))),m=()=>(0,n.createSelector)([({resources:e})=>e.participants,(e,t)=>t],((e,t)=>t?null==e?void 0:e[t]:void 0)),v=(0,n.createSelector)([({chatData:e})=>e.chat.messages.items],(e=>e[e.length-1])),g=(0,n.createSelector)([({chatData:e})=>e.chat,({resources:e})=>e,({chatData:e})=>e.missingResources],((e,t,a)=>(0,s.X7)(e,t,a)))},29727:function(e,t,a){a.d(t,{f:()=>n});let n=function(e){return e.Applicant="APPLICANT_USER",e.Employer="EMPLOYER_USER",e.Bot="BOT",e}({})},36258:function(e,t,a){a.d(t,{U:()=>n});let n=function(e){return e.Resume="RESUME",e.Vacancy="VACANCY",e.Employer="EMPLOYER",e.NegotiationTopic="NEGOTIATION_TOPIC",e.Assessment="ASSESSMENT",e.TestSolution="TEST_SOLUTION",e.ChatParticipant="CHAT_PARTICIPANT",e.NegotiationTopicSuggestedForReview="NEGOTIATION_TOPIC_SUGGESTED_FOR_REVIEW",e.File="FILE",e.Address="ADDRESS",e}({})},16347:function(e,t,a){a.d(t,{H:()=>n,J:()=>s});let n=function(e){return e.Assesment="ASSESSMENT",e.Consider="CONSIDER",e.DiscardByEmployer="DISCARD_BY_EMPLOYER",e.DiscardByApplicant="DISCARD_BY_APPLICANT",e.DiscardNoInteraction="DISCARD_NO_INTERACTION",e.DiscardToOtherVacancy="DISCARD_TO_OTHER_VACANCY",e.DiscardVacancyClosed="DISCARD_VACANCY_CLOSED",e.Hired="HIRED",e.Interview="INTERVIEW",e.Offer="OFFER",e.PhoneInterview="PHONE_INTERVIEW",e.Response="RESPONSE",e}({}),s=function(e){return e.Response="RESPONSE",e.Invitation="INVITATION",e.Discard="DISCARD",e.Interview="INTERVIEW",e.Hired="HIRED",e}({})},43034:function(e,t,a){a.d(t,{ZP:()=>r,a_:()=>i});var n=a(83307);const s=(0,n.createSlice)({name:"similarCounters",initialState:{byVacancy:{},byResume:{}},reducers:{addCounters:{reducer:(e,t)=>{const{data:a,vacancyId:n,resumeId:s}=t.payload;a&&n&&(e.byVacancy[n]=a.byVacancy),a&&s&&(e.byResume[s]=a.byResume)},prepare:(e,t={})=>({payload:{data:e,...t}})}}}),{addCounters:i}=s.actions,r=s.reducer},20046:function(e,t,a){a.d(t,{D:()=>s,Z:()=>i});var n=a(30329);let s=function(e){return e.RU="hh.ru",e.UA="hh.ua",e.UZ="hh.uz",e.GE="headhunter.ge",e.KG="headhunter.kg",e.KZ="headhunter.com.kz",e.AZ="jobs.day.az",e.BY="rabota.by",e.ZP="zarplata.ru",e}({});const i=(0,n.autoGeneratedReducer)("")},63141:function(e,t,a){a.d(t,{qU:()=>b,fV:()=>x,j2:()=>f,W$:()=>y});var n=a(72045),s=a(91263),i=a.n(s),r=a(23982),o=a(25833),l=a(81764);var c=a(21440);const d=async(e,t,a)=>{const n=new FormData;n.append("file",t);return(await c.Z.post("/chatik/api/upload_file",n,{params:{upload_id:e,filename:t.name},retry:!0,onUploadProgress:a})).data};var u=a(44820),h=a(68895);const p=(e,t)=>new Promise((a=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{const e=new Image;e.onload=()=>{const[s,i]=t;e.width>=s||e.height>=i?a({content:"",width:0,height:0}):a({content:n.result,width:e.width,height:e.height})},e.src=n.result},n.onerror=()=>{a({content:"",width:0,height:0})}}));var m=a(73956),v=a(44036);const g=({chatId:e,file:t})=>({type:m.Rg,chatId:e,file:t}),y=({chatId:e,fileId:t})=>({type:m.qh,chatId:e,fileId:t}),f=e=>({type:m.x_,chatId:e}),w=async(e,t,a,n,s)=>{try{const i=s.features[o.A.ImageMaxWidthForPreview]||8e3,c=s.features[o.A.ImageMaxHeightForPreview]||8e3,u=(0,r.P)((({total:t,loaded:a})=>n((({fileId:e,progress:t})=>({type:m.Gf,fileId:e,progress:t}))({fileId:e,progress:{total:t,loaded:a}}))),1e3),[v,y]=await Promise.all([d(e,a,u),(0,h.C)(a)?p(a,[i,c]):void 0]);if("ok"!==v.status)throw new Error("File upload error");return null!=y&&y.content&&n((({uploadId:e,preview:t})=>({type:l.l,uploadId:e,preview:t}))({uploadId:v.uploadId,preview:y})),n(g({chatId:t,file:{id:v.id,url:v.url,uploadId:v.uploadId,isLoading:!1,isError:!1}})),!0}catch(a){return n(g({chatId:t,file:{id:e,isError:!0,isLoading:!1}})),!1}},x=(e,t,a)=>(s,r)=>{const o=new Map,l=t.map((e=>{const t=(0,n.Z)();return o.set(e,t),{id:t,file:e,isLoading:!0,isError:!1}}));s((({chatId:e,files:t})=>({type:m.d3,chatId:e,files:t}))({chatId:e,files:l}));const c=r();t.forEach((n=>{const r=o.get(n);w(r,e,n,s,c).then((s=>{i()({chatId:e,filename:n.name,fileSize:(0,u.Z)(n.size),fileCount:t.length,loadType:a,alert:s?"":"network_error"})}))}))},b=(e,t)=>(a,n)=>{var s;const i=n(),r=(null!==(s=(0,v.S3)(e)(i))&&void 0!==s?s:[]).find((({id:e})=>e===t));r&&(a(g({chatId:e,file:{id:t,isError:!1,isLoading:!0}})),w(t,e,r.file,a,i))}},73956:function(e,t,a){a.d(t,{Gf:()=>o,Rg:()=>i,d3:()=>n,qh:()=>s,x_:()=>r});const n="ADD_FILES",s="REMOVE_FILE",i="UPDATE_FILE",r="RESET_FILES",o="UPDATE_UPLOADING_PROGRESSS"},44036:function(e,t,a){a.d(t,{S3:()=>s,Xi:()=>r,qE:()=>i});var n=a(83307);const s=e=>t=>t.uploadedFiles.files[e],i=e=>t=>t.uploadedFiles.uploadingProgress[e],r=(0,n.createSelector)([e=>e.uploadedFiles.files,({chatData:e})=>{var t;return null==e||null===(t=e.chat)||void 0===t?void 0:t.id}],((e,t)=>{var a;return Boolean(null==e||null===(a=e[t])||void 0===a?void 0:a.length)}))},81764:function(e,t,a){a.d(t,{l:()=>n});const n="SET_IMAGE_PREVIEW"},96990:function(e,t,a){a.d(t,{h:()=>s,y:()=>n});const n=e=>e.uploadedFilesPreview,s=e=>t=>{var a;return e?null===(a=t.uploadedFilesPreview)||void 0===a?void 0:a[e]:void 0}},68390:function(e,t,a){a.d(t,{Z:()=>s});var n=function(e){return e.Anonymous="anonymous",e.NedoUser="nedouser",e.BackOffice="back_office_user",e.Employer="employer",e.Applicant="applicant",e}(n||{});const s=n},88915:function(e,t,a){a.d(t,{Z:()=>i});var n=a(10900),s=a(21440);const i=(e,t={})=>s.Z.get("/chatik/api/chat_data",{params:e,...t}).then((({data:e})=>{if("object"!=typeof e||!e){const t=new Error("Invalid chat data received");return n.c.log("out",t,{data:e}),null}return e})).catch((t=>{if(t.response&&404===t.response.status)return{error:{code:"NOT_FOUND",chatId:e.chatId}};throw t}))},59430:function(e,t,a){a.d(t,{Z:()=>i});var n=a(10900),s=a(21440);const i=(e,t={})=>s.Z.get("/chatik/api/chats",{params:e,...t}).then((({data:e})=>{if("object"!=typeof e){const t=new Error("Invalid chats data received");return n.c.log("out",t,{data:e}),null}return e}))},6745:function(e,t,a){a.d(t,{C1:()=>i,L5:()=>s,aE:()=>o,ox:()=>c,wO:()=>l});var n=a(91809);const s=5,i=20,r=1024*i*1024,o={"application/msword":1,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":1,"application/pdf":1,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":1,"application/vnd.ms-excel":1,"application/vnd.ms-powerpoint":1,"application/vnd.openxmlformats-officedocument.presentationml.presentation":1,"application/rtf":1,"image/jpeg":1,"image/png":1,"image/heic":1,"image/bmp":1,"text/plain":1},l={".pbix":1},c=(e,t=0)=>{const a=[],i={size:[],type:[],count:[]};return e.every(((c,d)=>{const{ext:u}=(0,n.Z)(c.name);return c.size>r?(i.size.push(c),!0):o[c.type]||l[u]?a.length+t>=s?(i.count=e.slice(d),!1):(a.push(c),!0):(i.type.push(c),!0)})),{validFiles:a,errors:i}}},17223:function(e,t,a){a.d(t,{H4:()=>c,LB:()=>o,ag:()=>d,fl:()=>u,i3:()=>i,ni:()=>l,yG:()=>r});var n=a(91010),s=a(68390);const i="chat",r="https://yandex.ru/maps/",o=({siteRoot:e,userType:t,resumeHash:a,negotiationTopic:r,light:o,hhtmFrom:l,hhtmFromLabel:c})=>{const d=(0,n.j)(`${e}/resume/${a}`);return d.params={hhtmFrom:l||i},c&&(d.params.hhtmFromLabel=c),r&&t===s.Z.Employer&&(d.params.vacancyId=r.vacancyId,d.params.resumeId=r.resumeId,d.params.t=r.topicId),o&&(d.params.print=!0,d.params.hideLogo=!0,d.params.hideSettings=!0),d.href},l=e=>{const t=(0,n.j)(e);return t.params.hhtmFrom=i,t.href},c=(e,t)=>t?l(`${e}/employer/vacancy/edit/${t.vacancyId}`):"",d=(e,t)=>t?l(`${e}/employer/${t}`):"",u=(e,t)=>{try{const a=new URL(e);return Object.keys(t).forEach((e=>{a.searchParams.set(e,t[e])})),a.toString()}catch{return e}}},89016:function(e,t,a){a.d(t,{Z:()=>i});var n=function(e){return e[e.ONE=0]="ONE",e[e.SOME=1]="SOME",e[e.MANY=2]="MANY",e}(n||{});const s=[n.MANY,n.ONE,n.SOME,n.SOME,n.SOME,n.MANY],i=(e,t)=>{const a=e%100;return a>10&&a<15?t[n.MANY]:t[s[Math.min(e%10,5)]]}},36788:function(e,t,a){a.d(t,{Z:()=>o});var n=a(59617),s=a(20937),i=a(68921),r=a(89059);const o=(0,i.D)((()=>{s.I.connected||(r.vK?(0,r.AW)("updateCounter"):(0,n.k)())}),1e3)},89059:function(e,t,a){a.d(t,{AW:()=>c,A2:()=>u,vK:()=>s,Ld:()=>r});const n=["hh.ru","hh.kz","hh.uz","hh1.az","rabota.by","headhunter.ge","headhunter.kg","zarplata.ru","pyn.ru","talantix.ru"];const s="undefined"!=typeof window&&window.top!==window,i=new class{subscribers=new Map;isListening=!1;messageToSendQueue=[];constructor(e,t){this.isActive=e,this._origin=t}get origin(){return this._origin}set origin(e){this._origin=e,this._origin&&this.flushQueue()}parseMessage=e=>{if(!e.data||"undefined"===e.data)return null;if("object"==typeof e.data)return e.data;let t;try{t=JSON.parse(e.data)}catch(e){return null}return t};handleMessage=e=>{const t=this.parseMessage(e);if(!t)return;const{name:a,data:n}=t,s=this.subscribers.get(a);null==s||s.forEach((({handler:t,force:a})=>{this._origin&&e.origin!==this._origin&&!a||t(n,e)}))};remove(e,t){const a=this.subscribers.get(e);if(a){for(const e of a)if(e.handler===t){a.delete(e);break}0===a.size&&this.subscribers.delete(e),this.cleanupIfEmpty()}}cleanupIfEmpty(){0===this.subscribers.size&&this.isListening&&(window.removeEventListener("message",this.handleMessage),this.isListening=!1)}on(e,t,a=!1){return a||this.isActive?(this.isListening||(window.addEventListener("message",this.handleMessage),this.isListening=!0),this.subscribers.has(e)||this.subscribers.set(e,new Set),this.subscribers.get(e).add({handler:t,force:a}),()=>this.remove(e,t)):()=>{}}once(e,t,a=!1){if(!a&&!this.isActive)return()=>{};const n=(a,s)=>{t(a,s),this.remove(e,n)};return this.on(e,n,a)}unsubscribeAll(){this.subscribers.clear(),this.cleanupIfEmpty()}send(e,t,a){var n;if(!this.isActive&&!a)return;const s=JSON.stringify({name:e,data:t});this._origin||a?null===(n=window.top)||void 0===n||n.postMessage(s,this._origin||"*"):this.messageToSendQueue.push(s)}flushQueue(){this._origin&&(this.messageToSendQueue.forEach((e=>{var t;return null===(t=window.top)||void 0===t?void 0:t.postMessage(e,this._origin)})),this.messageToSendQueue=[])}}(s),r=i.on.bind(i),o=i.once.bind(i),l=i.unsubscribeAll.bind(i),c=i.send.bind(i),d=(e,t)=>{n.find((e=>t.origin.endsWith(e)))&&(i.origin=t.origin,c("ready"),c("@@debug/inited",{requestId:window.globalServiceVars.chatik.requestId}))},u=()=>!s||i.origin?()=>{}:(c("awaitingInit",void 0,!0),o("init",d),()=>{l()})},21438:function(e,t,a){a.d(t,{Z:()=>o});var n=a(45150),s=a(92705),i=a(4201);const r=()=>(0,i.jsx)("div",{className:s.Z.dialogSplashScreen,children:(0,i.jsx)(n.a,{size:24})});r.displayName="Chat/components/Loader/Loader";const o=r},70249:function(e,t,a){a.d(t,{Z:()=>l});var n=a(53744),s=a(21438),i=a(4201),r=a.n(i);const o={fallback:(0,i.jsx)(s.Z,{}),displayName:"pages/Chat/index/NoName"},l=(0,n.ZP)({resolved:{},chunkName:()=>"ChatPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Promise.all([a.e("7018"),a.e("3551")]).then(a.bind(a,25179)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return 25179}},o)},39012:function(e,t,a){a.d(t,{Z:()=>l});var n=a(53744),s=a(21438),i=a(4201),r=a.n(i);const o={fallback:(0,i.jsx)(s.Z,{}),displayName:"pages/ChatParticipants/index/NoName"},l=(0,n.ZP)({resolved:{},chunkName:()=>"ChatParticipantsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>Promise.all([a.e("7018"),a.e("7817")]).then(a.bind(a,93815)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return 93815}},o)},28691:function(e,t,a){a.d(t,{Z:()=>s});var n=a(53744);const s=(0,n.ZP)({resolved:{},chunkName:()=>"MainPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("1045").then(a.bind(a,28062)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return 28062}})},74566:function(e,t,a){a.d(t,{Z:()=>s});var n=a(53744);const s=(0,n.ZP)({resolved:{},chunkName:()=>"NotFound",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("152").then(a.bind(a,52156)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return 52156}})},96100:function(e,t,a){a.d(t,{Z:()=>s});var n=a(53744);const s=(0,n.ZP)({resolved:{},chunkName:()=>"SupportChatPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("5613").then(a.bind(a,33984)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return 33984}})},35523:function(e,t,a){a.d(t,{Z:()=>s});var n=a(53744);const s=(0,n.ZP)({resolved:{},chunkName:()=>"WorkflowPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:()=>a.e("8589").then(a.bind(a,8430)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return a(t)},resolve(){return 8430}})},67073:function(e,t,a){a.d(t,{H:()=>r,b:()=>i});var n=a(73797),s=a(89059);const i=e=>{return e!==n.x.Chat&&e!==n.x.List||s.vK?e:"undefined"!=typeof window&&null!==(t=window.location.host)&&void 0!==t&&t.startsWith("chatik")?`${e}_page`:`${e}_hh_page`;var t},r=()=>i(n.x.Chat)},54059:function(e,t,a){a.d(t,{Z:()=>i});var n=a(90634),s=a(1677);const i=({isThirdColumnShown:e,isSpoiler:t,isInlineChat:a}={})=>{if(a)return"inlineChat";if(t)return"spoiler";const i=n.L.get("device_magritte_breakpoint");return e&&[s.Uo.L,s.Uo.XL,s.Uo.XXL].includes(i)?["list","chat","resume"]:[s.Uo.XS,s.Uo.S].includes(i)?"chat":["list","chat"]}},76679:function(e,t,a){a.d(t,{Z:()=>o});var n=a(73797),s=a(29801),i=a(54059);const r=e=>e.isSpoiler?"spoiler":e.isInlineChat?"inlineChat":e.router.location.query.hhtmFromLabel||window.globalServiceVars.chatik.analyticsParams.hhtmFromLabel||"chat_list",o=({routeName:e,state:t,chatId:a,...o})=>{const l={width:window.innerWidth,height:window.innerHeight};if(e===n.x.Chat){var c;const{chatStates:{writeMessageState:{allowed:e,reason:n}},chat:d}=t.chatData,u=e?s.R.Allowed:n||s.R.Unknown;return{...l,layout:(0,i.Z)({isSpoiler:t.isSpoiler,isInlineChat:t.isInlineChat,isThirdColumnShown:t.isThirdColumnShown}),chatId:a,writeMessageState:u,unreadMessageCount:(null==d?void 0:d.unreadCount)||0,hhtmFrom:window.globalServiceVars.chatik.analyticsParams.hhtmFrom||void 0,hhtmFromLabel:r(t),chat_type:null==d?void 0:d.type,chat_subtype:null==d?void 0:d.subType,search_text:(null===(c=t.search)||void 0===c||null===(c=c.query)||void 0===c?void 0:c.trim())||void 0,...o}}if(e===n.x.List){const e=t.chats.chats.items,a=e.filter((({unreadCount:e})=>Boolean(e))).length;return{...l,layout:["list"],chatCount:e.length,hhtmFrom:window.globalServiceVars.chatik.analyticsParams.hhtmFrom||void 0,hhtmFromLabel:window.globalServiceVars.chatik.analyticsParams.hhtmFromLabel||void 0,unreadChatCount:a}}return l}},67833:function(e,t,a){a.d(t,{Z:()=>s});var n=a(24488);const s=e=>{n.default.sendHHEvent("screen_shown",e),setTimeout((()=>window.globalServiceVars.chatik.analyticsParams.hhtmFromLabel=""),300)}},44820:function(e,t,a){a.d(t,{Z:()=>n});const n=e=>e/1048576},68895:function(e,t,a){a.d(t,{C:()=>s,t:()=>n});const n=e=>!!e&&e.startsWith("image/"),s=e=>n(e.type)},80426:function(e,t,a){a.d(t,{a:()=>s});var n=a(68390);const s=(e,t,a)=>"SUPPORT"===t?"circle":"BOT"===t||"marketplace"===a?"square":e===n.Z.Applicant?"circle":"square"},58086:function(e,t,a){a.d(t,{$r:()=>o,Dp:()=>l,O8:()=>r});var n=a(313),s=a(12274),i=a(23855);const r=3;let o=function(e){return e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e.UNKNOWN="UNKNOWN",e}({});const l=e=>{const t=(0,i.Z)(e);return(0,s.Z)(t)?(0,n.Z)(new Date,t)?o.ONLINE:o.OFFLINE:o.UNKNOWN}},65665:function(e,t,a){a.d(t,{a:()=>n});const n=()=>"chatik_messages_scroller"},26825:function(e,t,a){a.d(t,{$:()=>n});const n=e=>{if(!e)return"";const t=e=>1===e.length,[a="",n=""]=e.split(" ");return`${[...a].find(t)||""}${[...n].find(t)||""}`.toUpperCase()}},39248:function(e,t,a){a.d(t,{Z:()=>n});const n=()=>"undefined"!=typeof window?window.globalServiceVars.chatik.userType:void 0},61403:function(e,t,a){a.d(t,{Z:()=>n});const n=(e,t,a=0)=>{const n=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=n.top>=s.top+a&&n.top<=s.bottom-a,r=n.bottom>=s.top+a&&n.bottom<=s.bottom-a;return i||r}},91013:function(e,t,a){a.d(t,{C:()=>i});var n=a(98803);const s=/\.(\w+)(https?)$/,i=e=>{const t=(e=>n.ZP.parse(e,{phone:!1,email:!1}))(e);if(null==t||!t.length)return null;const[a]=t,r=a.getAnchorHref(),o=a.getMatchedText(),l=a.getOffset()+o.length,c=s.test(r),d=r.includes("."),u=o.includes("://");return!c&&d&&u?r:i(e.slice(l))}},9362:function(e,t,a){a.d(t,{Z:()=>n});const n=e=>{try{e.endsWith("?")&&(e=e.slice(0,-1));const t=new URL(e);t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1));const a=[...t.searchParams.entries()].sort();return t.search="",a.forEach((([e,a])=>{t.searchParams.append(e,a)})),t.hash="",t.toString()}catch(t){return e}}},85767:function(e,t,a){a.d(t,{I:()=>n,Z:()=>s});const n=50,s=(e,t="smooth")=>{Math.abs(e.scrollTop-(e.scrollHeight-e.offsetHeight))<n||(e.style.scrollBehavior=t,requestAnimationFrame((()=>{e.scrollTo(0,e.scrollHeight),e.style.scrollBehavior=""})))}},91809:function(e,t,a){a.d(t,{Z:()=>s});const n=/(?:\.([^.]+))?$/,s=e=>{var t;if(e&&e.startsWith(".")&&2===e.split(".").length)return{ext:"",name:e};const a=(null===(t=n.exec(e))||void 0===t?void 0:t[0])||"";return{ext:a,name:a?e.slice(0,-a.length):e}}}}]);
//# sourceMappingURL=5005.0c313efd028f08a4.js.map